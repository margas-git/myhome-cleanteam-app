var ll=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var D=(e,t,n)=>(ll(e,t,"read from private field"),n?n.call(e):t.get(e)),le=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},re=(e,t,n,r)=>(ll(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var ho=(e,t,n,r)=>({set _(o){re(e,t,o,n)},get _(){return D(e,t,r)}}),Pe=(e,t,n)=>(ll(e,t,"access private method"),n);function U0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Tf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rf={exports:{}},Oi={},Pf={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),V0=Symbol.for("react.portal"),Q0=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),G0=Symbol.for("react.profiler"),q0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),Z0=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),yu=Symbol.iterator;function tg(e){return e===null||typeof e!="object"?null:(e=yu&&e[yu]||e["@@iterator"],typeof e=="function"?e:null)}var Af={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Of=Object.assign,Ff={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=Ff,this.updater=n||Af}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Df(){}Df.prototype=Zr.prototype;function oc(e,t,n){this.props=e,this.context=t,this.refs=Ff,this.updater=n||Af}var ic=oc.prototype=new Df;ic.constructor=oc;Of(ic,Zr.prototype);ic.isPureReactComponent=!0;var wu=Array.isArray,If=Object.prototype.hasOwnProperty,lc={current:null},_f={key:!0,ref:!0,__self:!0,__source:!0};function zf(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)If.call(t,r)&&!_f.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:so,type:e,key:i,ref:l,props:o,_owner:lc.current}}function ng(e,t){return{$$typeof:so,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===so}function rg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bu=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rg(""+e.key):t.toString(36)}function $o(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case so:case V0:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+al(l,0):r,wu(o)?(n="",e!=null&&(n=e.replace(bu,"$&/")+"/"),$o(o,t,n,"",function(u){return u})):o!=null&&(ac(o)&&(o=ng(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(bu,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",wu(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+al(i,a);l+=$o(i,t,n,c,o)}else if(c=tg(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+al(i,a++),l+=$o(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function po(e,t,n){if(e==null)return e;var r=[],o=0;return $o(e,r,"","",function(i){return t.call(n,i,o++)}),r}function sg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},Wo={transition:null},og={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:lc};function Bf(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:po,forEach:function(e,t,n){po(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return po(e,function(){t++}),t},toArray:function(e){return po(e,function(t){return t})||[]},only:function(e){if(!ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Zr;oe.Fragment=Q0;oe.Profiler=G0;oe.PureComponent=oc;oe.StrictMode=K0;oe.Suspense=J0;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;oe.act=Bf;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Of({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=lc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)If.call(t,c)&&!_f.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:so,type:e.type,key:o,ref:i,props:r,_owner:l}};oe.createContext=function(e){return e={$$typeof:Y0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:q0,_context:e},e.Consumer=e};oe.createElement=zf;oe.createFactory=function(e){var t=zf.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:X0,render:e}};oe.isValidElement=ac;oe.lazy=function(e){return{$$typeof:eg,_payload:{_status:-1,_result:e},_init:sg}};oe.memo=function(e,t){return{$$typeof:Z0,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Wo.transition;Wo.transition={};try{e()}finally{Wo.transition=t}};oe.unstable_act=Bf;oe.useCallback=function(e,t){return We.current.useCallback(e,t)};oe.useContext=function(e){return We.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return We.current.useDeferredValue(e)};oe.useEffect=function(e,t){return We.current.useEffect(e,t)};oe.useId=function(){return We.current.useId()};oe.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return We.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};oe.useRef=function(e){return We.current.useRef(e)};oe.useState=function(e){return We.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return We.current.useTransition()};oe.version="18.3.1";Pf.exports=oe;var m=Pf.exports;const it=Tf(m),cc=U0({__proto__:null,default:it},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=m,lg=Symbol.for("react.element"),ag=Symbol.for("react.fragment"),cg=Object.prototype.hasOwnProperty,ug=ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dg={key:!0,ref:!0,__self:!0,__source:!0};function $f(e,t,n){var r,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)cg.call(t,r)&&!dg.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:lg,type:e,key:i,ref:l,props:o,_owner:ug.current}}Oi.Fragment=ag;Oi.jsx=$f;Oi.jsxs=$f;Rf.exports=Oi;var s=Rf.exports,Gl={},Wf={exports:{}},nt={},Hf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,T){var z=S.length;S.push(T);e:for(;0<z;){var Q=z-1>>>1,X=S[Q];if(0<o(X,T))S[Q]=T,S[z]=X,z=Q;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var T=S[0],z=S.pop();if(z!==T){S[0]=z;e:for(var Q=0,X=S.length,F=X>>>1;Q<F;){var H=2*(Q+1)-1,K=S[H],J=H+1,B=S[J];if(0>o(K,z))J<X&&0>o(B,K)?(S[Q]=B,S[J]=z,Q=J):(S[Q]=K,S[H]=z,Q=H);else if(J<X&&0>o(B,z))S[Q]=B,S[J]=z,Q=J;else break e}}return T}function o(S,T){var z=S.sortIndex-T.sortIndex;return z!==0?z:S.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var c=[],u=[],h=1,p=null,f=3,b=!1,y=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(S){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=S)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function N(S){if(g=!1,x(S),!y)if(n(c)!==null)y=!0,C(w);else{var T=n(u);T!==null&&O(N,T.startTime-S)}}function w(S,T){y=!1,g&&(g=!1,v(E),E=-1),b=!0;var z=f;try{for(x(T),p=n(c);p!==null&&(!(p.expirationTime>T)||S&&!P());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,f=p.priorityLevel;var X=Q(p.expirationTime<=T);T=e.unstable_now(),typeof X=="function"?p.callback=X:p===n(c)&&r(c),x(T)}else r(c);p=n(c)}if(p!==null)var F=!0;else{var H=n(u);H!==null&&O(N,H.startTime-T),F=!1}return F}finally{p=null,f=z,b=!1}}var L=!1,j=null,E=-1,I=5,_=-1;function P(){return!(e.unstable_now()-_<I)}function U(){if(j!==null){var S=e.unstable_now();_=S;var T=!0;try{T=j(!0,S)}finally{T?M():(L=!1,j=null)}}else L=!1}var M;if(typeof d=="function")M=function(){d(U)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,V=A.port2;A.port1.onmessage=U,M=function(){V.postMessage(null)}}else M=function(){k(U,0)};function C(S){j=S,L||(L=!0,M())}function O(S,T){E=k(function(){S(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){y||b||(y=!0,C(w))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var z=f;f=T;try{return S()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var z=f;f=S;try{return T()}finally{f=z}},e.unstable_scheduleCallback=function(S,T,z){var Q=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,S){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,S={id:h++,callback:T,priorityLevel:S,startTime:z,expirationTime:X,sortIndex:-1},z>Q?(S.sortIndex=z,t(u,S),n(c)===null&&S===n(u)&&(g?(v(E),E=-1):g=!0,O(N,z-Q))):(S.sortIndex=X,t(c,S),y||b||(y=!0,C(w))),S},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(S){var T=f;return function(){var z=f;f=T;try{return S.apply(this,arguments)}finally{f=z}}}})(Uf);Hf.exports=Uf;var fg=Hf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=m,tt=fg;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vf=new Set,Fs={};function cr(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(Fs[e]=t,e=0;e<t.length;e++)Vf.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ql=Object.prototype.hasOwnProperty,hg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ju={},ku={};function pg(e){return ql.call(ku,e)?!0:ql.call(ju,e)?!1:hg.test(e)?ku[e]=!0:(ju[e]=!0,!1)}function gg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xg(e,t,n,r){if(t===null||typeof t>"u"||gg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var uc=/[\-:]([a-z])/g;function dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uc,dc);Te[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uc,dc);Te[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uc,dc);Te[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function fc(e,t,n,r){var o=Te.hasOwnProperty(t)?Te[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xg(t,n,o,r)&&(n=null),r||o===null?pg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rn=mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),gr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),Qf=Symbol.for("react.provider"),Kf=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Gf=Symbol.for("react.offscreen"),Nu=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=Nu&&e[Nu]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,cl;function bs(e){if(cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var ul=!1;function dl(e,t){if(!e||ul)return"";ul=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,a=i.length-1;1<=l&&0<=a&&o[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(o[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||o[l]!==i[a]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=a);break}}}finally{ul=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bs(e):""}function vg(e){switch(e.tag){case 5:return bs(e.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return e=dl(e.type,!1),e;case 11:return e=dl(e.type.render,!1),e;case 1:return e=dl(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xr:return"Fragment";case gr:return"Portal";case Yl:return"Profiler";case mc:return"StrictMode";case Xl:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kf:return(e.displayName||"Context")+".Consumer";case Qf:return(e._context.displayName||"Context")+".Provider";case hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pc:return t=e.displayName||null,t!==null?t:Zl(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return Zl(e(t))}catch{}}return null}function yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(t);case 8:return t===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wg(e){var t=qf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xo(e){e._valueTracker||(e._valueTracker=wg(e))}function Yf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ea(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Su(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xf(e,t){t=t.checked,t!=null&&fc(e,"checked",t,!1)}function ta(e,t){Xf(e,t);var n=Ln(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?na(e,t.type,n):t.hasOwnProperty("defaultValue")&&na(e,t.type,Ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function na(e,t,n){(t!=="number"||ni(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var js=Array.isArray;function Lr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ln(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(js(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ln(n)}}function Jf(e,t){var n=Ln(t.value),r=Ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vo,em=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bg=["Webkit","ms","Moz","O"];Object.keys(Cs).forEach(function(e){bg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cs[t]=Cs[e]})});function tm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cs.hasOwnProperty(e)&&Cs[e]?(""+t).trim():t+"px"}function nm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=tm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var jg=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(e,t){if(t){if(jg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var la=null;function gc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,Mr=null,Tr=null;function Mu(e){if(e=lo(e)){if(typeof aa!="function")throw Error($(280));var t=e.stateNode;t&&(t=zi(t),aa(e.stateNode,e.type,t))}}function rm(e){Mr?Tr?Tr.push(e):Tr=[e]:Mr=e}function sm(){if(Mr){var e=Mr,t=Tr;if(Tr=Mr=null,Mu(e),t)for(e=0;e<t.length;e++)Mu(t[e])}}function om(e,t){return e(t)}function im(){}var fl=!1;function lm(e,t,n){if(fl)return e(t,n);fl=!0;try{return om(e,t,n)}finally{fl=!1,(Mr!==null||Tr!==null)&&(im(),sm())}}function Is(e,t){var n=e.stateNode;if(n===null)return null;var r=zi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var ca=!1;if(Yt)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){ca=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{ca=!1}function kg(e,t,n,r,o,i,l,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Es=!1,ri=null,si=!1,ua=null,Ng={onError:function(e){Es=!0,ri=e}};function Sg(e,t,n,r,o,i,l,a,c){Es=!1,ri=null,kg.apply(Ng,arguments)}function Cg(e,t,n,r,o,i,l,a,c){if(Sg.apply(this,arguments),Es){if(Es){var u=ri;Es=!1,ri=null}else throw Error($(198));si||(si=!0,ua=u)}}function ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function am(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tu(e){if(ur(e)!==e)throw Error($(188))}function Eg(e){var t=e.alternate;if(!t){if(t=ur(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Tu(o),e;if(i===r)return Tu(o),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,a=o.child;a;){if(a===n){l=!0,n=o,r=i;break}if(a===r){l=!0,r=o,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=o;break}if(a===r){l=!0,r=i,n=o;break}a=a.sibling}if(!l)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function cm(e){return e=Eg(e),e!==null?um(e):null}function um(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=um(e);if(t!==null)return t;e=e.sibling}return null}var dm=tt.unstable_scheduleCallback,Ru=tt.unstable_cancelCallback,Lg=tt.unstable_shouldYield,Mg=tt.unstable_requestPaint,ve=tt.unstable_now,Tg=tt.unstable_getCurrentPriorityLevel,xc=tt.unstable_ImmediatePriority,fm=tt.unstable_UserBlockingPriority,oi=tt.unstable_NormalPriority,Rg=tt.unstable_LowPriority,mm=tt.unstable_IdlePriority,Fi=null,Dt=null;function Pg(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Fi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Fg,Ag=Math.log,Og=Math.LN2;function Fg(e){return e>>>=0,e===0?32:31-(Ag(e)/Og|0)|0}var yo=64,wo=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ii(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var a=l&~o;a!==0?r=ks(a):(i&=l,i!==0&&(r=ks(i)))}else l=n&~o,l!==0?r=ks(l):i!==0&&(r=ks(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),o=1<<n,r|=e[n],t&=~o;return r}function Dg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ig(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-jt(i),a=1<<l,c=o[l];c===-1?(!(a&n)||a&r)&&(o[l]=Dg(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hm(){var e=yo;return yo<<=1,!(yo&4194240)&&(yo=64),e}function ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function _g(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-jt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function vc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ae=0;function pm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gm,yc,xm,vm,ym,fa=!1,bo=[],wn=null,bn=null,jn=null,_s=new Map,zs=new Map,dn=[],zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function hs(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=lo(t),t!==null&&yc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Bg(e,t,n,r,o){switch(t){case"focusin":return wn=hs(wn,e,t,n,r,o),!0;case"dragenter":return bn=hs(bn,e,t,n,r,o),!0;case"mouseover":return jn=hs(jn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return _s.set(i,hs(_s.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,zs.set(i,hs(zs.get(i)||null,e,t,n,r,o)),!0}return!1}function wm(e){var t=Wn(e.target);if(t!==null){var n=ur(t);if(n!==null){if(t=n.tag,t===13){if(t=am(n),t!==null){e.blockedOn=t,ym(e.priority,function(){xm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ma(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);la=r,n.target.dispatchEvent(r),la=null}else return t=lo(n),t!==null&&yc(t),e.blockedOn=n,!1;t.shift()}return!0}function Au(e,t,n){Ho(e)&&n.delete(t)}function $g(){fa=!1,wn!==null&&Ho(wn)&&(wn=null),bn!==null&&Ho(bn)&&(bn=null),jn!==null&&Ho(jn)&&(jn=null),_s.forEach(Au),zs.forEach(Au)}function ps(e,t){e.blockedOn===t&&(e.blockedOn=null,fa||(fa=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,$g)))}function Bs(e){function t(o){return ps(o,e)}if(0<bo.length){ps(bo[0],e);for(var n=1;n<bo.length;n++){var r=bo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&ps(wn,e),bn!==null&&ps(bn,e),jn!==null&&ps(jn,e),_s.forEach(t),zs.forEach(t),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)wm(n),n.blockedOn===null&&dn.shift()}var Rr=rn.ReactCurrentBatchConfig,li=!0;function Wg(e,t,n,r){var o=ae,i=Rr.transition;Rr.transition=null;try{ae=1,wc(e,t,n,r)}finally{ae=o,Rr.transition=i}}function Hg(e,t,n,r){var o=ae,i=Rr.transition;Rr.transition=null;try{ae=4,wc(e,t,n,r)}finally{ae=o,Rr.transition=i}}function wc(e,t,n,r){if(li){var o=ma(e,t,n,r);if(o===null)kl(e,t,r,ai,n),Pu(e,r);else if(Bg(o,e,t,n,r))r.stopPropagation();else if(Pu(e,r),t&4&&-1<zg.indexOf(e)){for(;o!==null;){var i=lo(o);if(i!==null&&gm(i),i=ma(e,t,n,r),i===null&&kl(e,t,r,ai,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else kl(e,t,r,null,n)}}var ai=null;function ma(e,t,n,r){if(ai=null,e=gc(r),e=Wn(e),e!==null)if(t=ur(e),t===null)e=null;else if(n=t.tag,n===13){if(e=am(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function bm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tg()){case xc:return 1;case fm:return 4;case oi:case Rg:return 16;case mm:return 536870912;default:return 16}default:return 16}}var vn=null,bc=null,Uo=null;function jm(){if(Uo)return Uo;var e,t=bc,n=t.length,r,o="value"in vn?vn.value:vn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return Uo=o.slice(e,1<r?1-r:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Ou(){return!1}function rt(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:Ou,this.isPropagationStopped=Ou,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=rt(es),io=pe({},es,{view:0,detail:0}),Ug=rt(io),hl,pl,gs,Di=pe({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(hl=e.screenX-gs.screenX,pl=e.screenY-gs.screenY):pl=hl=0,gs=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),Fu=rt(Di),Vg=pe({},Di,{dataTransfer:0}),Qg=rt(Vg),Kg=pe({},io,{relatedTarget:0}),gl=rt(Kg),Gg=pe({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),qg=rt(Gg),Yg=pe({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xg=rt(Yg),Jg=pe({},es,{data:0}),Du=rt(Jg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tx[e])?!!t[e]:!1}function kc(){return nx}var rx=pe({},io,{key:function(e){if(e.key){var t=Zg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ex[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sx=rt(rx),ox=pe({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=rt(ox),ix=pe({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),lx=rt(ix),ax=pe({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),cx=rt(ax),ux=pe({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dx=rt(ux),fx=[9,13,27,32],Nc=Yt&&"CompositionEvent"in window,Ls=null;Yt&&"documentMode"in document&&(Ls=document.documentMode);var mx=Yt&&"TextEvent"in window&&!Ls,km=Yt&&(!Nc||Ls&&8<Ls&&11>=Ls),_u=String.fromCharCode(32),zu=!1;function Nm(e,t){switch(e){case"keyup":return fx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function hx(e,t){switch(e){case"compositionend":return Sm(t);case"keypress":return t.which!==32?null:(zu=!0,_u);case"textInput":return e=t.data,e===_u&&zu?null:e;default:return null}}function px(e,t){if(vr)return e==="compositionend"||!Nc&&Nm(e,t)?(e=jm(),Uo=bc=vn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return km&&t.locale!=="ko"?null:t.data;default:return null}}var gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gx[e.type]:t==="textarea"}function Cm(e,t,n,r){rm(r),t=ci(t,"onChange"),0<t.length&&(n=new jc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ms=null,$s=null;function xx(e){Im(e,0)}function Ii(e){var t=br(e);if(Yf(t))return e}function vx(e,t){if(e==="change")return t}var Em=!1;if(Yt){var xl;if(Yt){var vl="oninput"in document;if(!vl){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),vl=typeof $u.oninput=="function"}xl=vl}else xl=!1;Em=xl&&(!document.documentMode||9<document.documentMode)}function Wu(){Ms&&(Ms.detachEvent("onpropertychange",Lm),$s=Ms=null)}function Lm(e){if(e.propertyName==="value"&&Ii($s)){var t=[];Cm(t,$s,e,gc(e)),lm(xx,t)}}function yx(e,t,n){e==="focusin"?(Wu(),Ms=t,$s=n,Ms.attachEvent("onpropertychange",Lm)):e==="focusout"&&Wu()}function wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii($s)}function bx(e,t){if(e==="click")return Ii(t)}function jx(e,t){if(e==="input"||e==="change")return Ii(t)}function kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:kx;function Ws(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ql.call(t,o)||!St(e[o],t[o]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var n=Hu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hu(n)}}function Mm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tm(){for(var e=window,t=ni();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ni(e.document)}return t}function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nx(e){var t=Tm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mm(n.ownerDocument.documentElement,n)){if(r!==null&&Sc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Uu(n,i);var l=Uu(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sx=Yt&&"documentMode"in document&&11>=document.documentMode,yr=null,ha=null,Ts=null,pa=!1;function Vu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pa||yr==null||yr!==ni(r)||(r=yr,"selectionStart"in r&&Sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&Ws(Ts,r)||(Ts=r,r=ci(ha,"onSelect"),0<r.length&&(t=new jc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function ko(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},yl={},Rm={};Yt&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function _i(e){if(yl[e])return yl[e];if(!wr[e])return e;var t=wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rm)return yl[e]=t[n];return e}var Pm=_i("animationend"),Am=_i("animationiteration"),Om=_i("animationstart"),Fm=_i("transitionend"),Dm=new Map,Qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Dm.set(e,t),cr(t,[e])}for(var wl=0;wl<Qu.length;wl++){var bl=Qu[wl],Cx=bl.toLowerCase(),Ex=bl[0].toUpperCase()+bl.slice(1);Pn(Cx,"on"+Ex)}Pn(Pm,"onAnimationEnd");Pn(Am,"onAnimationIteration");Pn(Om,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Fm,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function Ku(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cg(r,t,void 0,e),e.currentTarget=null}function Im(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;Ku(o,a,u),i=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;Ku(o,a,u),i=c}}}if(si)throw e=ua,si=!1,ua=null,e}function ue(e,t){var n=t[wa];n===void 0&&(n=t[wa]=new Set);var r=e+"__bubble";n.has(r)||(_m(t,e,2,!1),n.add(r))}function jl(e,t,n){var r=0;t&&(r|=4),_m(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[No]){e[No]=!0,Vf.forEach(function(n){n!=="selectionchange"&&(Lx.has(n)||jl(n,!1,e),jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,jl("selectionchange",!1,t))}}function _m(e,t,n,r){switch(bm(t)){case 1:var o=Wg;break;case 4:o=Hg;break;default:o=wc}n=o.bind(null,t,n,e),o=void 0,!ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function kl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;a!==null;){if(l=Wn(a),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}a=a.parentNode}}r=r.return}lm(function(){var u=i,h=gc(n),p=[];e:{var f=Dm.get(e);if(f!==void 0){var b=jc,y=e;switch(e){case"keypress":if(Vo(n)===0)break e;case"keydown":case"keyup":b=sx;break;case"focusin":y="focus",b=gl;break;case"focusout":y="blur",b=gl;break;case"beforeblur":case"afterblur":b=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=lx;break;case Pm:case Am:case Om:b=qg;break;case Fm:b=cx;break;case"scroll":b=Ug;break;case"wheel":b=dx;break;case"copy":case"cut":case"paste":b=Xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Iu}var g=(t&4)!==0,k=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var d=u,x;d!==null;){x=d;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,v!==null&&(N=Is(d,v),N!=null&&g.push(Us(d,N,x)))),k)break;d=d.return}0<g.length&&(f=new b(f,y,null,n,h),p.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",f&&n!==la&&(y=n.relatedTarget||n.fromElement)&&(Wn(y)||y[Xt]))break e;if((b||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,b?(y=n.relatedTarget||n.toElement,b=u,y=y?Wn(y):null,y!==null&&(k=ur(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(b=null,y=u),b!==y)){if(g=Fu,N="onMouseLeave",v="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(g=Iu,N="onPointerLeave",v="onPointerEnter",d="pointer"),k=b==null?f:br(b),x=y==null?f:br(y),f=new g(N,d+"leave",b,n,h),f.target=k,f.relatedTarget=x,N=null,Wn(h)===u&&(g=new g(v,d+"enter",y,n,h),g.target=x,g.relatedTarget=k,N=g),k=N,b&&y)t:{for(g=b,v=y,d=0,x=g;x;x=dr(x))d++;for(x=0,N=v;N;N=dr(N))x++;for(;0<d-x;)g=dr(g),d--;for(;0<x-d;)v=dr(v),x--;for(;d--;){if(g===v||v!==null&&g===v.alternate)break t;g=dr(g),v=dr(v)}g=null}else g=null;b!==null&&Gu(p,f,b,g,!1),y!==null&&k!==null&&Gu(p,k,y,g,!0)}}e:{if(f=u?br(u):window,b=f.nodeName&&f.nodeName.toLowerCase(),b==="select"||b==="input"&&f.type==="file")var w=vx;else if(Bu(f))if(Em)w=jx;else{w=wx;var L=yx}else(b=f.nodeName)&&b.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=bx);if(w&&(w=w(e,u))){Cm(p,w,n,h);break e}L&&L(e,f,u),e==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&na(f,"number",f.value)}switch(L=u?br(u):window,e){case"focusin":(Bu(L)||L.contentEditable==="true")&&(yr=L,ha=u,Ts=null);break;case"focusout":Ts=ha=yr=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,Vu(p,n,h);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":Vu(p,n,h)}var j;if(Nc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vr?Nm(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(km&&n.locale!=="ko"&&(vr||E!=="onCompositionStart"?E==="onCompositionEnd"&&vr&&(j=jm()):(vn=h,bc="value"in vn?vn.value:vn.textContent,vr=!0)),L=ci(u,E),0<L.length&&(E=new Du(E,e,null,n,h),p.push({event:E,listeners:L}),j?E.data=j:(j=Sm(n),j!==null&&(E.data=j)))),(j=mx?hx(e,n):px(e,n))&&(u=ci(u,"onBeforeInput"),0<u.length&&(h=new Du("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=j))}Im(p,t)})}function Us(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ci(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Is(e,n),i!=null&&r.unshift(Us(e,i,o)),i=Is(e,t),i!=null&&r.push(Us(e,i,o))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gu(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Is(n,i),c!=null&&l.unshift(Us(n,c,a))):o||(c=Is(n,i),c!=null&&l.push(Us(n,c,a)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Mx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function qu(e){return(typeof e=="string"?e:""+e).replace(Mx,`
`).replace(Tx,"")}function So(e,t,n){if(t=qu(t),qu(e)!==t&&n)throw Error($(425))}function ui(){}var ga=null,xa=null;function va(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,Rx=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(Ax)}:ya;function Ax(e){setTimeout(function(){throw e})}function Nl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Bs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Bs(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ts=Math.random().toString(36).slice(2),At="__reactFiber$"+ts,Vs="__reactProps$"+ts,Xt="__reactContainer$"+ts,wa="__reactEvents$"+ts,Ox="__reactListeners$"+ts,Fx="__reactHandles$"+ts;function Wn(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xu(e);e!==null;){if(n=e[At])return n;e=Xu(e)}return t}e=n,n=e.parentNode}return null}function lo(e){return e=e[At]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function zi(e){return e[Vs]||null}var ba=[],jr=-1;function An(e){return{current:e}}function de(e){0>jr||(e.current=ba[jr],ba[jr]=null,jr--)}function ce(e,t){jr++,ba[jr]=e.current,e.current=t}var Mn={},Ie=An(Mn),Qe=An(!1),Zn=Mn;function Vr(e,t){var n=e.type.contextTypes;if(!n)return Mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function di(){de(Qe),de(Ie)}function Ju(e,t,n){if(Ie.current!==Mn)throw Error($(168));ce(Ie,t),ce(Qe,n)}function zm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error($(108,yg(e)||"Unknown",o));return pe({},n,r)}function fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,Zn=Ie.current,ce(Ie,e),ce(Qe,Qe.current),!0}function Zu(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=zm(e,t,Zn),r.__reactInternalMemoizedMergedChildContext=e,de(Qe),de(Ie),ce(Ie,e)):de(Qe),ce(Qe,n)}var Vt=null,Bi=!1,Sl=!1;function Bm(e){Vt===null?Vt=[e]:Vt.push(e)}function Dx(e){Bi=!0,Bm(e)}function On(){if(!Sl&&Vt!==null){Sl=!0;var e=0,t=ae;try{var n=Vt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Bi=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),dm(xc,On),o}finally{ae=t,Sl=!1}}return null}var kr=[],Nr=0,mi=null,hi=0,lt=[],at=0,er=null,Kt=1,Gt="";function Bn(e,t){kr[Nr++]=hi,kr[Nr++]=mi,mi=e,hi=t}function $m(e,t,n){lt[at++]=Kt,lt[at++]=Gt,lt[at++]=er,er=e;var r=Kt;e=Gt;var o=32-jt(r)-1;r&=~(1<<o),n+=1;var i=32-jt(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Kt=1<<32-jt(t)+o|n<<o|r,Gt=i+e}else Kt=1<<i|n<<o|r,Gt=e}function Cc(e){e.return!==null&&(Bn(e,1),$m(e,1,0))}function Ec(e){for(;e===mi;)mi=kr[--Nr],kr[Nr]=null,hi=kr[--Nr],kr[Nr]=null;for(;e===er;)er=lt[--at],lt[at]=null,Gt=lt[--at],lt[at]=null,Kt=lt[--at],lt[at]=null}var Ze=null,Je=null,fe=!1,bt=null;function Wm(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ed(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Je=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=er!==null?{id:Kt,overflow:Gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Je=null,!0):!1;default:return!1}}function ja(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ka(e){if(fe){var t=Je;if(t){var n=t;if(!ed(e,t)){if(ja(e))throw Error($(418));t=kn(n.nextSibling);var r=Ze;t&&ed(e,t)?Wm(r,n):(e.flags=e.flags&-4097|2,fe=!1,Ze=e)}}else{if(ja(e))throw Error($(418));e.flags=e.flags&-4097|2,fe=!1,Ze=e}}}function td(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Co(e){if(e!==Ze)return!1;if(!fe)return td(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!va(e.type,e.memoizedProps)),t&&(t=Je)){if(ja(e))throw Hm(),Error($(418));for(;t;)Wm(e,t),t=kn(t.nextSibling)}if(td(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Ze?kn(e.stateNode.nextSibling):null;return!0}function Hm(){for(var e=Je;e;)e=kn(e.nextSibling)}function Qr(){Je=Ze=null,fe=!1}function Lc(e){bt===null?bt=[e]:bt.push(e)}var Ix=rn.ReactCurrentBatchConfig;function xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var a=o.refs;l===null?delete a[i]:a[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nd(e){var t=e._init;return t(e._payload)}function Um(e){function t(v,d){if(e){var x=v.deletions;x===null?(v.deletions=[d],v.flags|=16):x.push(d)}}function n(v,d){if(!e)return null;for(;d!==null;)t(v,d),d=d.sibling;return null}function r(v,d){for(v=new Map;d!==null;)d.key!==null?v.set(d.key,d):v.set(d.index,d),d=d.sibling;return v}function o(v,d){return v=En(v,d),v.index=0,v.sibling=null,v}function i(v,d,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<d?(v.flags|=2,d):x):(v.flags|=2,d)):(v.flags|=1048576,d)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,d,x,N){return d===null||d.tag!==6?(d=Pl(x,v.mode,N),d.return=v,d):(d=o(d,x),d.return=v,d)}function c(v,d,x,N){var w=x.type;return w===xr?h(v,d,x.props.children,N,x.key):d!==null&&(d.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cn&&nd(w)===d.type)?(N=o(d,x.props),N.ref=xs(v,d,x),N.return=v,N):(N=Jo(x.type,x.key,x.props,null,v.mode,N),N.ref=xs(v,d,x),N.return=v,N)}function u(v,d,x,N){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Al(x,v.mode,N),d.return=v,d):(d=o(d,x.children||[]),d.return=v,d)}function h(v,d,x,N,w){return d===null||d.tag!==7?(d=Jn(x,v.mode,N,w),d.return=v,d):(d=o(d,x),d.return=v,d)}function p(v,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Pl(""+d,v.mode,x),d.return=v,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case go:return x=Jo(d.type,d.key,d.props,null,v.mode,x),x.ref=xs(v,null,d),x.return=v,x;case gr:return d=Al(d,v.mode,x),d.return=v,d;case cn:var N=d._init;return p(v,N(d._payload),x)}if(js(d)||fs(d))return d=Jn(d,v.mode,x,null),d.return=v,d;Eo(v,d)}return null}function f(v,d,x,N){var w=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(v,d,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case go:return x.key===w?c(v,d,x,N):null;case gr:return x.key===w?u(v,d,x,N):null;case cn:return w=x._init,f(v,d,w(x._payload),N)}if(js(x)||fs(x))return w!==null?null:h(v,d,x,N,null);Eo(v,x)}return null}function b(v,d,x,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(x)||null,a(d,v,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case go:return v=v.get(N.key===null?x:N.key)||null,c(d,v,N,w);case gr:return v=v.get(N.key===null?x:N.key)||null,u(d,v,N,w);case cn:var L=N._init;return b(v,d,x,L(N._payload),w)}if(js(N)||fs(N))return v=v.get(x)||null,h(d,v,N,w,null);Eo(d,N)}return null}function y(v,d,x,N){for(var w=null,L=null,j=d,E=d=0,I=null;j!==null&&E<x.length;E++){j.index>E?(I=j,j=null):I=j.sibling;var _=f(v,j,x[E],N);if(_===null){j===null&&(j=I);break}e&&j&&_.alternate===null&&t(v,j),d=i(_,d,E),L===null?w=_:L.sibling=_,L=_,j=I}if(E===x.length)return n(v,j),fe&&Bn(v,E),w;if(j===null){for(;E<x.length;E++)j=p(v,x[E],N),j!==null&&(d=i(j,d,E),L===null?w=j:L.sibling=j,L=j);return fe&&Bn(v,E),w}for(j=r(v,j);E<x.length;E++)I=b(j,v,E,x[E],N),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?E:I.key),d=i(I,d,E),L===null?w=I:L.sibling=I,L=I);return e&&j.forEach(function(P){return t(v,P)}),fe&&Bn(v,E),w}function g(v,d,x,N){var w=fs(x);if(typeof w!="function")throw Error($(150));if(x=w.call(x),x==null)throw Error($(151));for(var L=w=null,j=d,E=d=0,I=null,_=x.next();j!==null&&!_.done;E++,_=x.next()){j.index>E?(I=j,j=null):I=j.sibling;var P=f(v,j,_.value,N);if(P===null){j===null&&(j=I);break}e&&j&&P.alternate===null&&t(v,j),d=i(P,d,E),L===null?w=P:L.sibling=P,L=P,j=I}if(_.done)return n(v,j),fe&&Bn(v,E),w;if(j===null){for(;!_.done;E++,_=x.next())_=p(v,_.value,N),_!==null&&(d=i(_,d,E),L===null?w=_:L.sibling=_,L=_);return fe&&Bn(v,E),w}for(j=r(v,j);!_.done;E++,_=x.next())_=b(j,v,E,_.value,N),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?E:_.key),d=i(_,d,E),L===null?w=_:L.sibling=_,L=_);return e&&j.forEach(function(U){return t(v,U)}),fe&&Bn(v,E),w}function k(v,d,x,N){if(typeof x=="object"&&x!==null&&x.type===xr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case go:e:{for(var w=x.key,L=d;L!==null;){if(L.key===w){if(w=x.type,w===xr){if(L.tag===7){n(v,L.sibling),d=o(L,x.props.children),d.return=v,v=d;break e}}else if(L.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cn&&nd(w)===L.type){n(v,L.sibling),d=o(L,x.props),d.ref=xs(v,L,x),d.return=v,v=d;break e}n(v,L);break}else t(v,L);L=L.sibling}x.type===xr?(d=Jn(x.props.children,v.mode,N,x.key),d.return=v,v=d):(N=Jo(x.type,x.key,x.props,null,v.mode,N),N.ref=xs(v,d,x),N.return=v,v=N)}return l(v);case gr:e:{for(L=x.key;d!==null;){if(d.key===L)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){n(v,d.sibling),d=o(d,x.children||[]),d.return=v,v=d;break e}else{n(v,d);break}else t(v,d);d=d.sibling}d=Al(x,v.mode,N),d.return=v,v=d}return l(v);case cn:return L=x._init,k(v,d,L(x._payload),N)}if(js(x))return y(v,d,x,N);if(fs(x))return g(v,d,x,N);Eo(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(n(v,d.sibling),d=o(d,x),d.return=v,v=d):(n(v,d),d=Pl(x,v.mode,N),d.return=v,v=d),l(v)):n(v,d)}return k}var Kr=Um(!0),Vm=Um(!1),pi=An(null),gi=null,Sr=null,Mc=null;function Tc(){Mc=Sr=gi=null}function Rc(e){var t=pi.current;de(pi),e._currentValue=t}function Na(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){gi=e,Mc=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Mc!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(gi===null)throw Error($(308));Sr=e,gi.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Hn=null;function Pc(e){Hn===null?Hn=[e]:Hn.push(e)}function Qm(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Pc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Jt(e,r)}function Jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Km(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Jt(e,n)}return o=r.interleaved,o===null?(t.next=t,Pc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Jt(e,n)}function Qo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vc(e,n)}}function rd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xi(e,t,n,r){var o=e.updateQueue;un=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==l&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var p=o.baseState;l=0,h=u=c=null,a=i;do{var f=a.lane,b=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,g=a;switch(f=t,b=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){p=y.call(b,p,f);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(b,p,f):y,f==null)break e;p=pe({},p,f);break e;case 2:un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else b={eventTime:b,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=b,c=p):h=h.next=b,l|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(h===null&&(c=p),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);nr|=l,e.lanes=l,e.memoizedState=p}}function sd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var ao={},It=An(ao),Qs=An(ao),Ks=An(ao);function Un(e){if(e===ao)throw Error($(174));return e}function Oc(e,t){switch(ce(Ks,t),ce(Qs,e),ce(It,ao),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sa(t,e)}de(It),ce(It,t)}function Gr(){de(It),de(Qs),de(Ks)}function Gm(e){Un(Ks.current);var t=Un(It.current),n=sa(t,e.type);t!==n&&(ce(Qs,e),ce(It,n))}function Fc(e){Qs.current===e&&(de(It),de(Qs))}var me=An(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cl=[];function Dc(){for(var e=0;e<Cl.length;e++)Cl[e]._workInProgressVersionPrimary=null;Cl.length=0}var Ko=rn.ReactCurrentDispatcher,El=rn.ReactCurrentBatchConfig,tr=0,he=null,Ne=null,Ce=null,yi=!1,Rs=!1,Gs=0,_x=0;function Ae(){throw Error($(321))}function Ic(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function _c(e,t,n,r,o,i){if(tr=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=e===null||e.memoizedState===null?Wx:Hx,e=n(r,o),Rs){i=0;do{if(Rs=!1,Gs=0,25<=i)throw Error($(301));i+=1,Ce=Ne=null,t.updateQueue=null,Ko.current=Ux,e=n(r,o)}while(Rs)}if(Ko.current=wi,t=Ne!==null&&Ne.next!==null,tr=0,Ce=Ne=he=null,yi=!1,t)throw Error($(300));return e}function zc(){var e=Gs!==0;return Gs=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ft(){if(Ne===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?he.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error($(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function qs(e,t){return typeof t=="function"?t(e):t}function Ll(e){var t=ft(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ne,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=l=null,c=null,u=i;do{var h=u.lane;if((tr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,l=r):c=c.next=p,he.lanes|=h,nr|=h}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=a,St(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,he.lanes|=i,nr|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ml(e){var t=ft(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);St(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qm(){}function Ym(e,t){var n=he,r=ft(),o=t(),i=!St(r.memoizedState,o);if(i&&(r.memoizedState=o,Ve=!0),r=r.queue,Bc(Zm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Ys(9,Jm.bind(null,n,r,o,t),void 0,null),Ee===null)throw Error($(349));tr&30||Xm(n,t,o)}return o}function Xm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jm(e,t,n,r){t.value=n,t.getSnapshot=r,eh(t)&&th(e)}function Zm(e,t,n){return n(function(){eh(t)&&th(e)})}function eh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function th(e){var t=Jt(e,1);t!==null&&kt(t,e,1,-1)}function od(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t.queue=e,e=e.dispatch=$x.bind(null,he,e),[t.memoizedState,e]}function Ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nh(){return ft().memoizedState}function Go(e,t,n,r){var o=Mt();he.flags|=e,o.memoizedState=Ys(1|t,n,void 0,r===void 0?null:r)}function $i(e,t,n,r){var o=ft();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var l=Ne.memoizedState;if(i=l.destroy,r!==null&&Ic(r,l.deps)){o.memoizedState=Ys(t,n,i,r);return}}he.flags|=e,o.memoizedState=Ys(1|t,n,i,r)}function id(e,t){return Go(8390656,8,e,t)}function Bc(e,t){return $i(2048,8,e,t)}function rh(e,t){return $i(4,2,e,t)}function sh(e,t){return $i(4,4,e,t)}function oh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ih(e,t,n){return n=n!=null?n.concat([e]):null,$i(4,4,oh.bind(null,t,e),n)}function $c(){}function lh(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ah(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ic(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ch(e,t,n){return tr&21?(St(n,t)||(n=hm(),he.lanes|=n,nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function zx(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=El.transition;El.transition={};try{e(!1),t()}finally{ae=n,El.transition=r}}function uh(){return ft().memoizedState}function Bx(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dh(e))fh(t,n);else if(n=Qm(e,t,n,r),n!==null){var o=$e();kt(n,e,r,o),mh(n,t,r)}}function $x(e,t,n){var r=Cn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dh(e))fh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,St(a,l)){var c=t.interleaved;c===null?(o.next=o,Pc(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Qm(e,t,o,r),n!==null&&(o=$e(),kt(n,e,r,o),mh(n,t,r))}}function dh(e){var t=e.alternate;return e===he||t!==null&&t===he}function fh(e,t){Rs=yi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vc(e,n)}}var wi={readContext:dt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Wx={readContext:dt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:id,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Go(4194308,4,oh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Bx.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:od,useDebugValue:$c,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=od(!1),t=e[0];return e=zx.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,o=Mt();if(fe){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Ee===null)throw Error($(349));tr&30||Xm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,id(Zm.bind(null,r,i,e),[e]),r.flags|=2048,Ys(9,Jm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Ee.identifierPrefix;if(fe){var n=Gt,r=Kt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_x++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hx={readContext:dt,useCallback:lh,useContext:dt,useEffect:Bc,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:ah,useReducer:Ll,useRef:nh,useState:function(){return Ll(qs)},useDebugValue:$c,useDeferredValue:function(e){var t=ft();return ch(t,Ne.memoizedState,e)},useTransition:function(){var e=Ll(qs)[0],t=ft().memoizedState;return[e,t]},useMutableSource:qm,useSyncExternalStore:Ym,useId:uh,unstable_isNewReconciler:!1},Ux={readContext:dt,useCallback:lh,useContext:dt,useEffect:Bc,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:ah,useReducer:Ml,useRef:nh,useState:function(){return Ml(qs)},useDebugValue:$c,useDeferredValue:function(e){var t=ft();return Ne===null?t.memoizedState=e:ch(t,Ne.memoizedState,e)},useTransition:function(){var e=Ml(qs)[0],t=ft().memoizedState;return[e,t]},useMutableSource:qm,useSyncExternalStore:Ym,useId:uh,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wi={isMounted:function(e){return(e=e._reactInternals)?ur(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),o=Cn(e),i=qt(r,o);i.payload=t,n!=null&&(i.callback=n),t=Nn(e,i,o),t!==null&&(kt(t,e,o,r),Qo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),o=Cn(e),i=qt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Nn(e,i,o),t!==null&&(kt(t,e,o,r),Qo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=Cn(e),o=qt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Nn(e,o,r),t!==null&&(kt(t,e,r,n),Qo(t,e,r))}};function ld(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Ws(n,r)||!Ws(o,i):!0}function hh(e,t,n){var r=!1,o=Mn,i=t.contextType;return typeof i=="object"&&i!==null?i=dt(i):(o=Ke(t)?Zn:Ie.current,r=t.contextTypes,i=(r=r!=null)?Vr(e,o):Mn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ad(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function Ca(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ac(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=dt(i):(i=Ke(t)?Zn:Ie.current,o.context=Vr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Sa(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Wi.enqueueReplaceState(o,o.state,null),xi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",r=t;do n+=vg(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Tl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vx=typeof WeakMap=="function"?WeakMap:Map;function ph(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ji||(ji=!0,Ia=r),Ea(e,t)},n}function gh(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ea(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ea(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function cd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ov.bind(null,e,t,n),t.then(e,e))}function ud(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,Nn(n,t,1))),n.lanes|=1),e)}var Qx=rn.ReactCurrentOwner,Ve=!1;function ze(e,t,n,r){t.child=e===null?Vm(t,null,n,r):Kr(t,e.child,n,r)}function fd(e,t,n,r,o){n=n.render;var i=t.ref;return Pr(t,o),r=_c(e,t,n,r,i,o),n=zc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(fe&&n&&Cc(t),t.flags|=1,ze(e,t,r,o),t.child)}function md(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!qc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,xh(e,t,i,r,o)):(e=Jo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(l,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=En(i,r),e.ref=t.ref,e.return=t,t.child=e}function xh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Ws(i,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return La(e,t,n,r,o)}function vh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Er,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Er,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Er,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(Er,Ye),Ye|=r;return ze(e,t,o,n),t.child}function yh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,r,o){var i=Ke(n)?Zn:Ie.current;return i=Vr(t,i),Pr(t,o),n=_c(e,t,n,r,i,o),r=zc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(fe&&r&&Cc(t),t.flags|=1,ze(e,t,n,o),t.child)}function hd(e,t,n,r,o){if(Ke(n)){var i=!0;fi(t)}else i=!1;if(Pr(t,o),t.stateNode===null)qo(e,t),hh(t,n,r),Ca(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=Ke(n)?Zn:Ie.current,u=Vr(t,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==u)&&ad(t,l,r,u),un=!1;var f=t.memoizedState;l.state=f,xi(t,r,l,o),c=t.memoizedState,a!==r||f!==c||Qe.current||un?(typeof h=="function"&&(Sa(t,n,h,r),c=t.memoizedState),(a=un||ld(t,n,a,r,f,c,u))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Km(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gt(t.type,a),l.props=u,p=t.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=dt(c):(c=Ke(n)?Zn:Ie.current,c=Vr(t,c));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==p||f!==c)&&ad(t,l,r,c),un=!1,f=t.memoizedState,l.state=f,xi(t,r,l,o);var y=t.memoizedState;a!==p||f!==y||Qe.current||un?(typeof b=="function"&&(Sa(t,n,b,r),y=t.memoizedState),(u=un||ld(t,n,u,r,f,y,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),l.props=r,l.state=y,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,i,o)}function Ma(e,t,n,r,o,i){yh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&Zu(t,n,!1),Zt(e,t,i);r=t.stateNode,Qx.current=t;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Kr(t,e.child,null,i),t.child=Kr(t,null,a,i)):ze(e,t,a,i),t.memoizedState=r.state,o&&Zu(t,n,!0),t.child}function wh(e){var t=e.stateNode;t.pendingContext?Ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ju(e,t.context,!1),Oc(e,t.containerInfo)}function pd(e,t,n,r,o){return Qr(),Lc(o),t.flags|=256,ze(e,t,n,r),t.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function bh(e,t,n){var r=t.pendingProps,o=me.current,i=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(me,o&1),e===null)return ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Vi(l,r,0,null),e=Jn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ra(n),t.memoizedState=Ta,e):Wc(t,l));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Kx(e,t,l,r,a,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=En(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=En(a,i):(i=Jn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ta,r}return i=e.child,e=i.sibling,r=En(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wc(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lo(e,t,n,r){return r!==null&&Lc(r),Kr(t,e.child,null,n),e=Wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kx(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Tl(Error($(422))),Lo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Vi({mode:"visible",children:r.children},o,0,null),i=Jn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Kr(t,e.child,null,l),t.child.memoizedState=Ra(l),t.memoizedState=Ta,i);if(!(t.mode&1))return Lo(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Tl(i,r,void 0),Lo(e,t,l,r)}if(a=(l&e.childLanes)!==0,Ve||a){if(r=Ee,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Jt(e,o),kt(r,e,o,-1))}return Gc(),r=Tl(Error($(421))),Lo(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=iv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Je=kn(o.nextSibling),Ze=t,fe=!0,bt=null,e!==null&&(lt[at++]=Kt,lt[at++]=Gt,lt[at++]=er,Kt=e.id,Gt=e.overflow,er=t),t=Wc(t,r.children),t.flags|=4096,t)}function gd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Na(e.return,t,n)}function Rl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function jh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ze(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gd(e,n,t);else if(e.tag===19)gd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(me,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&vi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Rl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Rl(t,!0,n,null,i);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gx(e,t,n){switch(t.tag){case 3:wh(t),Qr();break;case 5:Gm(t);break;case 1:Ke(t.type)&&fi(t);break;case 4:Oc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ce(pi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?bh(e,t,n):(ce(me,me.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,vh(e,t,n)}return Zt(e,t,n)}var kh,Pa,Nh,Sh;kh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pa=function(){};Nh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Un(It.current);var i=null;switch(n){case"input":o=ea(e,o),r=ea(e,r),i=[];break;case"select":o=pe({},o,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":o=ra(e,o),r=ra(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ui)}oa(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Sh=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qx(e,t,n){var r=t.pendingProps;switch(Ec(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Ke(t.type)&&di(),Oe(t),null;case 3:return r=t.stateNode,Gr(),de(Qe),de(Ie),Dc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(Ba(bt),bt=null))),Pa(e,t),Oe(t),null;case 5:Fc(t);var o=Un(Ks.current);if(n=t.type,e!==null&&t.stateNode!=null)Nh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Oe(t),null}if(e=Un(It.current),Co(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[At]=t,r[Vs]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<Ns.length;o++)ue(Ns[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Su(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":Eu(r,i),ue("invalid",r)}oa(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&So(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&So(r.textContent,a,e),o=["children",""+a]):Fs.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ue("scroll",r)}switch(n){case"input":xo(r),Cu(r,i,!0);break;case"textarea":xo(r),Lu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ui)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[At]=t,e[Vs]=r,kh(e,t,!1,!1),t.stateNode=e;e:{switch(l=ia(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ns.length;o++)ue(Ns[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":Su(e,r),o=ea(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pe({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Eu(e,r),o=ra(e,r),ue("invalid",e);break;default:o=r}oa(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?nm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&em(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ds(e,c):typeof c=="number"&&Ds(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&fc(e,i,c,l))}switch(n){case"input":xo(e),Cu(e,r,!1);break;case"textarea":xo(e),Lu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ln(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Lr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ui)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Sh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=Un(Ks.current),Un(It.current),Co(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(i=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:So(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&So(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Oe(t),null;case 13:if(de(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&Je!==null&&t.mode&1&&!(t.flags&128))Hm(),Qr(),t.flags|=98560,i=!1;else if(i=Co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[At]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else bt!==null&&(Ba(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Se===0&&(Se=3):Gc())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Gr(),Pa(e,t),e===null&&Hs(t.stateNode.containerInfo),Oe(t),null;case 10:return Rc(t.type._context),Oe(t),null;case 17:return Ke(t.type)&&di(),Oe(t),null;case 19:if(de(me),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)vs(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=vi(e),l!==null){for(t.flags|=128,vs(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>Yr&&(t.flags|=128,r=!0,vs(i,!1),t.lanes=4194304)}else{if(!r)if(e=vi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!fe)return Oe(t),null}else 2*ve()-i.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,r=!0,vs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Kc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Yx(e,t){switch(Ec(t),t.tag){case 1:return Ke(t.type)&&di(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),de(Qe),de(Ie),Dc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fc(t),null;case 13:if(de(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(me),null;case 4:return Gr(),null;case 10:return Rc(t.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var Mo=!1,De=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,G=null;function Cr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Aa(e,t,n){try{n()}catch(r){xe(e,t,r)}}var xd=!1;function Jx(e,t){if(ga=li,e=Tm(),Sc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,u=0,h=0,p=e,f=null;t:for(;;){for(var b;p!==n||o!==0&&p.nodeType!==3||(a=l+o),p!==i||r!==0&&p.nodeType!==3||(c=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(b=p.firstChild)!==null;)f=p,p=b;for(;;){if(p===e)break t;if(f===n&&++u===o&&(a=l),f===i&&++h===r&&(c=l),(b=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=b}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xa={focusedElem:e,selectionRange:n},li=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,k=y.memoizedState,v=t.stateNode,d=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gt(t.type,g),k);v.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){xe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return y=xd,xd=!1,y}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Aa(t,n,i)}o=o.next}while(o!==r)}}function Hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ch(e){var t=e.alternate;t!==null&&(e.alternate=null,Ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Vs],delete t[wa],delete t[Ox],delete t[Fx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eh(e){return e.tag===5||e.tag===3||e.tag===4}function vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ui));else if(r!==4&&(e=e.child,e!==null))for(Fa(e,t,n),e=e.sibling;e!==null;)Fa(e,t,n),e=e.sibling}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}var Le=null,wt=!1;function sn(e,t,n){for(n=n.child;n!==null;)Lh(e,t,n),n=n.sibling}function Lh(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Fi,n)}catch{}switch(n.tag){case 5:De||Cr(n,t);case 6:var r=Le,o=wt;Le=null,sn(e,t,n),Le=r,wt=o,Le!==null&&(wt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(wt?(e=Le,n=n.stateNode,e.nodeType===8?Nl(e.parentNode,n):e.nodeType===1&&Nl(e,n),Bs(e)):Nl(Le,n.stateNode));break;case 4:r=Le,o=wt,Le=n.stateNode.containerInfo,wt=!0,sn(e,t,n),Le=r,wt=o;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Aa(n,t,l),o=o.next}while(o!==r)}sn(e,t,n);break;case 1:if(!De&&(Cr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,sn(e,t,n),De=r):sn(e,t,n);break;default:sn(e,t,n)}}function yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xx),t.forEach(function(r){var o=lv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,wt=!1;break e;case 3:Le=a.stateNode.containerInfo,wt=!0;break e;case 4:Le=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Le===null)throw Error($(160));Lh(i,l,o),Le=null,wt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){xe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mh(t,e),t=t.sibling}function Mh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Lt(e),r&4){try{Ps(3,e,e.return),Hi(3,e)}catch(g){xe(e,e.return,g)}try{Ps(5,e,e.return)}catch(g){xe(e,e.return,g)}}break;case 1:mt(t,e),Lt(e),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(mt(t,e),Lt(e),r&512&&n!==null&&Cr(n,n.return),e.flags&32){var o=e.stateNode;try{Ds(o,"")}catch(g){xe(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Xf(o,i),ia(a,l);var u=ia(a,i);for(l=0;l<c.length;l+=2){var h=c[l],p=c[l+1];h==="style"?nm(o,p):h==="dangerouslySetInnerHTML"?em(o,p):h==="children"?Ds(o,p):fc(o,h,p,u)}switch(a){case"input":ta(o,i);break;case"textarea":Jf(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?Lr(o,!!i.multiple,b,!1):f!==!!i.multiple&&(i.defaultValue!=null?Lr(o,!!i.multiple,i.defaultValue,!0):Lr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Vs]=i}catch(g){xe(e,e.return,g)}}break;case 6:if(mt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error($(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){xe(e,e.return,g)}}break;case 3:if(mt(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(g){xe(e,e.return,g)}break;case 4:mt(t,e),Lt(e);break;case 13:mt(t,e),Lt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Vc=ve())),r&4&&yd(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||h,mt(t,e),De=u):mt(t,e),Lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(G=e,h=e.child;h!==null;){for(p=G=h;G!==null;){switch(f=G,b=f.child,f.tag){case 0:case 11:case 14:case 15:Ps(4,f,f.return);break;case 1:Cr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){xe(r,n,g)}}break;case 5:Cr(f,f.return);break;case 22:if(f.memoizedState!==null){bd(p);continue}}b!==null?(b.return=f,G=b):bd(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{o=p.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=tm("display",l))}catch(g){xe(e,e.return,g)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){xe(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mt(t,e),Lt(e),r&4&&yd(e);break;case 21:break;default:mt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Eh(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ds(o,""),r.flags&=-33);var i=vd(e);Da(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,a=vd(e);Fa(e,a,l);break;default:throw Error($(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zx(e,t,n){G=e,Th(e)}function Th(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var o=G,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Mo;if(!l){var a=o.alternate,c=a!==null&&a.memoizedState!==null||De;a=Mo;var u=De;if(Mo=l,(De=c)&&!u)for(G=o;G!==null;)l=G,c=l.child,l.tag===22&&l.memoizedState!==null?jd(o):c!==null?(c.return=l,G=c):jd(o);for(;i!==null;)G=i,Th(i),i=i.sibling;G=o,Mo=a,De=u}wd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,G=i):wd(e)}}function wd(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Hi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sd(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sd(t,l,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Bs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}De||t.flags&512&&Oa(t)}catch(f){xe(t,t.return,f)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function bd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function jd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hi(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){xe(t,o,c)}}var i=t.return;try{Oa(t)}catch(c){xe(t,i,c)}break;case 5:var l=t.return;try{Oa(t)}catch(c){xe(t,l,c)}}}catch(c){xe(t,t.return,c)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var ev=Math.ceil,bi=rn.ReactCurrentDispatcher,Hc=rn.ReactCurrentOwner,ut=rn.ReactCurrentBatchConfig,ie=0,Ee=null,be=null,Me=0,Ye=0,Er=An(0),Se=0,Xs=null,nr=0,Ui=0,Uc=0,As=null,Ue=null,Vc=0,Yr=1/0,Ut=null,ji=!1,Ia=null,Sn=null,To=!1,yn=null,ki=0,Os=0,_a=null,Yo=-1,Xo=0;function $e(){return ie&6?ve():Yo!==-1?Yo:Yo=ve()}function Cn(e){return e.mode&1?ie&2&&Me!==0?Me&-Me:Ix.transition!==null?(Xo===0&&(Xo=hm()),Xo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:bm(e.type)),e):1}function kt(e,t,n,r){if(50<Os)throw Os=0,_a=null,Error($(185));oo(e,n,r),(!(ie&2)||e!==Ee)&&(e===Ee&&(!(ie&2)&&(Ui|=n),Se===4&&fn(e,Me)),Ge(e,r),n===1&&ie===0&&!(t.mode&1)&&(Yr=ve()+500,Bi&&On()))}function Ge(e,t){var n=e.callbackNode;Ig(e,t);var r=ii(e,e===Ee?Me:0);if(r===0)n!==null&&Ru(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ru(n),t===1)e.tag===0?Dx(kd.bind(null,e)):Bm(kd.bind(null,e)),Px(function(){!(ie&6)&&On()}),n=null;else{switch(pm(r)){case 1:n=xc;break;case 4:n=fm;break;case 16:n=oi;break;case 536870912:n=mm;break;default:n=oi}n=_h(n,Rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rh(e,t){if(Yo=-1,Xo=0,ie&6)throw Error($(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=ii(e,e===Ee?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ni(e,r);else{t=r;var o=ie;ie|=2;var i=Ah();(Ee!==e||Me!==t)&&(Ut=null,Yr=ve()+500,Xn(e,t));do try{rv();break}catch(a){Ph(e,a)}while(1);Tc(),bi.current=i,ie=o,be!==null?t=0:(Ee=null,Me=0,t=Se)}if(t!==0){if(t===2&&(o=da(e),o!==0&&(r=o,t=za(e,o))),t===1)throw n=Xs,Xn(e,0),fn(e,r),Ge(e,ve()),n;if(t===6)fn(e,r);else{if(o=e.current.alternate,!(r&30)&&!tv(o)&&(t=Ni(e,r),t===2&&(i=da(e),i!==0&&(r=i,t=za(e,i))),t===1))throw n=Xs,Xn(e,0),fn(e,r),Ge(e,ve()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:$n(e,Ue,Ut);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=Vc+500-ve(),10<t)){if(ii(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ya($n.bind(null,e,Ue,Ut),t);break}$n(e,Ue,Ut);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-jt(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ev(r/1960))-r,10<r){e.timeoutHandle=ya($n.bind(null,e,Ue,Ut),r);break}$n(e,Ue,Ut);break;case 5:$n(e,Ue,Ut);break;default:throw Error($(329))}}}return Ge(e,ve()),e.callbackNode===n?Rh.bind(null,e):null}function za(e,t){var n=As;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=Ni(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Ba(t)),e}function Ba(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function tv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!St(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Uc,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function kd(e){if(ie&6)throw Error($(327));Ar();var t=ii(e,0);if(!(t&1))return Ge(e,ve()),null;var n=Ni(e,t);if(e.tag!==0&&n===2){var r=da(e);r!==0&&(t=r,n=za(e,r))}if(n===1)throw n=Xs,Xn(e,0),fn(e,t),Ge(e,ve()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,Ue,Ut),Ge(e,ve()),null}function Qc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Yr=ve()+500,Bi&&On())}}function rr(e){yn!==null&&yn.tag===0&&!(ie&6)&&Ar();var t=ie;ie|=1;var n=ut.transition,r=ae;try{if(ut.transition=null,ae=1,e)return e()}finally{ae=r,ut.transition=n,ie=t,!(ie&6)&&On()}}function Kc(){Ye=Er.current,de(Er)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rx(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Ec(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&di();break;case 3:Gr(),de(Qe),de(Ie),Dc();break;case 5:Fc(r);break;case 4:Gr();break;case 13:de(me);break;case 19:de(me);break;case 10:Rc(r.type._context);break;case 22:case 23:Kc()}n=n.return}if(Ee=e,be=e=En(e.current,null),Me=Ye=t,Se=0,Xs=null,Uc=Ui=nr=0,Ue=As=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Hn=null}return e}function Ph(e,t){do{var n=be;try{if(Tc(),Ko.current=wi,yi){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}yi=!1}if(tr=0,Ce=Ne=he=null,Rs=!1,Gs=0,Hc.current=null,n===null||n.return===null){Se=1,Xs=t,be=null;break}e:{var i=e,l=n.return,a=n,c=t;if(t=Me,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=ud(l);if(b!==null){b.flags&=-257,dd(b,l,a,i,t),b.mode&1&&cd(i,u,t),t=b,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){cd(i,u,t),Gc();break e}c=Error($(426))}}else if(fe&&a.mode&1){var k=ud(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),dd(k,l,a,i,t),Lc(qr(c,a));break e}}i=c=qr(c,a),Se!==4&&(Se=2),As===null?As=[i]:As.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=ph(i,c,t);rd(i,v);break e;case 1:a=c;var d=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sn===null||!Sn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=gh(i,a,t);rd(i,N);break e}}i=i.return}while(i!==null)}Fh(n)}catch(w){t=w,be===n&&n!==null&&(be=n=n.return);continue}break}while(1)}function Ah(){var e=bi.current;return bi.current=wi,e===null?wi:e}function Gc(){(Se===0||Se===3||Se===2)&&(Se=4),Ee===null||!(nr&268435455)&&!(Ui&268435455)||fn(Ee,Me)}function Ni(e,t){var n=ie;ie|=2;var r=Ah();(Ee!==e||Me!==t)&&(Ut=null,Xn(e,t));do try{nv();break}catch(o){Ph(e,o)}while(1);if(Tc(),ie=n,bi.current=r,be!==null)throw Error($(261));return Ee=null,Me=0,Se}function nv(){for(;be!==null;)Oh(be)}function rv(){for(;be!==null&&!Lg();)Oh(be)}function Oh(e){var t=Ih(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Fh(e):be=t,Hc.current=null}function Fh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yx(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,be=null;return}}else if(n=qx(n,t,Ye),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Se===0&&(Se=5)}function $n(e,t,n){var r=ae,o=ut.transition;try{ut.transition=null,ae=1,sv(e,t,n,r)}finally{ut.transition=o,ae=r}return null}function sv(e,t,n,r){do Ar();while(yn!==null);if(ie&6)throw Error($(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_g(e,i),e===Ee&&(be=Ee=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||To||(To=!0,_h(oi,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var l=ae;ae=1;var a=ie;ie|=4,Hc.current=null,Jx(e,n),Mh(n,e),Nx(xa),li=!!ga,xa=ga=null,e.current=n,Zx(n),Mg(),ie=a,ae=l,ut.transition=i}else e.current=n;if(To&&(To=!1,yn=e,ki=o),i=e.pendingLanes,i===0&&(Sn=null),Pg(n.stateNode),Ge(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ji)throw ji=!1,e=Ia,Ia=null,e;return ki&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===_a?Os++:(Os=0,_a=e):Os=0,On(),null}function Ar(){if(yn!==null){var e=pm(ki),t=ut.transition,n=ae;try{if(ut.transition=null,ae=16>e?16:e,yn===null)var r=!1;else{if(e=yn,yn=null,ki=0,ie&6)throw Error($(331));var o=ie;for(ie|=4,G=e.current;G!==null;){var i=G,l=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:Ps(8,h,i)}var p=h.child;if(p!==null)p.return=h,G=p;else for(;G!==null;){h=G;var f=h.sibling,b=h.return;if(Ch(h),h===u){G=null;break}if(f!==null){f.return=b,G=f;break}G=b}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}G=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,G=l;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ps(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,G=v;break e}G=i.return}}var d=e.current;for(G=d;G!==null;){l=G;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,G=x;else e:for(l=d;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hi(9,a)}}catch(w){xe(a,a.return,w)}if(a===l){G=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,G=N;break e}G=a.return}}if(ie=o,On(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Fi,e)}catch{}r=!0}return r}finally{ae=n,ut.transition=t}}return!1}function Nd(e,t,n){t=qr(n,t),t=ph(e,t,1),e=Nn(e,t,1),t=$e(),e!==null&&(oo(e,1,t),Ge(e,t))}function xe(e,t,n){if(e.tag===3)Nd(e,e,n);else for(;t!==null;){if(t.tag===3){Nd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=qr(n,e),e=gh(t,e,1),t=Nn(t,e,1),e=$e(),t!==null&&(oo(t,1,e),Ge(t,e));break}}t=t.return}}function ov(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Me&n)===n&&(Se===4||Se===3&&(Me&130023424)===Me&&500>ve()-Vc?Xn(e,0):Uc|=n),Ge(e,t)}function Dh(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var n=$e();e=Jt(e,t),e!==null&&(oo(e,t,n),Ge(e,n))}function iv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dh(e,n)}function lv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),Dh(e,n)}var Ih;Ih=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,Gx(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,fe&&t.flags&1048576&&$m(t,hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var o=Vr(t,Ie.current);Pr(t,n),o=_c(null,t,r,e,o,n);var i=zc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,fi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ac(t),o.updater=Wi,t.stateNode=o,o._reactInternals=t,Ca(t,r,e,n),t=Ma(null,t,r,!0,i,n)):(t.tag=0,fe&&i&&Cc(t),ze(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=cv(r),e=gt(r,e),o){case 0:t=La(null,t,r,e,n);break e;case 1:t=hd(null,t,r,e,n);break e;case 11:t=fd(null,t,r,e,n);break e;case 14:t=md(null,t,r,gt(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),La(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),hd(e,t,r,o,n);case 3:e:{if(wh(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Km(e,t),xi(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=qr(Error($(423)),t),t=pd(e,t,r,n,o);break e}else if(r!==o){o=qr(Error($(424)),t),t=pd(e,t,r,n,o);break e}else for(Je=kn(t.stateNode.containerInfo.firstChild),Ze=t,fe=!0,bt=null,n=Vm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),r===o){t=Zt(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return Gm(t),e===null&&ka(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,va(r,o)?l=null:i!==null&&va(r,i)&&(t.flags|=32),yh(e,t),ze(e,t,l,n),t.child;case 6:return e===null&&ka(t),null;case 13:return bh(e,t,n);case 4:return Oc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kr(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),fd(e,t,r,o,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,ce(pi,r._currentValue),r._currentValue=l,i!==null)if(St(i.value,l)){if(i.children===o.children&&!Qe.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Na(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error($(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Na(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ze(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pr(t,n),o=dt(o),r=r(o),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,o=gt(r,t.pendingProps),o=gt(r.type,o),md(e,t,r,o,n);case 15:return xh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),qo(e,t),t.tag=1,Ke(r)?(e=!0,fi(t)):e=!1,Pr(t,n),hh(t,r,o),Ca(t,r,o,n),Ma(null,t,r,!0,e,n);case 19:return jh(e,t,n);case 22:return vh(e,t,n)}throw Error($(156,t.tag))};function _h(e,t){return dm(e,t)}function av(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new av(e,t,n,r)}function qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cv(e){if(typeof e=="function")return qc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hc)return 11;if(e===pc)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")qc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case xr:return Jn(n.children,o,i,t);case mc:l=8,o|=8;break;case Yl:return e=ct(12,n,t,o|2),e.elementType=Yl,e.lanes=i,e;case Xl:return e=ct(13,n,t,o),e.elementType=Xl,e.lanes=i,e;case Jl:return e=ct(19,n,t,o),e.elementType=Jl,e.lanes=i,e;case Gf:return Vi(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qf:l=10;break e;case Kf:l=9;break e;case hc:l=11;break e;case pc:l=14;break e;case cn:l=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=ct(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Jn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Vi(e,t,n,r){return e=ct(22,e,r,t),e.elementType=Gf,e.lanes=n,e.stateNode={isHidden:!1},e}function Pl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Al(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Yc(e,t,n,r,o,i,l,a,c){return e=new uv(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(i),e}function dv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zh(e){if(!e)return Mn;e=e._reactInternals;e:{if(ur(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Ke(n))return zm(e,n,t)}return t}function Bh(e,t,n,r,o,i,l,a,c){return e=Yc(n,r,!0,e,o,i,l,a,c),e.context=zh(null),n=e.current,r=$e(),o=Cn(n),i=qt(r,o),i.callback=t??null,Nn(n,i,o),e.current.lanes=o,oo(e,o,r),Ge(e,r),e}function Qi(e,t,n,r){var o=t.current,i=$e(),l=Cn(o);return n=zh(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nn(o,t,l),e!==null&&(kt(e,o,l,i),Qo(e,o,l)),l}function Si(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xc(e,t){Sd(e,t),(e=e.alternate)&&Sd(e,t)}function fv(){return null}var $h=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}Ki.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Qi(e,t,null,null)};Ki.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rr(function(){Qi(null,e,null,null)}),t[Xt]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=vm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&wm(e)}};function Zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cd(){}function mv(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Si(l);i.call(u)}}var l=Bh(t,r,e,0,null,!1,!1,"",Cd);return e._reactRootContainer=l,e[Xt]=l.current,Hs(e.nodeType===8?e.parentNode:e),rr(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=Si(c);a.call(u)}}var c=Yc(e,0,!1,null,null,!1,!1,"",Cd);return e._reactRootContainer=c,e[Xt]=c.current,Hs(e.nodeType===8?e.parentNode:e),rr(function(){Qi(t,c,n,r)}),c}function qi(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var a=o;o=function(){var c=Si(l);a.call(c)}}Qi(t,l,e,o)}else l=mv(n,t,e,o,r);return Si(l)}gm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ks(t.pendingLanes);n!==0&&(vc(t,n|1),Ge(t,ve()),!(ie&6)&&(Yr=ve()+500,On()))}break;case 13:rr(function(){var r=Jt(e,1);if(r!==null){var o=$e();kt(r,e,1,o)}}),Xc(e,1)}};yc=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var n=$e();kt(t,e,134217728,n)}Xc(e,134217728)}};xm=function(e){if(e.tag===13){var t=Cn(e),n=Jt(e,t);if(n!==null){var r=$e();kt(n,e,t,r)}Xc(e,t)}};vm=function(){return ae};ym=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};aa=function(e,t,n){switch(t){case"input":if(ta(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=zi(r);if(!o)throw Error($(90));Yf(r),ta(r,o)}}}break;case"textarea":Jf(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}};om=Qc;im=rr;var hv={usingClientEntryPoint:!1,Events:[lo,br,zi,rm,sm,Qc]},ys={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pv={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cm(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Fi=Ro.inject(pv),Dt=Ro}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zc(t))throw Error($(200));return dv(e,t,null,n)};nt.createRoot=function(e,t){if(!Zc(e))throw Error($(299));var n=!1,r="",o=$h;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Yc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Hs(e.nodeType===8?e.parentNode:e),new Jc(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=cm(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return rr(e)};nt.hydrate=function(e,t,n){if(!Gi(t))throw Error($(200));return qi(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=$h;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Bh(t,null,e,1,n??null,o,!1,i,l),e[Xt]=t.current,Hs(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ki(t)};nt.render=function(e,t,n){if(!Gi(t))throw Error($(200));return qi(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Gi(e))throw Error($(40));return e._reactRootContainer?(rr(function(){qi(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};nt.unstable_batchedUpdates=Qc;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gi(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return qi(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function Wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wh)}catch(e){console.error(e)}}Wh(),Wf.exports=nt;var ns=Wf.exports;const gv=Tf(ns);var Ed=ns;Gl.createRoot=Ed.createRoot,Gl.hydrateRoot=Ed.hydrateRoot;var Yi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xi=typeof window>"u"||"Deno"in globalThis;function xt(){}function xv(e,t){return typeof e=="function"?e(t):e}function vv(e){return typeof e=="number"&&e>=0&&e!==1/0}function yv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $a(e,t){return typeof e=="function"?e(t):e}function wv(e,t){return typeof e=="function"?e(t):e}function Ld(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:l,stale:a}=e;if(l){if(r){if(t.queryHash!==eu(l,t.options))return!1}else if(!Zs(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||i&&!i(t))}function Md(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Js(t.options.mutationKey)!==Js(i))return!1}else if(!Zs(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function eu(e,t){return((t==null?void 0:t.queryKeyHashFn)||Js)(e)}function Js(e){return JSON.stringify(e,(t,n)=>Wa(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Zs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Zs(e[n],t[n])):!1}function Hh(e,t){if(e===t)return e;const n=Td(e)&&Td(t);if(n||Wa(e)&&Wa(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),l=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<l;h++){const p=n?h:i[h];(!n&&c.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(a[p]=void 0,u++):(a[p]=Hh(e[p],t[p]),a[p]===e[p]&&e[p]!==void 0&&u++)}return o===l&&u===o?e:a}return t}function Td(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wa(e){if(!Rd(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Rd(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Rd(e){return Object.prototype.toString.call(e)==="[object Object]"}function bv(e){return new Promise(t=>{setTimeout(t,e)})}function jv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Hh(e,t):t}function kv(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Nv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tu=Symbol();function Uh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Vn,mn,Dr,jf,Sv=(jf=class extends Yi{constructor(){super();le(this,Vn,void 0);le(this,mn,void 0);le(this,Dr,void 0);re(this,Dr,t=>{if(!Xi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,mn)||this.setEventListener(D(this,Dr))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,mn))==null||t.call(this),re(this,mn,void 0))}setEventListener(t){var n;re(this,Dr,t),(n=D(this,mn))==null||n.call(this),re(this,mn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){D(this,Vn)!==t&&(re(this,Vn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,Vn)=="boolean"?D(this,Vn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vn=new WeakMap,mn=new WeakMap,Dr=new WeakMap,jf),Vh=new Sv,Ir,hn,_r,kf,Cv=(kf=class extends Yi{constructor(){super();le(this,Ir,!0);le(this,hn,void 0);le(this,_r,void 0);re(this,_r,t=>{if(!Xi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,hn)||this.setEventListener(D(this,_r))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,hn))==null||t.call(this),re(this,hn,void 0))}setEventListener(t){var n;re(this,_r,t),(n=D(this,hn))==null||n.call(this),re(this,hn,t(this.setOnline.bind(this)))}setOnline(t){D(this,Ir)!==t&&(re(this,Ir,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return D(this,Ir)}},Ir=new WeakMap,hn=new WeakMap,_r=new WeakMap,kf),Ci=new Cv;function Ev(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function Lv(e){return Math.min(1e3*2**e,3e4)}function Qh(e){return(e??"online")==="online"?Ci.isOnline():!0}var Kh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ol(e){return e instanceof Kh}function Gh(e){let t=!1,n=0,r=!1,o;const i=Ev(),l=g=>{var k;r||(f(new Kh(g)),(k=e.abort)==null||k.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Vh.isFocused()&&(e.networkMode==="always"||Ci.isOnline())&&e.canRun(),h=()=>Qh(e.networkMode)&&e.canRun(),p=g=>{var k;r||(r=!0,(k=e.onSuccess)==null||k.call(e,g),o==null||o(),i.resolve(g))},f=g=>{var k;r||(r=!0,(k=e.onError)==null||k.call(e,g),o==null||o(),i.reject(g))},b=()=>new Promise(g=>{var k;o=v=>{(r||u())&&g(v)},(k=e.onPause)==null||k.call(e)}).then(()=>{var g;o=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const k=n===0?e.initialPromise:void 0;try{g=k??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(p).catch(v=>{var L;if(r)return;const d=e.retry??(Xi?0:3),x=e.retryDelay??Lv,N=typeof x=="function"?x(n,v):x,w=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,v);if(t||!w){f(v);return}n++,(L=e.onFail)==null||L.call(e,n,v),bv(N).then(()=>u()?void 0:b()).then(()=>{t?f(v):y()})})};return{promise:i,cancel:l,continue:()=>(o==null||o(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?y():b().then(y),i)}}var Mv=e=>setTimeout(e,0);function Tv(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=Mv;const i=a=>{t?e.push(a):o(()=>{n(a)})},l=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||l()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Be=Tv(),Qn,Nf,qh=(Nf=class{constructor(){le(this,Qn,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vv(this.gcTime)&&re(this,Qn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xi?1/0:5*60*1e3))}clearGcTimeout(){D(this,Qn)&&(clearTimeout(D(this,Qn)),re(this,Qn,void 0))}},Qn=new WeakMap,Nf),zr,Kn,ot,Gn,Fe,no,qn,vt,Ht,Sf,Rv=(Sf=class extends qh{constructor(t){super();le(this,vt);le(this,zr,void 0);le(this,Kn,void 0);le(this,ot,void 0);le(this,Gn,void 0);le(this,Fe,void 0);le(this,no,void 0);le(this,qn,void 0);re(this,qn,!1),re(this,no,t.defaultOptions),this.setOptions(t.options),this.observers=[],re(this,Gn,t.client),re(this,ot,D(this,Gn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,re(this,zr,Av(this.options)),this.state=t.state??D(this,zr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Fe))==null?void 0:t.promise}setOptions(t){this.options={...D(this,no),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,ot).remove(this)}setData(t,n){const r=jv(this.state.data,t,this.options);return Pe(this,vt,Ht).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Pe(this,vt,Ht).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=D(this,Fe))==null?void 0:r.promise;return(o=D(this,Fe))==null||o.cancel(t),n?n.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,zr))}isActive(){return this.observers.some(t=>wv(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$a(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!yv(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Fe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Fe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,ot).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(D(this,Fe)&&(D(this,qn)?D(this,Fe).cancel({revert:!0}):D(this,Fe).cancelRetry()),this.scheduleGc()),D(this,ot).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,vt,Ht).call(this,{type:"invalidate"})}fetch(t,n){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Fe))return D(this,Fe).continueRetry(),D(this,Fe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(b=>b.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(re(this,qn,!0),r.signal)})},i=()=>{const f=Uh(this.options,n),y=(()=>{const g={client:D(this,Gn),queryKey:this.queryKey,meta:this.meta};return o(g),g})();return re(this,qn,!1),this.options.persister?this.options.persister(f,y,this):f(y)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,Gn),state:this.state,fetchFn:i};return o(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),re(this,Kn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Pe(this,vt,Ht).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const c=f=>{var b,y,g,k;Ol(f)&&f.silent||Pe(this,vt,Ht).call(this,{type:"error",error:f}),Ol(f)||((y=(b=D(this,ot).config).onError)==null||y.call(b,f,this),(k=(g=D(this,ot).config).onSettled)==null||k.call(g,this.state.data,f,this)),this.scheduleGc()};return re(this,Fe,Gh({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var b,y,g,k;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){c(v);return}(y=(b=D(this,ot).config).onSuccess)==null||y.call(b,f,this),(k=(g=D(this,ot).config).onSettled)==null||k.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,b)=>{Pe(this,vt,Ht).call(this,{type:"failed",failureCount:f,error:b})},onPause:()=>{Pe(this,vt,Ht).call(this,{type:"pause"})},onContinue:()=>{Pe(this,vt,Ht).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),D(this,Fe).start()}},zr=new WeakMap,Kn=new WeakMap,ot=new WeakMap,Gn=new WeakMap,Fe=new WeakMap,no=new WeakMap,qn=new WeakMap,vt=new WeakSet,Ht=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Pv(r.data,this.options),fetchMeta:t.meta??null};case"success":return re(this,Kn,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Ol(o)&&o.revert&&D(this,Kn)?{...D(this,Kn),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Be.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,ot).notify({query:this,type:"updated",action:t})})},Sf);function Pv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Av(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tt,Cf,Ov=(Cf=class extends Yi{constructor(t={}){super();le(this,Tt,void 0);this.config=t,re(this,Tt,new Map)}build(t,n,r){const o=n.queryKey,i=n.queryHash??eu(o,n);let l=this.get(i);return l||(l=new Rv({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(l)),l}add(t){D(this,Tt).has(t.queryHash)||(D(this,Tt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,Tt).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,Tt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Be.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,Tt).get(t)}getAll(){return[...D(this,Tt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ld(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Ld(t,r)):n}notify(t){Be.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Be.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Be.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tt=new WeakMap,Cf),Rt,_e,Yn,Pt,ln,Ef,Fv=(Ef=class extends qh{constructor(t){super();le(this,Pt);le(this,Rt,void 0);le(this,_e,void 0);le(this,Yn,void 0);this.mutationId=t.mutationId,re(this,_e,t.mutationCache),re(this,Rt,[]),this.state=t.state||Dv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Rt).includes(t)||(D(this,Rt).push(t),this.clearGcTimeout(),D(this,_e).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){re(this,Rt,D(this,Rt).filter(n=>n!==t)),this.scheduleGc(),D(this,_e).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Rt).length||(this.state.status==="pending"?this.scheduleGc():D(this,_e).remove(this))}continue(){var t;return((t=D(this,Yn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,a,c,u,h,p,f,b,y,g,k,v,d,x,N,w,L,j,E;const n=()=>{Pe(this,Pt,ln).call(this,{type:"continue"})};re(this,Yn,Gh({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,_)=>{Pe(this,Pt,ln).call(this,{type:"failed",failureCount:I,error:_})},onPause:()=>{Pe(this,Pt,ln).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,_e).canRun(this)}));const r=this.state.status==="pending",o=!D(this,Yn).canStart();try{if(r)n();else{Pe(this,Pt,ln).call(this,{type:"pending",variables:t,isPaused:o}),await((l=(i=D(this,_e).config).onMutate)==null?void 0:l.call(i,t,this));const _=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));_!==this.state.context&&Pe(this,Pt,ln).call(this,{type:"pending",context:_,variables:t,isPaused:o})}const I=await D(this,Yn).start();return await((h=(u=D(this,_e).config).onSuccess)==null?void 0:h.call(u,I,t,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,I,t,this.state.context)),await((y=(b=D(this,_e).config).onSettled)==null?void 0:y.call(b,I,null,this.state.variables,this.state.context,this)),await((k=(g=this.options).onSettled)==null?void 0:k.call(g,I,null,t,this.state.context)),Pe(this,Pt,ln).call(this,{type:"success",data:I}),I}catch(I){try{throw await((d=(v=D(this,_e).config).onError)==null?void 0:d.call(v,I,t,this.state.context,this)),await((N=(x=this.options).onError)==null?void 0:N.call(x,I,t,this.state.context)),await((L=(w=D(this,_e).config).onSettled)==null?void 0:L.call(w,void 0,I,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,I,t,this.state.context)),I}finally{Pe(this,Pt,ln).call(this,{type:"error",error:I})}}finally{D(this,_e).runNext(this)}}},Rt=new WeakMap,_e=new WeakMap,Yn=new WeakMap,Pt=new WeakSet,ln=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Be.batch(()=>{D(this,Rt).forEach(r=>{r.onMutationUpdate(t)}),D(this,_e).notify({mutation:this,type:"updated",action:t})})},Ef);function Dv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qt,yt,ro,Lf,Iv=(Lf=class extends Yi{constructor(t={}){super();le(this,Qt,void 0);le(this,yt,void 0);le(this,ro,void 0);this.config=t,re(this,Qt,new Set),re(this,yt,new Map),re(this,ro,0)}build(t,n,r){const o=new Fv({mutationCache:this,mutationId:++ho(this,ro)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){D(this,Qt).add(t);const n=Po(t);if(typeof n=="string"){const r=D(this,yt).get(n);r?r.push(t):D(this,yt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,Qt).delete(t)){const n=Po(t);if(typeof n=="string"){const r=D(this,yt).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&D(this,yt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Po(t);if(typeof n=="string"){const r=D(this,yt).get(n),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=Po(t);if(typeof n=="string"){const o=(r=D(this,yt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Be.batch(()=>{D(this,Qt).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,Qt).clear(),D(this,yt).clear()})}getAll(){return Array.from(D(this,Qt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Md(n,r))}findAll(t={}){return this.getAll().filter(n=>Md(t,n))}notify(t){Be.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Be.batch(()=>Promise.all(t.map(n=>n.continue().catch(xt))))}},Qt=new WeakMap,yt=new WeakMap,ro=new WeakMap,Lf);function Po(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Pd(e){return{onFetch:(t,n)=>{var h,p,f,b,y;const r=t.options,o=(f=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((b=t.state.data)==null?void 0:b.pages)||[],l=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const k=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=Uh(t.options,t.fetchOptions),d=async(x,N,w)=>{if(g)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const j=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};return k(P),P})(),E=await v(j),{maxPages:I}=t.options,_=w?Nv:kv;return{pages:_(x.pages,E,I),pageParams:_(x.pageParams,N,I)}};if(o&&i.length){const x=o==="backward",N=x?_v:Ad,w={pages:i,pageParams:l},L=N(r,w);a=await d(w,L,x)}else{const x=e??i.length;do{const N=c===0?l[0]??r.initialPageParam:Ad(r,a);if(c>0&&N==null)break;a=await d(a,N),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var g,k;return(k=(g=t.options).persister)==null?void 0:k.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Ad(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _v(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ge,pn,gn,Br,$r,xn,Wr,Hr,Mf,zv=(Mf=class{constructor(e={}){le(this,ge,void 0);le(this,pn,void 0);le(this,gn,void 0);le(this,Br,void 0);le(this,$r,void 0);le(this,xn,void 0);le(this,Wr,void 0);le(this,Hr,void 0);re(this,ge,e.queryCache||new Ov),re(this,pn,e.mutationCache||new Iv),re(this,gn,e.defaultOptions||{}),re(this,Br,new Map),re(this,$r,new Map),re(this,xn,0)}mount(){ho(this,xn)._++,D(this,xn)===1&&(re(this,Wr,Vh.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,ge).onFocus())})),re(this,Hr,Ci.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,ge).onOnline())})))}unmount(){var e,t;ho(this,xn)._--,D(this,xn)===0&&((e=D(this,Wr))==null||e.call(this),re(this,Wr,void 0),(t=D(this,Hr))==null||t.call(this),re(this,Hr,void 0))}isFetching(e){return D(this,ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,pn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,ge).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=D(this,ge).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime($a(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return D(this,ge).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=D(this,ge).get(r.queryHash),i=o==null?void 0:o.state.data,l=xv(t,i);if(l!==void 0)return D(this,ge).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Be.batch(()=>D(this,ge).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,ge).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=D(this,ge);Be.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=D(this,ge);return Be.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Be.batch(()=>D(this,ge).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(xt).catch(xt)}invalidateQueries(e,t={}){return Be.batch(()=>(D(this,ge).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Be.batch(()=>D(this,ge).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,n);return n.throwOnError||(i=i.catch(xt)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=D(this,ge).build(this,t);return n.isStaleByTime($a(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xt).catch(xt)}fetchInfiniteQuery(e){return e.behavior=Pd(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xt).catch(xt)}ensureInfiniteQueryData(e){return e.behavior=Pd(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ci.isOnline()?D(this,pn).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,ge)}getMutationCache(){return D(this,pn)}getDefaultOptions(){return D(this,gn)}setDefaultOptions(e){re(this,gn,e)}setQueryDefaults(e,t){D(this,Br).set(Js(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,Br).values()],n={};return t.forEach(r=>{Zs(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){D(this,$r).set(Js(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,$r).values()],n={};return t.forEach(r=>{Zs(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,gn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,gn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,ge).clear(),D(this,pn).clear()}},ge=new WeakMap,pn=new WeakMap,gn=new WeakMap,Br=new WeakMap,$r=new WeakMap,xn=new WeakMap,Wr=new WeakMap,Hr=new WeakMap,Mf),Bv=m.createContext(void 0),$v=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Bv.Provider,{value:e,children:t}));function Wv(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,l=[],a="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)n=o[0],n==="*"?(l.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),i=o.indexOf(".",1),l.push(o.substring(1,~r?r:~i?i:o.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+o.substring(i))):a+="/"+o;return{keys:l,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Yh={exports:{}},Xh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=m;function Hv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uv=typeof Object.is=="function"?Object.is:Hv,Vv=Xr.useState,Qv=Xr.useEffect,Kv=Xr.useLayoutEffect,Gv=Xr.useDebugValue;function qv(e,t){var n=t(),r=Vv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Kv(function(){o.value=n,o.getSnapshot=t,Fl(o)&&i({inst:o})},[e,n,t]),Qv(function(){return Fl(o)&&i({inst:o}),e(function(){Fl(o)&&i({inst:o})})},[e]),Gv(n),n}function Fl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Uv(e,n)}catch{return!0}}function Yv(e,t){return t()}var Xv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yv:qv;Xh.useSyncExternalStore=Xr.useSyncExternalStore!==void 0?Xr.useSyncExternalStore:Xv;Yh.exports=Xh;var Jv=Yh.exports;const Zv=cc["useInsertionEffect"],ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ty=ey?m.useLayoutEffect:m.useEffect,ny=Zv||ty,Jh=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return ny(()=>{t[0]=e}),t[1]},ry="popstate",nu="pushState",ru="replaceState",sy="hashchange",Od=[ry,nu,ru,sy],oy=e=>{for(const t of Od)addEventListener(t,e);return()=>{for(const t of Od)removeEventListener(t,e)}},Zh=(e,t)=>Jv.useSyncExternalStore(oy,e,t),iy=()=>location.search,ly=({ssrSearch:e=""}={})=>Zh(iy,()=>e),Fd=()=>location.pathname,ay=({ssrPath:e}={})=>Zh(Fd,e?()=>e:Fd),cy=(e,{replace:t=!1,state:n=null}={})=>history[t?ru:nu](n,"",e),uy=(e={})=>[ay(e),cy],Dd=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Dd]>"u"){for(const e of[nu,ru]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Dd,{value:!0})}const dy=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ep=(e="")=>e==="/"?"":e,fy=(e,t)=>e[0]==="~"?e.slice(1):ep(t)+e,my=(e="",t)=>dy(Id(ep(e)),Id(t)),Id=e=>{try{return decodeURI(e)}catch{return e}},tp={hook:uy,searchHook:ly,parser:Wv,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},np=m.createContext(tp),co=()=>m.useContext(np),rp={},sp=m.createContext(rp),hy=()=>m.useContext(sp),Ji=e=>{const[t,n]=e.hook(e);return[my(e.base,t),Jh((r,o)=>n(fy(r,e.base),o))]},Zi=()=>Ji(co()),op=(e,t,n,r)=>{const{pattern:o,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),l=o.exec(n)||[],[a,...c]=l;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((p,f)=>[p,c[f]])):l.groups;let h={...c};return u&&Object.assign(h,u),h})(),...r?[a]:[]]:[!1,null]},ip=({children:e,...t})=>{var h,p;const n=co(),r=t.hook?tp:n;let o=r;const[i,l]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=i),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let a=m.useRef({}),c=a.current,u=c;for(let f in r){const b=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===u&&b!==u[f]&&(a.current=u={...u}),u[f]=b,(b!==r[f]||b!==o[f])&&(o=u)}return m.createElement(np.Provider,{value:o,children:e})},_d=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,py=e=>{let t=m.useRef(rp);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,o])=>o!==n[r])?e:n},$t=({path:e,nest:t,match:n,...r})=>{const o=co(),[i]=Ji(o),[l,a,c]=n??op(o.parser,e,i,t),u=py({...hy(),...a});if(!l)return null;const h=c?m.createElement(ip,{base:c},_d(r,u)):_d(r,u);return m.createElement(sp.Provider,{value:u,children:h})},gy=m.forwardRef((e,t)=>{const n=co(),[r,o]=Ji(n),{to:i="",href:l=i,onClick:a,asChild:c,children:u,className:h,replace:p,state:f,...b}=e,y=Jh(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(a==null||a(k),k.defaultPrevented||(k.preventDefault(),o(l,e)))}),g=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:y,href:g}):m.createElement("a",{...b,onClick:y,href:g,className:h!=null&&h.call?h(r===l):h,children:u,ref:t})}),lp=e=>Array.isArray(e)?e.flatMap(t=>lp(t&&t.type===m.Fragment?t.props.children:t)):[e],xy=({children:e,location:t})=>{const n=co(),[r]=Ji(n);for(const o of lp(e)){let i=0;if(m.isValidElement(o)&&(i=op(n.parser,o.props.path,t||r,o.props.nest))[0])return m.cloneElement(o,{match:i})}return null},vy="https://myhome-cleanteam-app-production.up.railway.app",te=e=>window.location.hostname==="localhost"?e:`${vy}${e}`;function uo(){const[e,t]=m.useState(null),[n,r]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await fetch(te("/api/auth/me"),{credentials:"include"});if(l.ok){const a=await l.json();t(a.data.user)}else t(null)}catch(l){console.error("Auth check failed:",l),t(null)}finally{r(!1)}};return{user:e,loading:n,logout:async()=>{try{await fetch(te("/api/auth/logout"),{method:"POST",credentials:"include"}),t(null)}catch(l){console.error("Logout failed:",l)}},checkAuth:o}}function yy(){const[e,t]=m.useState("test@example.com"),[n,r]=m.useState("password123"),[o,i]=m.useState(!1),[l,a]=m.useState(""),[,c]=Zi(),{checkAuth:u}=uo(),h=async p=>{p.preventDefault(),i(!0),a("");try{const f=te("/api/auth/login");console.log("🚀 Attempting login..."),console.log("📡 URL:",f),console.log("📦 Payload:",{email:e,password:n});const b=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:n})});console.log("📊 Response status:",b.status),console.log("📋 Response headers:",Object.fromEntries(b.headers.entries()));const y=await b.json();if(console.log("📄 Response data:",y),y.success){const g=y.data.user;await u(),g.role==="admin"||g.role==="manager"?c("/admin"):c("/staff/dashboard")}else a(y.error||"Login failed")}catch(f){console.error("Login error:",f),a("Network error")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"MyHome CleanTeam"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[l&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:p=>t(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:p=>r(p.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Signing in...":"Sign in"})}),s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Quick login (for testing):"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{t("test@example.com"),r("password123")},className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Staff User"}),s.jsx("button",{type:"button",onClick:()=>{t("admin@example.com"),r("password123")},className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Admin User"})]})]})]})]})})}function wy(){const[e,t]=m.useState(null),[n,r]=m.useState(null),[o,i]=m.useState(!0);return m.useEffect(()=>{if(!navigator.geolocation){r("Geolocation not supported"),i(!1);return}const l=c=>{console.log("Geolocation success:",{latitude:c.coords.latitude,longitude:c.coords.longitude,accuracy:c.coords.accuracy+" meters",timestamp:new Date(c.timestamp).toLocaleString()}),t({latitude:c.coords.latitude,longitude:c.coords.longitude}),i(!1)},a=c=>{console.error("Geolocation error:",c),r(c.message),i(!1)};navigator.geolocation.getCurrentPosition(l,a,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},[]),{location:e,error:n,isLoading:o}}let Dl=null;async function by(){if(Dl)return Dl;try{const e=await fetch(te("/api/google-maps-api-key"),{credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch API key: ${e.status}`);const t=await e.json();if(!t.apiKey||typeof t.apiKey!="string")throw new Error("No valid API key received from server");return Dl=t.apiKey,t.apiKey}catch{throw new Error("Failed to load Google Maps API key")}}let In=!1,Ao=!1;function rs(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[o,i]=m.useState(null),[l,a]=m.useState(null),c=async()=>{if(!(In||Ao)){r(!0),In=!0,i(null);try{const u=await by();if(a(u),document.querySelector('script[src*="maps.googleapis.com"]')){await new Promise((f,b)=>{const y=()=>{window.google&&window.google.maps?(t(!0),r(!1),Ao=!0,f()):setTimeout(y,100)};y(),setTimeout(()=>b(new Error("Script load timeout")),5e3)});return}const p=document.createElement("script");p.src=`https://maps.googleapis.com/maps/api/js?key=${u}&libraries=places,geometry`,p.async=!0,p.defer=!0,p.onload=()=>{t(!0),r(!1),Ao=!0,In=!1},p.onerror=()=>{i("Failed to load Google Maps script"),r(!1),In=!1},document.head.appendChild(p)}catch(u){i(u instanceof Error?u.message:"Failed to load Google Maps"),r(!1),In=!1}}};return m.useEffect(()=>{if(window.google&&window.google.maps){t(!0);return}if(In){const f=()=>{window.google&&window.google.maps?(t(!0),r(!1)):In&&setTimeout(f,100)};f();return}if(Ao){t(!0);return}let u=0;const h=5,p=setInterval(()=>{if(u++,window.google&&window.google.maps){t(!0),r(!1),clearInterval(p);return}u>=h&&(clearInterval(p),c())},200);return()=>{clearInterval(p)}},[]),{isLoaded:e,isLoading:n,error:o,apiKey:l}}const Nt=e=>{if(!e)return"";let t=e.replace(/,?\s*Australia\s*$/i,"");t=t.replace(/,?\s*(VIC|NSW|QLD|WA|SA|TAS|NT|ACT)\s*\d{4}\s*$/i,""),t=t.replace(/,?\s*(VIC|NSW|QLD|WA|SA|TAS|NT|ACT)\s*$/i,""),t=t.replace(/,?\s*\d{4}\s*$/i,"");const n=t.split(",").map(r=>r.trim()).filter(Boolean);return n.length>=2?`${n[0]}, ${n[1]}`:t};function jy({customer:e,isOpen:t,onClose:n,onSuccess:r,allottedMinutes:o}){const[i,l]=m.useState([]),[a,c]=m.useState(null),[u,h]=m.useState([]),[p,f]=m.useState([]),[b,y]=m.useState(!1),[g,k]=m.useState(null),[v,d]=m.useState(!1),[x,N]=m.useState([]),[w,L]=m.useState([]),[j,E]=m.useState([]),[I,_]=m.useState([]),[P,U]=m.useState(e),[M,A]=m.useState(""),[V,C]=m.useState(!1);m.useRef(null);const{apiKey:O}=rs();m.useEffect(()=>{t&&(S(),e||T())},[t,e]),m.useEffect(()=>{U(e)},[e]),m.useEffect(()=>{const R=W=>{W.target.closest(".customer-search-container")||C(!1)};if(V)return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[V]),m.useEffect(()=>{a&&z(a)},[a]);const S=async()=>{try{const R=await fetch(te("/api/staff/teams"),{credentials:"include"});if(R.ok){const W=await R.json();l(W.data),W.data.length===1&&c(W.data[0].id)}}catch(R){console.error("Failed to fetch teams:",R)}},T=async()=>{try{const R=await fetch(te("/api/staff/customers"),{credentials:"include"});if(R.ok){const W=await R.json();_(W.data)}}catch(R){console.error("Failed to fetch customers:",R)}},z=async R=>{var W;try{const Z=await fetch(te(`/api/staff/teams/${R}/members`),{credentials:"include"});if(Z.ok){const je=await Z.json();h(je.data||[]),f(((W=je.data)==null?void 0:W.map(st=>st.id))||[])}}catch(Z){console.error("Failed to fetch team members:",Z)}},Q=async()=>{try{const R=await fetch(te("/api/staff/teams/other-members"),{credentials:"include"});if(R.ok){const W=await R.json();N(W.data||[])}}catch(R){console.error("Failed to fetch other team members:",R)}},X=R=>{f(W=>W.includes(R)?W.filter(Z=>Z!==R):[...W,R])},F=R=>{L(W=>W.includes(R)?W.filter(Z=>Z!==R):[...W,R])},H=()=>{const R=x.filter(W=>w.includes(W.id));f(W=>[...W,...w]),E(W=>[...W,...R]),d(!1),L([])},K=R=>{f(W=>W.filter(Z=>Z!==R)),E(W=>W.filter(Z=>Z.id!==R))},J=()=>{d(!0),Q()},B=async()=>{if(!a||!P||!p.length){k("Please fill in all required fields");return}y(!0),k("");try{const R=await fetch(te("/api/staff/time-entries/clock-in"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({teamId:a,customerId:P,memberIds:p})}),W=await R.json();R.ok?(r(),n()):k(W.error||"Failed to clock in")}catch{k("Network error occurred")}finally{y(!1)}},ee=(R,W)=>`${R[0]}${W[0]}`.toUpperCase(),ne=R=>{const W=x.find(Z=>Z.id===R);if(W){const Z=i.find(je=>je.id===W.teamId);return(Z==null?void 0:Z.name)||"Unknown Team"}return""};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 sm:rounded-lg sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs("button",{onClick:n,className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]}),s.jsx("span",{className:"sr-only",children:"Close"})]}),s.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Clock In"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select a customer to start tracking time"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Customer"}),P?s.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsx("div",{className:"text-sm text-gray-600",children:P.address?Nt(P.address):""}),o&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Allowed time target: ",s.jsxs("span",{className:"font-semibold",children:[o," min"]})]})]}),s.jsx("button",{onClick:()=>U(null),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white hover:bg-gray-50 h-9 rounded-md px-3",children:"Change"})]})}):s.jsxs("div",{className:"relative customer-search-container",children:[s.jsx("input",{type:"text",placeholder:"Search for a customer...",value:M,onChange:R=>{A(R.target.value),C(!0)},onFocus:()=>C(!0),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),V&&M&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.filter(R=>R.name.toLowerCase().includes(M.toLowerCase())).map(R=>s.jsxs("button",{onClick:()=>{U(R),A(""),C(!1)},className:"w-full p-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:R.name}),s.jsx("div",{className:"text-sm text-gray-600",children:Nt(R.address)})]},R.id))})]})]}),P&&O&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Customer Location"]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("iframe",{width:"100%",height:"200",loading:"lazy",allowFullScreen:!0,src:`https://www.google.com/maps/embed/v1/place?key=${O}&q=${encodeURIComponent(P.address?Nt(P.address):"")}&zoom=17&maptype=roadmap`,style:{border:0}})})]}),i.length>1&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Select Team"]}),s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsx("div",{className:"space-y-3",children:i.map(R=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":a===R.id,"data-state":a===R.id?"checked":"unchecked",onClick:()=>c(R.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a===R.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:a===R.id&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${R.color}20`},children:s.jsx("span",{className:"text-sm font-medium",style:{color:R.color},children:R.name.split(" ").map(W=>W[0]).join("").toUpperCase()})}),s.jsx("span",{className:"text-sm font-medium",children:R.name})]})]},R.id))}),s.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Select a team to clock in with"})]})]}),a&&(u.length>0||j.length>0)&&s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("label",{className:"text-base font-medium flex items-center mb-3",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Team Members Present"]}),u.length>0&&s.jsx("div",{className:"space-y-3 mb-4",children:u.map(R=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":p.includes(R.id),"data-state":p.includes(R.id)?"checked":"unchecked",onClick:()=>X(R.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${p.includes(R.id)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:p.includes(R.id)&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600",children:ee(R.firstName,R.lastName)})}),s.jsxs("span",{className:"text-sm font-medium",children:[R.firstName," ",R.lastName]})]})]},R.id))}),j.length>0&&s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("div",{className:"text-xs font-medium text-gray-600 mb-2",children:"Added from other teams:"}),j.map(R=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":p.includes(R.id),"data-state":p.includes(R.id)?"checked":"unchecked",onClick:()=>X(R.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${p.includes(R.id)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:p.includes(R.id)&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-green-600",children:ee(R.firstName,R.lastName)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"text-sm font-medium",children:[R.firstName," ",R.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:ne(R.id)})]})]}),s.jsx("button",{onClick:()=>K(R.id),className:"text-red-500 hover:text-red-700 p-1",title:"Remove member",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]})})]},R.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Unchecked team members won't be tracked for this clean"}),s.jsx("div",{className:"mt-4 border-t pt-4",children:s.jsx("button",{onClick:J,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white hover:bg-gray-50 h-9 rounded-md px-3 w-full",children:"Add Team Member from Other Team"})})]})}),g&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:g})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:n,disabled:b,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 h-10 px-4 py-2 flex-1",children:"Cancel"}),s.jsx("button",{onClick:B,disabled:b||!a||!P,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2 flex-1",children:b?"Clocking In...":"Clock In"})]})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:s.jsxs("div",{className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 sm:rounded-lg sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs("button",{onClick:()=>d(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]}),s.jsx("span",{className:"sr-only",children:"Close"})]}),s.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Add Team Members"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select members from other teams to include"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Available Team Members"}),s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 max-h-60 overflow-y-auto",children:x.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No other team members available"}):s.jsx("div",{className:"space-y-3",children:x.filter(R=>!j.some(W=>W.id===R.id)).map(R=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":w.includes(R.id),"data-state":w.includes(R.id)?"checked":"unchecked",onClick:()=>F(R.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${w.includes(R.id)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:w.includes(R.id)&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-green-600",children:ee(R.firstName,R.lastName)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"text-sm font-medium",children:[R.firstName," ",R.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:ne(R.id)})]})]})]},R.id))})})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:()=>d(!1),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 h-10 px-4 py-2 flex-1",children:"Cancel"}),s.jsxs("button",{onClick:H,disabled:w.length===0,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2 flex-1",children:["Add Selected (",w.length,")"]})]})]})})]}):null}function ky({isOpen:e,onClose:t,onSuccess:n}){const[r,o]=m.useState(!1),[i,l]=m.useState(!1),[a,c]=m.useState(null),[u,h]=m.useState(null),[p,f]=m.useState(!1),[b,y]=m.useState([]);m.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{const d=await fetch(te("/api/staff/time-entries/current"),{credentials:"include"});if(d.ok){const x=await d.json();x.success&&x.data&&(h(x.data),y(x.data.members.map(N=>N.id)))}}catch(d){console.error("Failed to fetch current clean info:",d)}},k=d=>{y(x=>x.includes(d)?x.filter(N=>N!==d):[...x,d])},v=async()=>{if(u){l(!0),c(null);try{const d=await fetch(te("/api/staff/time-entries/clock-out"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lunchBreak:r,clockOutAllMembers:b.length===u.members.length,selectedMemberIds:b})}),x=await d.json();d.ok?(n(),t()):c(x.error||"Failed to end clean")}catch{c("Network error occurred")}finally{l(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"End Clean"}),u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:u.teamColor}}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:u.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(u.customerAddress)}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Team: ",u.teamName]})]})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Started: ",new Date(u.clockInTime).toLocaleString()]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Team Members"}),s.jsxs("button",{onClick:()=>f(!p),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),p?"Done":"Edit"]})]}),s.jsx("div",{className:"space-y-2",children:u.members.map(d=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[p&&s.jsx("input",{type:"checkbox",checked:b.includes(d.id),onChange:()=>k(d.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600",children:d.name.split(" ").map(x=>x[0]).join("").toUpperCase()})}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"text-sm font-medium",children:d.name})})]},d.id))}),p&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Uncheck team members you don't want to end the clean for. All members are selected by default."})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading clean information..."})}),a&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:a})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:t,disabled:i,className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:v,disabled:i||!u||b.length===0,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 disabled:opacity-50",children:i?"Ending Clean...":`End Clean (${b.length} Member${b.length!==1?"s":""})`})]})]})}):null}const su=e=>{const t=e.replace(/\D/g,"");return t.length<=4?t:t.length<=7?`${t.slice(0,4)} ${t.slice(4)}`:`${t.slice(0,4)} ${t.slice(4,7)} ${t.slice(7,10)}`};function Ny({address:e,className:t="",isBackground:n=!1}){const[r,o]=m.useState(null),[i,l]=m.useState(!0),[a,c]=m.useState(!1),[u,h]=m.useState(0),{isLoaded:p,apiKey:f}=rs(),b=3;return m.useEffect(()=>{o(null),c(!1),h(0),l(!0)},[e]),m.useEffect(()=>{const y=async()=>{var k,v;try{if(!p||!((v=(k=window.google)==null?void 0:k.maps)!=null&&v.Geocoder)||!f){console.error("❌ Google Maps Geocoder not available or API key missing"),c(!0),l(!1);return}new window.google.maps.Geocoder().geocode({address:e+", Australia"},(x,N)=>{if(N==="OK"&&x[0]){const w=x[0].geometry.location,L=w.lat(),j=w.lng(),E=`https://maps.googleapis.com/maps/api/streetview?size=400x240&location=${L},${j}&key=${f}&pitch=0&fov=90&t=${Date.now()}`,I=new Image,_=setTimeout(()=>{I.onload=null,I.onerror=null,console.error("❌ Street View image load timeout for address:",e),g()},1e4);I.onload=()=>{clearTimeout(_),o(E),l(!1)},I.onerror=P=>{clearTimeout(_),console.error("❌ Street View image failed to load for address:",e),g()},I.src=E}else console.error("Geocoding failed for address:",e,"Status:",N),c(!0),l(!1)})}catch(d){console.error("Geocoding error for street view:",d),c(!0),l(!1)}},g=()=>{u<b?(console.log(`🔄 Retrying image load for ${e} (attempt ${u+1}/${b})`),h(k=>k+1),setTimeout(()=>{y()},1e3*(u+1))):(console.error("❌ All retry attempts failed for address:",e),c(!0),l(!1))};e&&p&&f&&y()},[e,p,f,u]),i?s.jsx("div",{className:`${t} bg-gray-100 flex items-center justify-center`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),u>0&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Retrying... (",u,"/",b,")"]})]})}):a||!r?s.jsx("div",{className:`${t} bg-gray-100 flex items-center justify-center`,children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("div",{className:"text-xs",children:"Location preview unavailable"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Street View API may not be enabled"})]})}):n?s.jsx("div",{className:`${t} bg-cover bg-center`,style:{backgroundImage:`url(${r})`,backgroundPosition:"center center",minHeight:"200px"}}):s.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:`${t} block w-full h-full cursor-pointer hover:opacity-90 transition-opacity duration-200`,title:"Click to view larger street view",children:[s.jsx("img",{src:r,alt:`Street view of ${e}`,className:"w-full h-full object-cover",onError:y=>{y.currentTarget.style.display="none",y.currentTarget.parentElement.style.display="none"}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded-full",children:[s.jsx("svg",{className:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View"]})]})}const Sy=[{min:0,max:199,minutes:90},{min:200,max:299,minutes:120},{min:300,max:399,minutes:150},{min:400,max:499,minutes:180},{min:500,max:999999,minutes:240}];function Cy(e){if(!e)return;const t=typeof e=="string"?parseFloat(e):e,n=Sy.find(r=>t>=r.min&&t<=r.max);return n?n.minutes:void 0}function Ey(){const{user:e,loading:t,logout:n}=uo(),[,r]=Zi(),{location:o,error:i,isLoading:l}=wy(),[a,c]=m.useState(null),[u,h]=m.useState([]),[p,f]=m.useState(5e4),[b,y]=m.useState([]),[g,k]=m.useState(0),[v,d]=m.useState(!1),[x,N]=m.useState(!1),[w,L]=m.useState(null),j=m.useRef(null);m.useEffect(()=>{if(!t){if(!e){r("/login");return}E()}},[e,t,r]),m.useEffect(()=>{o&&I()},[o]),m.useEffect(()=>(j.current&&(clearInterval(j.current),j.current=null),a&&(j.current=setInterval(()=>{_()},3e4)),()=>{j.current&&(clearInterval(j.current),j.current=null)}),[a==null?void 0:a.id]),m.useEffect(()=>{if(a){const F=window.setInterval(()=>{const H=new Date().getTime(),K=new Date(a.clockInTime).getTime();k(Math.floor((H-K)/1e3))},1e3);return()=>{window.clearInterval(F)}}},[a]);const E=async()=>{try{const[F,H]=await Promise.all([fetch(te("/api/staff/active-job"),{credentials:"include"}),fetch(te("/api/staff/completed-today"),{credentials:"include"})]);if(F.ok){const K=await F.json();c(K.data)}if(H.ok){const K=await H.json();y(K.data)}}catch(F){console.error("Failed to fetch data:",F)}},I=async()=>{if(o)try{const F=await fetch(te("/api/staff/customers"),{credentials:"include"});if(F.ok){const H=await F.json();console.log("Staff Dashboard: Received",H.data.length,"customers with coordinates"),h(H.data),f(H.radiusMeters||5e4)}}catch(F){console.error("Failed to fetch customers:",F)}},_=async()=>{try{const F=await fetch(te("/api/staff/active-job"),{credentials:"include"});if(F.ok){const H=await F.json();c(H.data)}}catch(F){console.error("Failed to fetch active job:",F)}},P=F=>{if(!o)return null;const H=parseFloat(F.latitude),K=parseFloat(F.longitude);if(isNaN(H)||isNaN(K))return console.warn("Invalid coordinates for customer:",F.name,F.latitude,F.longitude),null;const J=6371e3,B=o.latitude*Math.PI/180,ee=H*Math.PI/180,ne=(H-o.latitude)*Math.PI/180,R=(K-o.longitude)*Math.PI/180,W=Math.sin(ne/2)*Math.sin(ne/2)+Math.cos(B)*Math.cos(ee)*Math.sin(R/2)*Math.sin(R/2),Z=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return Math.round(J*Z)},U=F=>{const H=Math.floor(F/3600),K=Math.floor(F%3600/60),J=F%60;return`${H.toString().padStart(2,"0")}:${K.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},M=F=>F<1e3?`${F}m`:`${(F/1e3).toFixed(1)}km`,A=()=>a?g>a.allottedMinutes*60:!1,V=F=>{L(F),d(!0)},C=()=>{L(null),d(!0)},O=()=>{N(!0)},S=()=>{E()},T=()=>{c(null),E()},z=m.useMemo(()=>{if(!o||!u||u.length===0)return[];const F=u.filter(K=>K.latitude&&K.longitude);return F.length===0?[]:F.map(K=>{const J=P(K);return J!==null&&J<=p?{...K,distance:J}:null}).filter(Boolean).sort((K,J)=>K.distance-J.distance)},[o==null?void 0:o.latitude,o==null?void 0:o.longitude,u,p]);if(t)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Loading your dashboard..."})]})});if(l)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Getting your location..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This helps us show nearby jobs"})]})});const Q=()=>{const F=new Date().getHours();return F<12?"Good Morning":F<17?"Good Afternoon":"Good Evening"},X=()=>l?s.jsxs("div",{className:"flex items-center text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),s.jsx("span",{className:"text-sm",children:"Getting location..."})]}):i?s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm",children:"Location unavailable"})]}):o?s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm",children:"Active"})]}):null;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("div",{children:s.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[Q(),", ",e==null?void 0:e.firstName]})})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[X(),s.jsxs("button",{onClick:n,className:"inline-flex items-center px-3 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 bg-white/50 hover:bg-white hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a?s.jsxs("div",{className:`mb-8 rounded-2xl shadow-sm border ${A()?"bg-gradient-to-r from-red-50 to-pink-50 border-red-200":"bg-white border-gray-200"} p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${A()?"bg-red-100":"bg-blue-100"}`,children:s.jsx("svg",{className:`w-6 h-6 ${A()?"text-red-600":"text-blue-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Currently Working"}),s.jsx("p",{className:"text-gray-600 font-medium",children:a.customerName}),s.jsx("p",{className:"text-sm text-gray-500",children:Nt(a.customerAddress)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`text-3xl font-bold ${A()?"text-red-600":"text-gray-900"}`,children:U(g)}),s.jsx("div",{className:`text-sm ${A()?"text-red-600":"text-gray-500"}`,children:A()?"Overtime":`${a.allottedMinutes} min allocated`})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:`text-sm font-semibold ${A()?"text-red-600":"text-gray-900"}`,children:[Math.round(g/(a.allottedMinutes*60)*100),"%"]})})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ease-out shadow-sm ${A()?"bg-gradient-to-r from-red-500 to-red-600":g>a.allottedMinutes*60*.8?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{width:`${Math.min(100,g/(a.allottedMinutes*60)*100)}%`}})})]}),s.jsxs("div",{className:"space-y-6 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Started At"})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center shadow-sm",children:s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date(a.clockInTime).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!0})}),s.jsx("div",{className:"text-sm text-gray-600",children:new Date(a.clockInTime).toLocaleDateString("en-AU",{weekday:"short",month:"short",day:"numeric"})})]})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Target Finish"})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-100 to-orange-200 rounded-full flex items-center justify-center shadow-sm",children:s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:(()=>{const F=new Date(a.clockInTime);return new Date(F.getTime()+a.allottedMinutes*60*1e3).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!0})})()}),s.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const F=new Date(a.clockInTime);return new Date(F.getTime()+a.allottedMinutes*60*1e3).toLocaleDateString("en-AU",{weekday:"short",month:"short",day:"numeric"})})()})]})]})})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Team"}),s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:[a.teamSize," member",a.teamSize!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:a.teamColor||"#3b82f6"}}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:a.teamName})]}),s.jsx("div",{className:"space-y-2",children:a.members.map(F=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center shadow-sm",children:s.jsx("span",{className:"text-xs font-semibold text-blue-700",children:F.name.split(" ").map(H=>H[0]).join("").toUpperCase()})}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.name})})]},F.id))})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:O,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"End Clean"]})})]}):s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nearby Customers"})}),z.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.map(F=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-gray-200 transition-all duration-200 overflow-hidden group",children:[s.jsx("div",{className:"relative h-32 bg-gray-100",children:s.jsx(Ny,{address:F.address,className:"relative w-full h-full"})}),s.jsxs("div",{className:"p-5",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:F.name}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[s.jsxs("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Nt(F.address)]}),F.phone&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),su(F.phone)]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),F.distance?M(F.distance)+" away":"Location unknown"]})]})}),s.jsxs("button",{onClick:()=>V(F),className:"w-full inline-flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 group-hover:shadow-sm",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Start Clean"]})]})]},F.id))}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("svg",{className:"w-16 h-16 text-gray-300 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o?"No jobs available nearby":"Location Required"}),s.jsx("p",{className:"text-gray-500 mb-4",children:o?"Try expanding your search or use manual search.":"Please enable location access to find nearby jobs."}),o&&s.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search All Customers"]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Completed Today"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your work summary"})]})}),b.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(F=>{const H=new Date(F.clockOutTime).getTime()-new Date(F.clockInTime).getTime(),K=Math.floor(H/(1e3*60*60)),J=Math.floor(H%(1e3*60*60)/(1e3*60));return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:F.customerName}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Nt(F.customerAddress)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[K,"h ",J,"m"]}),F.lunchBreak&&s.jsx("div",{className:"text-xs text-blue-600 font-medium",children:F.autoLunchDeducted?"🍽️ Auto lunch":"🍽️ Manual lunch"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(F.clockInTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",new Date(F.clockOutTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]}),s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]},F.id)})}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No jobs completed today"}),s.jsx("p",{className:"text-gray-500",children:"Your completed jobs will appear here"})]})]})]}),s.jsx(jy,{customer:w,isOpen:v,onClose:()=>d(!1),onSuccess:S,allottedMinutes:w?Cy(w.price):void 0}),s.jsx(ky,{isOpen:x,onClose:()=>N(!1),onSuccess:T})]})}function Ly({isOpen:e,onClose:t}){var a,c;const{user:n,logout:r}=uo(),[o]=Zi(),i=[{name:"Dashboard",href:"/admin",icon:s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]})},{name:"Customer Management",href:"/admin/customers",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Staff Management",href:"/admin/staff",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Team Management",href:"/admin/teams",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Reports",href:"/admin/reports",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Settings",href:"/admin/settings",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 0V4m0 16v-4m8-4h-4m-8 0H4m13.66-6.34l-2.83 2.83M6.34 17.66l2.83-2.83m0-8.49l-2.83 2.83M17.66 17.66l-2.83-2.83"})})}],l=u=>u==="/admin"?o==="/admin":o.startsWith(u);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-gray-600 transition-opacity duration-300 ease-in-out z-40 lg:hidden ${e?"bg-opacity-75 pointer-events-auto":"bg-opacity-0 pointer-events-none"}`,onClick:t}),s.jsxs("div",{className:`
        fixed top-0 right-0 z-50 h-screen w-80 max-w-[85vw] bg-white shadow-lg transform transition-transform duration-300 ease-in-out flex flex-col
        ${e?"translate-x-0":"translate-x-full"} lg:fixed lg:left-0 lg:translate-x-0 lg:z-auto lg:w-64 lg:h-screen
      `,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 border-b border-gray-200 h-[84px]",children:[s.jsxs("div",{className:"flex items-center h-full pt-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),s.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-900 leading-none",children:"MyHome CleanTeam"})]}),s.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:s.jsx("div",{className:"space-y-3",children:i.map(u=>s.jsxs(gy,{href:u.href,onClick:t,className:`
                  group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors
                  ${l(u.href)?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                `,children:[s.jsx("span",{className:`mr-3 ${l(u.href)?"text-blue-700":"text-gray-400 group-hover:text-gray-500"}`,children:u.icon}),u.name]},u.name))})}),s.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-3 mt-auto",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-blue-600 font-medium",children:[(a=n==null?void 0:n.firstName)==null?void 0:a.charAt(0),(c=n==null?void 0:n.lastName)==null?void 0:c.charAt(0)]})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:n==null?void 0:n.role})]})]}),s.jsxs("button",{onClick:r,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]})}function sr({children:e}){const[t,n]=m.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsx(Ly,{isOpen:t,onClose:()=>n(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64",children:[s.jsx("button",{onClick:()=>n(!t),className:"lg:hidden fixed top-4 right-4 z-50 p-2.5 rounded-lg bg-white shadow-lg text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 border border-gray-200",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("main",{className:"flex-1 lg:pt-0",children:e})]})]})}const My=m.memo(function({customers:t,className:n=""}){const r=m.useRef(null),o=m.useRef(null),i=m.useRef([]),[l,a]=m.useState(!1),[c,u]=m.useState(0),{isLoaded:h,error:p}=rs();return m.useEffect(()=>{if(!r.current||!h||t.length===0||i.current.length===t.length)return;const f=()=>{var y,g;if((g=(y=window.google)==null?void 0:y.maps)!=null&&g.Map)try{const k=new window.google.maps.LatLngBounds,v=t.filter(d=>d.latitude&&d.longitude);if(v.length===0){a(!0);return}v.forEach(d=>{const x=parseFloat(d.latitude),N=parseFloat(d.longitude);!isNaN(x)&&!isNaN(N)&&k.extend({lat:x,lng:N})}),o.current=new window.google.maps.Map(r.current,{center:k.getCenter(),zoom:10,mapTypeId:window.google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),o.current.fitBounds(k),window.google.maps.event.addListenerOnce(o.current,"bounds_changed",()=>{o.current.getZoom()>15&&o.current.setZoom(15)}),i.current.forEach(d=>d.setMap(null)),i.current=[],v.forEach(d=>{const x=parseFloat(d.latitude),N=parseFloat(d.longitude);if(!isNaN(x)&&!isNaN(N)){const w=new window.google.maps.Marker({position:{lat:x,lng:N},map:o.current,title:d.name,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:d.status==="active"?"#10B981":"#6B7280",fillOpacity:1,strokeColor:d.teamColor||"#374151",strokeWeight:2}}),L=new window.google.maps.InfoWindow({content:`
                <div style="padding: 8px; max-width: 200px;">
                  <div style="font-weight: bold; margin-bottom: 4px;">${d.name}</div>
                  <div style="font-size: 12px; color: #666;">${d.address}</div>
                  <div style="font-size: 11px; color: #999; margin-top: 4px;">
                    Status: ${d.status==="active"?"🟢 Active":"✅ Completed"}
                  </div>
                </div>
              `});w.addListener("click",()=>{L.open(o.current,w)}),i.current.push(w)}})}catch(k){console.error("AdminDashboardMap: Error creating map:",k),a(!0)}},b=()=>{var y,g;if(!((g=(y=window.google)==null?void 0:y.maps)!=null&&g.Map))if(c<50){u(k=>k+1),setTimeout(b,100);return}else{console.error("AdminDashboardMap: Google Maps not available after retries - may be blocked by ad blocker"),a(!0);return}f()};return b(),()=>{i.current.forEach(y=>y.setMap(null)),i.current=[]}},[t.length,h]),l||p?s.jsx("div",{className:n,children:s.jsxs("div",{className:"w-full rounded border bg-gray-50 p-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-gray-500 text-sm mb-2",children:"Map Unavailable"}),s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:p||"Google Maps may be blocked by ad blocker"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Try disabling ad blocker for this site"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:["Customer Locations (",t.length,"):"]}),t.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:f.name}),s.jsx("div",{className:"text-xs text-gray-500",children:f.address})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status==="active"?"🟢 Active":"✅ Completed"}),s.jsx("span",{className:"text-xs text-gray-400",children:f.latitude&&f.longitude?"📍 Located":"📍 Unknown"})]})]},f.id))]})]})}):t.length===0?s.jsx("div",{className:n,children:s.jsx("div",{className:"w-full h-64 rounded border bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-gray-500 text-sm",children:"No customer locations to display"})})})}):s.jsx("div",{className:n,children:s.jsx("div",{ref:r,className:"w-full h-64 rounded border",style:{minHeight:"256px"}})})},(e,t)=>e.customers.length===t.customers.length&&e.className===t.className);function Ty(){const[e,t]=m.useState(null),[n,r]=m.useState([]),[o,i]=m.useState([]),[l,a]=m.useState(!0),[c,u]=m.useState(null),[h,p]=m.useState(!1),[f,b]=m.useState("today"),[y,g]=m.useState({start:"",end:""}),[k,v]=m.useState(!1),d=m.useRef(null),x=m.useRef(null),N=m.useRef(null),w=M=>{const A=new Date(M),V=A.getFullYear(),C=String(A.getMonth()+1).padStart(2,"0"),O=String(A.getDate()).padStart(2,"0"),S=String(A.getHours()).padStart(2,"0"),T=String(A.getMinutes()).padStart(2,"0");return`${V}-${C}-${O}T${S}:${T}`},L=M=>{const A=new Date,V=new Date(A.getFullYear(),A.getMonth(),A.getDate());switch(M){case"today":return{start:V,end:new Date(V.getTime()+24*60*60*1e3)};case"yesterday":return{start:new Date(V.getTime()-24*60*60*1e3),end:V};case"thisWeek":const O=V.getDay(),S=new Date(V.getTime()-(O===0?6:O-1)*24*60*60*1e3),T=new Date(S.getTime()+6*24*60*60*1e3);return{start:S,end:new Date(T.getTime()+24*60*60*1e3)};case"lastWeek":const z=new Date(V.getTime()-(V.getDay()===0?6:V.getDay()-1)*24*60*60*1e3),Q=new Date(z.getTime()-7*24*60*60*1e3),X=new Date(z.getTime()-1*24*60*60*1e3);return{start:Q,end:new Date(X.getTime()+24*60*60*1e3)};case"custom":return{start:y.start?new Date(y.start):V,end:y.end?new Date(new Date(y.end).getTime()+24*60*60*1e3):V}}},j=(M,A)=>{const{start:V,end:C}=L(A);return M.filter(O=>{if(O.clockOutTime){const S=new Date(O.clockOutTime);return S>=V&&S<C}return!0})},E=M=>M<=49?{color:"text-green-600",label:"Excellent"}:M<=59?{color:"text-gray-500",label:"Normal"}:M<=65?{color:"text-yellow-600",label:"Warning"}:M<=70?{color:"text-red-600",label:"High"}:{color:"text-red-800",label:"Critical"},I=M=>M===0?"(±0 mins)":M>0?`(+${M} mins)`:`(${M} mins)`;m.useCallback((M,A=500)=>{N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{M()},A)},[]),m.useCallback(M=>{i(M)},[]);const _=m.useCallback(async(M=!1)=>{M&&v(!0);try{const[A,V,C]=await Promise.all([fetch(te(`/api/admin/dashboard?dateFilter=${f}`),{credentials:"include"}),fetch(te("/api/admin/cleans/completed"),{credentials:"include"}),fetch(te("/api/admin/cleans/active"),{credentials:"include"})]);if(A.ok){const O=await A.json();t(O.data)}if(V.ok){const O=await V.json();r(O.data||[])}else console.error("Failed to fetch completed cleans:",V.status,V.statusText);if(C.ok){const O=await C.json();i(O.data||[])}else console.error("Failed to fetch active cleans:",C.status,C.statusText)}catch(A){console.error("Failed to fetch dashboard data:",A)}finally{a(!1),v(!1)}},[f]);m.useEffect(()=>{_(!0)},[f,_]),m.useEffect(()=>{let M=null;return(()=>{M=setInterval(()=>{_()},1e4)})(),()=>{M&&clearInterval(M),N.current&&clearTimeout(N.current)}},[]);const P=async()=>{var M;if(!(!c||!d.current)){p(!0);try{const A=d.current.value,V=((M=x.current)==null?void 0:M.value)||null,C=new Date(A).toISOString(),O=V?new Date(V).toISOString():null,S=await fetch(te(`/api/admin/cleans/${c.jobId}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({clockInTime:C,clockOutTime:O})});if(S.ok)await _(),u(null);else{const T=await S.json();console.error("Failed to update clean times:",T.error),alert("Failed to update clean times: "+T.error)}}catch(A){console.error("Error updating clean times:",A),alert("Error updating clean times. Please try again.")}finally{p(!1)}}},U=async M=>{if(confirm("Are you sure you want to end this clean? This will end the clean for all team members.")){p(!0);try{const A=await fetch(te("/api/admin/cleans/end-active"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({jobId:M})});if(A.ok)await _();else{const V=await A.json();console.error("Failed to end clean:",V.error),alert("Failed to end clean: "+V.error)}}catch(A){console.error("Error ending clean:",A),alert("Error ending clean. Please try again.")}finally{p(!1)}}};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsxs(sr,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),k&&s.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs font-medium",children:"Updating..."})]})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Monitor active cleans, view completed jobs, and manage your team."})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{htmlFor:"dateFilter",className:"text-sm font-medium text-gray-700",children:"Date Range:"}),s.jsxs("select",{id:"dateFilter",value:f,onChange:M=>b(M.target.value),className:"block w-40 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"yesterday",children:"Yesterday"}),s.jsx("option",{value:"thisWeek",children:"This Week"}),s.jsx("option",{value:"lastWeek",children:"Last Week"}),s.jsx("option",{value:"custom",children:"Custom Range"})]}),f==="custom"&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("input",{type:"date",value:y.start,onChange:M=>g(A=>({...A,start:M.target.value})),className:"px-2 py-1 border border-gray-300 rounded-md"}),s.jsx("span",{children:"to"}),s.jsx("input",{type:"date",value:y.end,onChange:M=>g(A=>({...A,end:M.target.value})),className:"px-2 py-1 border border-gray-300 rounded-md"})]})]}),(()=>{const{start:M,end:A}=L(f),V=O=>`${O.getDate().toString().padStart(2,"0")}/${(O.getMonth()+1).toString().padStart(2,"0")} ${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`,C=new Date(A.getTime()-1*60*1e3);return s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.jsx("strong",{children:"Debug:"})," Showing data from ",s.jsx("span",{children:V(M)})," to ",s.jsx("span",{children:V(C)})]})})()]})}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex sm:hidden overflow-x-auto pb-4 space-x-4 snap-x snap-mandatory w-screen -mx-4 sm:-mx-6 lg:-mx-8",children:[s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow flex-shrink-0 w-80 max-w-[85vw] snap-start",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"On Time Target"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[(e==null?void 0:e.efficiency)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:e!=null&&e.efficiency&&e.efficiency>=100?"Excellent":e!=null&&e.efficiency&&e.efficiency>=80?"Good":"Needs attention"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.efficiency&&e.efficiency>=100?"bg-green-100":e!=null&&e.efficiency&&e.efficiency>=80?"bg-yellow-100":"bg-red-100"}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[s.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),s.jsx("polyline",{points:"16 7 22 7 22 13"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow flex-shrink-0 w-80 max-w-[85vw] snap-start",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",(e==null?void 0:e.revenue)||0]}),s.jsx("p",{className:"text-base text-orange-600 font-medium",children:f==="today"?"Today's total":f==="yesterday"?"Yesterday's total":"This week's total"})]}),s.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-dollar-sign h-7 w-7 text-orange-600",children:[s.jsx("line",{x1:"12",x2:"12",y1:"1",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow flex-shrink-0 w-80 max-w-[85vw] snap-start",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Wage Ratio"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:[(e==null?void 0:e.wageRatio)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:e!=null&&e.wageRatio&&e.wageRatio<=55?"On Target":e!=null&&e.wageRatio&&e.wageRatio<=60?"OK":e!=null&&e.wageRatio&&e.wageRatio<=65?"High":e!=null&&e.wageRatio&&e.wageRatio<=70?"Very High":e!=null&&e.wageRatio&&e.wageRatio<=75?"Critical":"Extreme"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.wageRatio&&e.wageRatio<=55?"bg-green-100":e!=null&&e.wageRatio&&e.wageRatio<=60?"bg-yellow-100":e!=null&&e.wageRatio&&e.wageRatio<=65?"bg-orange-100":e!=null&&e.wageRatio&&e.wageRatio<=70?"bg-red-100":e!=null&&e.wageRatio&&e.wageRatio<=75?"bg-red-200":"bg-red-300"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:s.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})})]})})})]}),s.jsxs("div",{className:"hidden sm:grid sm:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:[s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"On Time Target"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[(e==null?void 0:e.efficiency)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:e!=null&&e.efficiency&&e.efficiency>=100?"Excellent":e!=null&&e.efficiency&&e.efficiency>=80?"Good":"Needs attention"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.efficiency&&e.efficiency>=100?"bg-green-100":e!=null&&e.efficiency&&e.efficiency>=80?"bg-yellow-100":"bg-red-100"}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[s.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),s.jsx("polyline",{points:"16 7 22 7 22 13"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",(e==null?void 0:e.revenue)||0]}),s.jsx("p",{className:"text-base text-orange-600 font-medium",children:f==="today"?"Today's total":f==="yesterday"?"Yesterday's total":"This week's total"})]}),s.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-dollar-sign h-7 w-7 text-orange-600",children:[s.jsx("line",{x1:"12",x2:"12",y1:"1",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Wage Ratio"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:[(e==null?void 0:e.wageRatio)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:e!=null&&e.wageRatio&&e.wageRatio<=55?"On Target":e!=null&&e.wageRatio&&e.wageRatio<=60?"OK":e!=null&&e.wageRatio&&e.wageRatio<=65?"High":e!=null&&e.wageRatio&&e.wageRatio<=70?"Very High":e!=null&&e.wageRatio&&e.wageRatio<=75?"Critical":"Extreme"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.wageRatio&&e.wageRatio<=55?"bg-green-100":e!=null&&e.wageRatio&&e.wageRatio<=60?"bg-yellow-100":e!=null&&e.wageRatio&&e.wageRatio<=65?"bg-orange-100":e!=null&&e.wageRatio&&e.wageRatio<=70?"bg-red-100":e!=null&&e.wageRatio&&e.wageRatio<=75?"bg-red-200":"bg-red-300"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:s.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})})]})})})]})]}),s.jsxs("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 mt-6",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:s.jsxs("div",{className:"font-semibold tracking-tight flex items-center text-xl",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-activity h-6 w-6 mr-2 text-blue-500",children:s.jsx("path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"})}),"Active Cleans (",j(o,f).length,")"]})}),s.jsx("div",{className:"p-6 pt-0",children:s.jsx("div",{className:"space-y-4",children:j(o,f).length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No active cleans for selected date range"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j(o,f).map(M=>s.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 transition-all duration-300 ease-in-out hover:shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:M.customerName}),s.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(M.customerAddress)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Started: ",new Date(M.clockInTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]}),s.jsx("div",{className:"flex flex-col space-y-2",children:s.jsx("button",{onClick:()=>u(M),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Clean",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:M.teamColor}}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:M.teamColor+"20",color:M.teamColor},children:M.teamName}),M.members&&M.members.filter(A=>A.teamName&&A.teamName!==M.teamName).map(A=>s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:(A.teamColor||"#888")+"20",color:A.teamColor||"#888"},children:["+ ",A.name]},A.id))]})})]},M.jobId))})})})]}),s.jsxs("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 mt-6",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:s.jsxs("div",{className:"font-semibold tracking-tight flex items-center text-xl",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-check-big h-6 w-6 mr-2 text-green-500",children:[s.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),s.jsx("path",{d:"m9 11 3 3L22 4"})]}),"Completed Cleans (",j(n,f).length,")"]})}),s.jsx("div",{className:"p-6 pt-0",children:s.jsx("div",{className:"space-y-4",children:j(n,f).length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No completed cleans for selected date range"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j(n,f).map(M=>s.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 transition-all duration-300 ease-in-out hover:shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:M.customerName}),s.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(M.customerAddress)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(M.clockInTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",M.clockOutTime?new Date(M.clockOutTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"In Progress",M.timeDifferenceMinutes!==void 0&&s.jsx("span",{className:`ml-2 text-xs font-medium ${M.timeDifferenceMinutes===0?"text-gray-500":M.timeDifferenceMinutes>0?"text-red-600":"text-green-600"}`,children:I(M.timeDifferenceMinutes)}),M.clockInTime&&s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(M.clockInTime).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["$",M.price,M.wageRatio!==void 0&&s.jsxs("span",{children:[" ","at ",s.jsxs("span",{className:E(M.wageRatio).color,children:[M.wageRatio,"%"]})," Wage Ratio"]})]})]})]}),s.jsx("button",{onClick:()=>u(M),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Clean",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:M.teamColor+"20",color:M.teamColor},children:M.teamName}),M.members&&M.members.filter(A=>A.teamName&&A.teamName!==M.teamName).map(A=>s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:(A.teamColor||"#888")+"20",color:A.teamColor||"#888"},children:["+ ",A.name]},A.id))]})})]},M.jobId))})})})]}),s.jsxs("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 mt-6",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:s.jsxs("div",{className:"font-semibold tracking-tight flex items-center text-xl",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-map-pin h-6 w-6 mr-2 text-blue-500",children:[s.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Customer Locations"]})}),s.jsx("div",{className:"p-6 pt-0",children:s.jsx(My,{customers:[...j(o,f).map(M=>({id:M.jobId,name:M.customerName,address:M.customerAddress,latitude:M.customerLatitude||"",longitude:M.customerLongitude||"",teamColor:M.teamColor,status:"active"})),...j(n,f).map(M=>({id:M.jobId,name:M.customerName,address:M.customerAddress,latitude:M.customerLatitude||"",longitude:M.customerLongitude||"",teamColor:M.teamColor,status:"completed"}))],className:"w-full"})})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[s.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Clean Times"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Customer: ",c.customerName]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Team: ",c.teamName]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Team Members:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:c.members.map(M=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:M.name},M.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),s.jsx("input",{ref:d,type:"datetime-local",defaultValue:w(c.clockInTime),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),s.jsx("input",{ref:x,type:"datetime-local",defaultValue:c.clockOutTime?w(c.clockOutTime):"",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Leave empty for active cleans"})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("div",{className:"flex space-x-3",children:!c.clockOutTime&&s.jsxs("button",{type:"button",onClick:()=>U(c.jobId),disabled:h,className:"inline-flex items-center px-4 py-2 text-sm text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Complete Clean"]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>u(null),className:"px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"button",onClick:P,disabled:h,className:"px-4 py-2 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Saving...":"Save Changes"})]})]})]})]})})]})}function Ry(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[o,i]=m.useState(!1),[l,a]=m.useState(null),[c,u]=m.useState(!1),[h,p]=m.useState(!1),[f,b]=m.useState({email:"",firstName:"",lastName:"",phone:"",password:"",role:"staff",isDriver:!1}),[y,g]=m.useState({email:"",firstName:"",lastName:"",phone:"",password:"",role:"staff",isDriver:!1});m.useEffect(()=>{k()},[]);const k=async()=>{try{const w=await fetch(te("/api/admin/staff"),{credentials:"include"});if(w.ok){const L=await w.json();t(L.data)}}catch(w){console.error("Failed to fetch staff:",w)}finally{r(!1)}},v=async w=>{w.preventDefault();try{const L=await fetch(te("/api/admin/staff"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(L.ok)b({email:"",firstName:"",lastName:"",phone:"",password:"",role:"staff",isDriver:!1}),i(!1),k();else{const j=await L.json();alert(`Failed to add staff: ${j.error}`)}}catch(L){console.error("Failed to add staff:",L),alert("Failed to add staff")}},d=w=>{a(w),g({email:w.email,firstName:w.firstName,lastName:w.lastName,phone:w.phone||"",password:"",role:w.role,isDriver:w.isDriver||!1})},x=async w=>{if(w.preventDefault(),!!l){u(!0);try{const L=await fetch(te(`/api/admin/staff/${l.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(L.ok)a(null),k();else{const j=await L.json();alert(`Failed to update staff: ${j.error}`)}}catch(L){console.error("Failed to update staff:",L),alert("Failed to update staff")}finally{u(!1)}}},N=async(w,L)=>{try{const j=await fetch(te(`/api/admin/staff/${w}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({active:!L})});if(j.ok)k();else{const E=await j.json();alert(`Failed to ${L?"archive":"restore"} staff: ${E.error}`)}}catch(j){console.error("Failed to archive staff:",j),alert("Failed to archive staff")}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsxs(sr,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Management"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"View and manage staff members, their roles, and team assignments."})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("button",{onClick:()=>p(!h),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Show Active"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Show Archived"]})}),s.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Staff"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(w=>h?!w.active:w.active).map(w=>s.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${w.active?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:[w.firstName," ",w.lastName]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("p",{className:"text-sm text-gray-600",children:w.email})]}),w.phone&&s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("p",{className:"text-sm text-gray-500",children:su(w.phone)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.role==="admin"?"bg-red-100 text-red-800":w.role==="manager"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:w.role.charAt(0).toUpperCase()+w.role.slice(1)}),w.team&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white",style:{backgroundColor:w.team.teamColor},children:w.team.teamName}),!w.active&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Archived"})]})]}),s.jsx("button",{onClick:()=>d(w),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Staff",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),s.jsxs("div",{className:"space-y-2",children:[w.isDriver&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Driver"]}),w.activeJob&&s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Active - ",w.activeJob.customerName]})]})]},w.id))})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[s.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Staff"}),s.jsxs("form",{onSubmit:v,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),s.jsx("input",{type:"text",required:!0,value:f.firstName,onChange:w=>b({...f,firstName:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),s.jsx("input",{type:"text",required:!0,value:f.lastName,onChange:w=>b({...f,lastName:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",required:!0,value:f.email,onChange:w=>b({...f,email:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:f.phone,onChange:w=>{const L=w.target.value.replace(/\D/g,"");let j=L;L.length>=4&&(j=L.slice(0,4)+" "+L.slice(4)),L.length>=7&&(j=j.slice(0,8)+" "+j.slice(8)),b({...f,phone:j})},placeholder:"0000 000 000",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{type:"password",required:!0,value:f.password,onChange:w=>b({...f,password:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{value:f.role,onChange:w=>b({...f,role:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"staff",children:"Staff"}),s.jsx("option",{value:"manager",children:"Manager"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"new-staff-driver",type:"checkbox",checked:f.isDriver,onChange:w=>b({...f,isDriver:w.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"new-staff-driver",className:"ml-2 block text-sm text-gray-900",children:"Driver"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Staff"})]})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[s.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Staff"}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),s.jsx("input",{type:"text",required:!0,value:y.firstName,onChange:w=>g({...y,firstName:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),s.jsx("input",{type:"text",required:!0,value:y.lastName,onChange:w=>g({...y,lastName:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",required:!0,value:y.email,onChange:w=>g({...y,email:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:y.phone,onChange:w=>{const L=w.target.value.replace(/\D/g,"");let j=L;L.length>=4&&(j=L.slice(0,4)+" "+L.slice(4)),L.length>=7&&(j=j.slice(0,8)+" "+j.slice(8)),g({...y,phone:j})},placeholder:"0000 000 000",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{type:"password",value:y.password,onChange:w=>g({...y,password:w.target.value}),placeholder:"Leave blank to keep current password",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to keep current password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{value:y.role,onChange:w=>g({...y,role:w.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"staff",children:"Staff"}),s.jsx("option",{value:"manager",children:"Manager"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"edit-staff-driver",type:"checkbox",checked:y.isDriver,onChange:w=>g({...y,isDriver:w.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"edit-staff-driver",className:"ml-2 block text-sm text-gray-900",children:"Driver"})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsx("button",{type:"button",onClick:()=>N(l.id,l.active),className:`inline-flex items-center h-[42px] px-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${l.active?"border-red-300 text-red-700 bg-red-50 hover:bg-red-100 focus:ring-red-500":"border-green-300 text-green-700 bg-green-50 hover:bg-green-100 focus:ring-green-500"}`,title:l.active?"Archive Staff":"Restore Staff",children:l.active?s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>a(null),className:"inline-flex items-center h-[42px] px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Cancel",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("button",{type:"submit",disabled:c,className:"inline-flex items-center h-[42px] px-4 border border-transparent rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Save Changes",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]})]})]})]})})]})}function zd({value:e,onChange:t,placeholder:n="Enter address...",required:r=!1,className:o=""}){const[i,l]=m.useState([]),[a,c]=m.useState(!1),[u,h]=m.useState(-1),p=m.useRef(null),{isLoaded:f}=rs(),b=["123 Collins Street, Melbourne","456 Bourke Street, Melbourne","789 Flinders Street, Melbourne","321 Queen Street, Melbourne","654 Swanston Street, Melbourne","100 Elizabeth Street, Melbourne","200 Lonsdale Street, Melbourne","300 Russell Street, Melbourne"],y=w=>{var L,j,E;if(w.length<3){l([]),c(!1);return}if(f&&((E=(j=(L=window.google)==null?void 0:L.maps)==null?void 0:j.places)!=null&&E.AutocompleteService))try{new window.google.maps.places.AutocompleteService().getPlacePredictions({input:w,componentRestrictions:{country:"au"},types:["address"]},(_,P)=>{if(P===window.google.maps.places.PlacesServiceStatus.OK&&_){const M=_.map(A=>{let V=A.description;return V=V.replace(/,\s*[A-Z]{2,3}\s+\d{4}$/,""),V}).filter(A=>{const V=w.toLowerCase(),C=A.toLowerCase();if(C===V)return!1;const O=V.split(/\s+/).filter(Q=>Q.length>2),S=C.split(/\s+/).filter(Q=>Q.length>2);return O.filter(Q=>S.includes(Q)).length/Math.max(O.length,S.length)<.7});l(M),c(M.length>0),h(-1)}else g(w)})}catch{g(w)}else g(w)},g=w=>{const L=w.toLowerCase(),j=b.filter(E=>{const I=E.toLowerCase();if(I===L)return!1;const _=L.split(/\s+/).filter(A=>A.length>2),P=I.split(/\s+/).filter(A=>A.length>2);return _.filter(A=>P.includes(A)).length/Math.max(_.length,P.length)<.7&&I.includes(L)});l(j),c(j.length>0),h(-1)};m.useEffect(()=>{const w=setTimeout(()=>{y(e)},300);return()=>clearTimeout(w)},[e,f]);const k=w=>{if(a)switch(w.key){case"ArrowDown":w.preventDefault(),h(L=>L<i.length-1?L+1:L);break;case"ArrowUp":w.preventDefault(),h(L=>L>0?L-1:L);break;case"Enter":w.preventDefault(),u>=0&&v(i[u]);break;case"Escape":c(!1),h(-1);break}},v=w=>{t(w),l([]),c(!1),h(-1)},d=w=>{const L=w.target.value;t(L),L.length===0&&(l([]),c(!1),h(-1))},x=()=>{setTimeout(()=>{c(!1),h(-1)},150)},N=()=>{e.length>=3&&i.length>0&&c(!0)};return s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:p,type:"text",value:e,onChange:d,onKeyDown:k,onBlur:x,onFocus:N,required:r,className:o,placeholder:n}),a&&i.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto",children:i.map((w,L)=>s.jsx("div",{onClick:()=>v(w),className:`px-3 py-2 cursor-pointer text-sm ${L===u?"bg-blue-100 text-blue-900":"hover:bg-gray-100"}`,children:w},L))})]})}function Bd({address:e,className:t=""}){const n=m.useRef(null),r=m.useRef(null),o=m.useRef(null),{isLoaded:i}=rs();return m.useEffect(()=>!i||!n.current?void 0:(r.current&&(r.current=null),o.current&&(o.current=null),new window.google.maps.Geocoder().geocode({address:e},(a,c)=>{if(c==="OK"&&a&&a[0]){const u=a[0].geometry.location;n.current&&(r.current=new window.google.maps.Map(n.current,{center:u,zoom:16,mapTypeId:window.google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),o.current=new window.google.maps.Marker({position:u,map:r.current}))}}),()=>{r.current&&(r.current=null),o.current&&(o.current=null)}),[i,e]),s.jsx("div",{ref:n,className:`w-full h-48 rounded border bg-gray-50 ${t}`,style:{minHeight:192,minWidth:200}})}function $d(e,[t,n]){return Math.min(n,Math.max(t,e))}function we(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ou(e,t=[]){let n=[];function r(i,l){const a=m.createContext(l),c=n.length;n=[...n,l];const u=p=>{var v;const{scope:f,children:b,...y}=p,g=((v=f==null?void 0:f[e])==null?void 0:v[c])||a,k=m.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:k,children:b})};u.displayName=i+"Provider";function h(p,f){var g;const b=((g=f==null?void 0:f[e])==null?void 0:g[c])||a,y=m.useContext(b);if(y)return y;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const o=()=>{const i=n.map(l=>m.createContext(l));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return o.scopeName=e,[r,Py(o,...t)]}function Py(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Wd(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ap(...e){return t=>{let n=!1;const r=e.map(o=>{const i=Wd(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():Wd(e[o],null)}}}}function Re(...e){return m.useCallback(ap(...e),e)}function Ei(e){const t=Ay(e),n=m.forwardRef((r,o)=>{const{children:i,...l}=r,a=m.Children.toArray(i),c=a.find(Fy);if(c){const u=c.props.children,h=a.map(p=>p===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(t,{...l,ref:o,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function Ay(e){const t=m.forwardRef((n,r)=>{const{children:o,...i}=n;if(m.isValidElement(o)){const l=Iy(o),a=Dy(i,o.props);return o.type!==m.Fragment&&(a.ref=r?ap(r,l):l),m.cloneElement(o,a)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Oy=Symbol("radix.slottable");function Fy(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Oy}function Dy(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{const c=i(...a);return o(...a),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Iy(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _y(e){const t=e+"CollectionProvider",[n,r]=ou(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=g=>{const{scope:k,children:v}=g,d=it.useRef(null),x=it.useRef(new Map).current;return s.jsx(o,{scope:k,itemMap:x,collectionRef:d,children:v})};l.displayName=t;const a=e+"CollectionSlot",c=Ei(a),u=it.forwardRef((g,k)=>{const{scope:v,children:d}=g,x=i(a,v),N=Re(k,x.collectionRef);return s.jsx(c,{ref:N,children:d})});u.displayName=a;const h=e+"CollectionItemSlot",p="data-radix-collection-item",f=Ei(h),b=it.forwardRef((g,k)=>{const{scope:v,children:d,...x}=g,N=it.useRef(null),w=Re(k,N),L=i(h,v);return it.useEffect(()=>(L.itemMap.set(N,{ref:N,...x}),()=>void L.itemMap.delete(N))),s.jsx(f,{[p]:"",ref:w,children:d})});b.displayName=h;function y(g){const k=i(e+"CollectionConsumer",g);return it.useCallback(()=>{const d=k.collectionRef.current;if(!d)return[];const x=Array.from(d.querySelectorAll(`[${p}]`));return Array.from(k.itemMap.values()).sort((L,j)=>x.indexOf(L.ref.current)-x.indexOf(j.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:u,ItemSlot:b},y,r]}var zy=m.createContext(void 0);function By(e){const t=m.useContext(zy);return e||t||"ltr"}var $y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=$y.reduce((e,t)=>{const n=Ei(`Primitive.${t}`),r=m.forwardRef((o,i)=>{const{asChild:l,...a}=o,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Wy(e,t){e&&ns.flushSync(()=>e.dispatchEvent(t))}function or(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Hy(e,t=globalThis==null?void 0:globalThis.document){const n=or(e);m.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Uy="DismissableLayer",Ha="dismissableLayer.update",Vy="dismissableLayer.pointerDownOutside",Qy="dismissableLayer.focusOutside",Hd,cp=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),up=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:a,...c}=e,u=m.useContext(cp),[h,p]=m.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=m.useState({}),y=Re(t,j=>p(j)),g=Array.from(u.layers),[k]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(k),d=h?g.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,N=d>=v,w=qy(j=>{const E=j.target,I=[...u.branches].some(_=>_.contains(E));!N||I||(o==null||o(j),l==null||l(j),j.defaultPrevented||a==null||a())},f),L=Yy(j=>{const E=j.target;[...u.branches].some(_=>_.contains(E))||(i==null||i(j),l==null||l(j),j.defaultPrevented||a==null||a())},f);return Hy(j=>{d===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},f),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Hd=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Ud(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Hd)}},[h,f,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Ud())},[h,u]),m.useEffect(()=>{const j=()=>b({});return document.addEventListener(Ha,j),()=>document.removeEventListener(Ha,j)},[]),s.jsx(ye.div,{...c,ref:y,style:{pointerEvents:x?N?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,L.onFocusCapture),onBlurCapture:we(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,w.onPointerDownCapture)})});up.displayName=Uy;var Ky="DismissableLayerBranch",Gy=m.forwardRef((e,t)=>{const n=m.useContext(cp),r=m.useRef(null),o=Re(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(ye.div,{...e,ref:o})});Gy.displayName=Ky;function qy(e,t=globalThis==null?void 0:globalThis.document){const n=or(e),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){dp(Vy,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Yy(e,t=globalThis==null?void 0:globalThis.document){const n=or(e),r=m.useRef(!1);return m.useEffect(()=>{const o=i=>{i.target&&!r.current&&dp(Qy,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ud(){const e=new CustomEvent(Ha);document.dispatchEvent(e)}function dp(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Wy(o,i):o.dispatchEvent(i)}var Il=0;function Xy(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vd()),document.body.insertAdjacentElement("beforeend",e[1]??Vd()),Il++,()=>{Il===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Il--}},[])}function Vd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _l="focusScope.autoFocusOnMount",zl="focusScope.autoFocusOnUnmount",Qd={bubbles:!1,cancelable:!0},Jy="FocusScope",fp=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[a,c]=m.useState(null),u=or(o),h=or(i),p=m.useRef(null),f=Re(t,g=>c(g)),b=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(x){if(b.paused||!a)return;const N=x.target;a.contains(N)?p.current=N:an(p.current,{select:!0})},k=function(x){if(b.paused||!a)return;const N=x.relatedTarget;N!==null&&(a.contains(N)||an(p.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&an(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",k);const d=new MutationObserver(v);return a&&d.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",k),d.disconnect()}}},[r,a,b.paused]),m.useEffect(()=>{if(a){Gd.add(b);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(_l,Qd);a.addEventListener(_l,u),a.dispatchEvent(v),v.defaultPrevented||(Zy(sw(mp(a)),{select:!0}),document.activeElement===g&&an(a))}return()=>{a.removeEventListener(_l,u),setTimeout(()=>{const v=new CustomEvent(zl,Qd);a.addEventListener(zl,h),a.dispatchEvent(v),v.defaultPrevented||an(g??document.body,{select:!0}),a.removeEventListener(zl,h),Gd.remove(b)},0)}}},[a,u,h,b]);const y=m.useCallback(g=>{if(!n&&!r||b.paused)return;const k=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(k&&v){const d=g.currentTarget,[x,N]=ew(d);x&&N?!g.shiftKey&&v===N?(g.preventDefault(),n&&an(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&an(N,{select:!0})):v===d&&g.preventDefault()}},[n,r,b.paused]);return s.jsx(ye.div,{tabIndex:-1,...l,ref:f,onKeyDown:y})});fp.displayName=Jy;function Zy(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(an(r,{select:t}),document.activeElement!==n)return}function ew(e){const t=mp(e),n=Kd(t,e),r=Kd(t.reverse(),e);return[n,r]}function mp(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kd(e,t){for(const n of e)if(!tw(n,{upTo:t}))return n}function tw(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nw(e){return e instanceof HTMLInputElement&&"select"in e}function an(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nw(e)&&t&&e.select()}}var Gd=rw();function rw(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=qd(e,t),e.unshift(t)},remove(t){var n;e=qd(e,t),(n=e[0])==null||n.resume()}}}function qd(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function sw(e){return e.filter(t=>t.tagName!=="A")}var qe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},ow=cc[" useId ".trim().toString()]||(()=>{}),iw=0;function iu(e){const[t,n]=m.useState(ow());return qe(()=>{e||n(r=>r??String(iw++))},[e]),e||(t?`radix-${t}`:"")}const lw=["top","right","bottom","left"],Tn=Math.min,Xe=Math.max,Li=Math.round,Oo=Math.floor,_t=e=>({x:e,y:e}),aw={left:"right",right:"left",bottom:"top",top:"bottom"},cw={start:"end",end:"start"};function Ua(e,t,n){return Xe(e,Tn(t,n))}function en(e,t){return typeof e=="function"?e(t):e}function tn(e){return e.split("-")[0]}function ss(e){return e.split("-")[1]}function lu(e){return e==="x"?"y":"x"}function au(e){return e==="y"?"height":"width"}const uw=new Set(["top","bottom"]);function Ft(e){return uw.has(tn(e))?"y":"x"}function cu(e){return lu(Ft(e))}function dw(e,t,n){n===void 0&&(n=!1);const r=ss(e),o=cu(e),i=au(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Mi(l)),[l,Mi(l)]}function fw(e){const t=Mi(e);return[Va(e),t,Va(t)]}function Va(e){return e.replace(/start|end/g,t=>cw[t])}const Yd=["left","right"],Xd=["right","left"],mw=["top","bottom"],hw=["bottom","top"];function pw(e,t,n){switch(e){case"top":case"bottom":return n?t?Xd:Yd:t?Yd:Xd;case"left":case"right":return t?mw:hw;default:return[]}}function gw(e,t,n,r){const o=ss(e);let i=pw(tn(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(Va)))),i}function Mi(e){return e.replace(/left|right|bottom|top/g,t=>aw[t])}function xw(e){return{top:0,right:0,bottom:0,left:0,...e}}function hp(e){return typeof e!="number"?xw(e):{top:e,right:e,bottom:e,left:e}}function Ti(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Jd(e,t,n){let{reference:r,floating:o}=e;const i=Ft(t),l=cu(t),a=au(l),c=tn(t),u=i==="y",h=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let b;switch(c){case"top":b={x:h,y:r.y-o.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:p};break;case"left":b={x:r.x-o.width,y:p};break;default:b={x:r.x,y:r.y}}switch(ss(t)){case"start":b[l]-=f*(n&&u?-1:1);break;case"end":b[l]+=f*(n&&u?-1:1);break}return b}const vw=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,a=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:p}=Jd(u,r,c),f=r,b={},y=0;for(let g=0;g<a.length;g++){const{name:k,fn:v}=a[g],{x:d,y:x,data:N,reset:w}=await v({x:h,y:p,initialPlacement:r,placement:f,strategy:o,middlewareData:b,rects:u,platform:l,elements:{reference:e,floating:t}});h=d??h,p=x??p,b={...b,[k]:{...b[k],...N}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(u=w.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:h,y:p}=Jd(u,f,c)),g=-1)}return{x:h,y:p,placement:f,strategy:o,middlewareData:b}};async function eo(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:b=0}=en(t,e),y=hp(b),k=a[f?p==="floating"?"reference":"floating":p],v=Ti(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),d=p==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Ti(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:d,offsetParent:x,strategy:c}):d);return{top:(v.top-w.top+y.top)/N.y,bottom:(w.bottom-v.bottom+y.bottom)/N.y,left:(v.left-w.left+y.left)/N.x,right:(w.right-v.right+y.right)/N.x}}const yw=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:a,middlewareData:c}=t,{element:u,padding:h=0}=en(e,t)||{};if(u==null)return{};const p=hp(h),f={x:n,y:r},b=cu(o),y=au(b),g=await l.getDimensions(u),k=b==="y",v=k?"top":"left",d=k?"bottom":"right",x=k?"clientHeight":"clientWidth",N=i.reference[y]+i.reference[b]-f[b]-i.floating[y],w=f[b]-i.reference[b],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let j=L?L[x]:0;(!j||!await(l.isElement==null?void 0:l.isElement(L)))&&(j=a.floating[x]||i.floating[y]);const E=N/2-w/2,I=j/2-g[y]/2-1,_=Tn(p[v],I),P=Tn(p[d],I),U=_,M=j-g[y]-P,A=j/2-g[y]/2+E,V=Ua(U,A,M),C=!c.arrow&&ss(o)!=null&&A!==V&&i.reference[y]/2-(A<U?_:P)-g[y]/2<0,O=C?A<U?A-U:A-M:0;return{[b]:f[b]+O,data:{[b]:V,centerOffset:A-V-O,...C&&{alignmentOffset:O}},reset:C}}}),ww=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...k}=en(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=tn(o),d=Ft(a),x=tn(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=f||(x||!g?[Mi(a)]:fw(a)),L=y!=="none";!f&&L&&w.push(...gw(a,g,y,N));const j=[a,...w],E=await eo(t,k),I=[];let _=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(E[v]),p){const A=dw(o,l,N);I.push(E[A[0]],E[A[1]])}if(_=[..._,{placement:o,overflows:I}],!I.every(A=>A<=0)){var P,U;const A=(((P=i.flip)==null?void 0:P.index)||0)+1,V=j[A];if(V&&(!(p==="alignment"?d!==Ft(V):!1)||_.every(S=>S.overflows[0]>0&&Ft(S.placement)===d)))return{data:{index:A,overflows:_},reset:{placement:V}};let C=(U=_.filter(O=>O.overflows[0]<=0).sort((O,S)=>O.overflows[1]-S.overflows[1])[0])==null?void 0:U.placement;if(!C)switch(b){case"bestFit":{var M;const O=(M=_.filter(S=>{if(L){const T=Ft(S.placement);return T===d||T==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(T=>T>0).reduce((T,z)=>T+z,0)]).sort((S,T)=>S[1]-T[1])[0])==null?void 0:M[0];O&&(C=O);break}case"initialPlacement":C=a;break}if(o!==C)return{reset:{placement:C}}}return{}}}};function Zd(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ef(e){return lw.some(t=>e[t]>=0)}const bw=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=en(e,t);switch(r){case"referenceHidden":{const i=await eo(t,{...o,elementContext:"reference"}),l=Zd(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:ef(l)}}}case"escaped":{const i=await eo(t,{...o,altBoundary:!0}),l=Zd(i,n.floating);return{data:{escapedOffsets:l,escaped:ef(l)}}}default:return{}}}}},pp=new Set(["left","top"]);async function jw(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=tn(n),a=ss(n),c=Ft(n)==="y",u=pp.has(l)?-1:1,h=i&&c?-1:1,p=en(t,e);let{mainAxis:f,crossAxis:b,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof y=="number"&&(b=a==="end"?y*-1:y),c?{x:b*h,y:f*u}:{x:f*u,y:b*h}}const kw=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:a}=t,c=await jw(t,e);return l===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:l}}}}},Nw=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:a={fn:k=>{let{x:v,y:d}=k;return{x:v,y:d}}},...c}=en(e,t),u={x:n,y:r},h=await eo(t,c),p=Ft(tn(o)),f=lu(p);let b=u[f],y=u[p];if(i){const k=f==="y"?"top":"left",v=f==="y"?"bottom":"right",d=b+h[k],x=b-h[v];b=Ua(d,b,x)}if(l){const k=p==="y"?"top":"left",v=p==="y"?"bottom":"right",d=y+h[k],x=y-h[v];y=Ua(d,y,x)}const g=a.fn({...t,[f]:b,[p]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[p]:l}}}}}},Sw=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:l}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=en(e,t),h={x:n,y:r},p=Ft(o),f=lu(p);let b=h[f],y=h[p];const g=en(a,t),k=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=f==="y"?"height":"width",N=i.reference[f]-i.floating[x]+k.mainAxis,w=i.reference[f]+i.reference[x]-k.mainAxis;b<N?b=N:b>w&&(b=w)}if(u){var v,d;const x=f==="y"?"width":"height",N=pp.has(tn(o)),w=i.reference[p]-i.floating[x]+(N&&((v=l.offset)==null?void 0:v[p])||0)+(N?0:k.crossAxis),L=i.reference[p]+i.reference[x]+(N?0:((d=l.offset)==null?void 0:d[p])||0)-(N?k.crossAxis:0);y<w?y=w:y>L&&(y=L)}return{[f]:b,[p]:y}}}},Cw=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:a}=t,{apply:c=()=>{},...u}=en(e,t),h=await eo(t,u),p=tn(o),f=ss(o),b=Ft(o)==="y",{width:y,height:g}=i.floating;let k,v;p==="top"||p==="bottom"?(k=p,v=f===(await(l.isRTL==null?void 0:l.isRTL(a.floating))?"start":"end")?"left":"right"):(v=p,k=f==="end"?"top":"bottom");const d=g-h.top-h.bottom,x=y-h.left-h.right,N=Tn(g-h[k],d),w=Tn(y-h[v],x),L=!t.middlewareData.shift;let j=N,E=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=d),L&&!f){const _=Xe(h.left,0),P=Xe(h.right,0),U=Xe(h.top,0),M=Xe(h.bottom,0);b?E=y-2*(_!==0||P!==0?_+P:Xe(h.left,h.right)):j=g-2*(U!==0||M!==0?U+M:Xe(h.top,h.bottom))}await c({...t,availableWidth:E,availableHeight:j});const I=await l.getDimensions(a.floating);return y!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function el(){return typeof window<"u"}function os(e){return gp(e)?(e.nodeName||"").toLowerCase():"#document"}function et(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bt(e){var t;return(t=(gp(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gp(e){return el()?e instanceof Node||e instanceof et(e).Node:!1}function Ct(e){return el()?e instanceof Element||e instanceof et(e).Element:!1}function zt(e){return el()?e instanceof HTMLElement||e instanceof et(e).HTMLElement:!1}function tf(e){return!el()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof et(e).ShadowRoot}const Ew=new Set(["inline","contents"]);function fo(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Et(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ew.has(o)}const Lw=new Set(["table","td","th"]);function Mw(e){return Lw.has(os(e))}const Tw=[":popover-open",":modal"];function tl(e){return Tw.some(t=>{try{return e.matches(t)}catch{return!1}})}const Rw=["transform","translate","scale","rotate","perspective"],Pw=["transform","translate","scale","rotate","perspective","filter"],Aw=["paint","layout","strict","content"];function uu(e){const t=du(),n=Ct(e)?Et(e):e;return Rw.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Pw.some(r=>(n.willChange||"").includes(r))||Aw.some(r=>(n.contain||"").includes(r))}function Ow(e){let t=Rn(e);for(;zt(t)&&!Jr(t);){if(uu(t))return t;if(tl(t))return null;t=Rn(t)}return null}function du(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Fw=new Set(["html","body","#document"]);function Jr(e){return Fw.has(os(e))}function Et(e){return et(e).getComputedStyle(e)}function nl(e){return Ct(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rn(e){if(os(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tf(e)&&e.host||Bt(e);return tf(t)?t.host:t}function xp(e){const t=Rn(e);return Jr(t)?e.ownerDocument?e.ownerDocument.body:e.body:zt(t)&&fo(t)?t:xp(t)}function to(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=xp(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=et(o);if(i){const a=Qa(l);return t.concat(l,l.visualViewport||[],fo(o)?o:[],a&&n?to(a):[])}return t.concat(o,to(o,[],n))}function Qa(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vp(e){const t=Et(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=zt(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,a=Li(n)!==i||Li(r)!==l;return a&&(n=i,r=l),{width:n,height:r,$:a}}function fu(e){return Ct(e)?e:e.contextElement}function Or(e){const t=fu(e);if(!zt(t))return _t(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=vp(t);let l=(i?Li(n.width):n.width)/r,a=(i?Li(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Dw=_t(0);function yp(e){const t=et(e);return!du()||!t.visualViewport?Dw:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Iw(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==et(e)?!1:t}function ir(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=fu(e);let l=_t(1);t&&(r?Ct(r)&&(l=Or(r)):l=Or(e));const a=Iw(i,n,r)?yp(i):_t(0);let c=(o.left+a.x)/l.x,u=(o.top+a.y)/l.y,h=o.width/l.x,p=o.height/l.y;if(i){const f=et(i),b=r&&Ct(r)?et(r):r;let y=f,g=Qa(y);for(;g&&r&&b!==y;){const k=Or(g),v=g.getBoundingClientRect(),d=Et(g),x=v.left+(g.clientLeft+parseFloat(d.paddingLeft))*k.x,N=v.top+(g.clientTop+parseFloat(d.paddingTop))*k.y;c*=k.x,u*=k.y,h*=k.x,p*=k.y,c+=x,u+=N,y=et(g),g=Qa(y)}}return Ti({width:h,height:p,x:c,y:u})}function mu(e,t){const n=nl(e).scrollLeft;return t?t.left+n:ir(Bt(e)).left+n}function wp(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:mu(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function _w(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=Bt(r),a=t?tl(t.floating):!1;if(r===l||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=_t(1);const h=_t(0),p=zt(r);if((p||!p&&!i)&&((os(r)!=="body"||fo(l))&&(c=nl(r)),zt(r))){const b=ir(r);u=Or(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const f=l&&!p&&!i?wp(l,c,!0):_t(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+f.x,y:n.y*u.y-c.scrollTop*u.y+h.y+f.y}}function zw(e){return Array.from(e.getClientRects())}function Bw(e){const t=Bt(e),n=nl(e),r=e.ownerDocument.body,o=Xe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Xe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+mu(e);const a=-n.scrollTop;return Et(r).direction==="rtl"&&(l+=Xe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:a}}function $w(e,t){const n=et(e),r=Bt(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,a=0,c=0;if(o){i=o.width,l=o.height;const u=du();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:l,x:a,y:c}}const Ww=new Set(["absolute","fixed"]);function Hw(e,t){const n=ir(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=zt(e)?Or(e):_t(1),l=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:l,height:a,x:c,y:u}}function nf(e,t,n){let r;if(t==="viewport")r=$w(e,n);else if(t==="document")r=Bw(Bt(e));else if(Ct(t))r=Hw(t,n);else{const o=yp(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ti(r)}function bp(e,t){const n=Rn(e);return n===t||!Ct(n)||Jr(n)?!1:Et(n).position==="fixed"||bp(n,t)}function Uw(e,t){const n=t.get(e);if(n)return n;let r=to(e,[],!1).filter(a=>Ct(a)&&os(a)!=="body"),o=null;const i=Et(e).position==="fixed";let l=i?Rn(e):e;for(;Ct(l)&&!Jr(l);){const a=Et(l),c=uu(l);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&Ww.has(o.position)||fo(l)&&!c&&bp(e,l))?r=r.filter(h=>h!==l):o=a,l=Rn(l)}return t.set(e,r),r}function Vw(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?tl(t)?[]:Uw(t,this._c):[].concat(n),r],a=l[0],c=l.reduce((u,h)=>{const p=nf(t,h,o);return u.top=Xe(p.top,u.top),u.right=Tn(p.right,u.right),u.bottom=Tn(p.bottom,u.bottom),u.left=Xe(p.left,u.left),u},nf(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Qw(e){const{width:t,height:n}=vp(e);return{width:t,height:n}}function Kw(e,t,n){const r=zt(t),o=Bt(t),i=n==="fixed",l=ir(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=_t(0);function u(){c.x=mu(o)}if(r||!r&&!i)if((os(t)!=="body"||fo(o))&&(a=nl(t)),r){const b=ir(t,!0,i,t);c.x=b.x+t.clientLeft,c.y=b.y+t.clientTop}else o&&u();i&&!r&&o&&u();const h=o&&!r&&!i?wp(o,a):_t(0),p=l.left+a.scrollLeft-c.x-h.x,f=l.top+a.scrollTop-c.y-h.y;return{x:p,y:f,width:l.width,height:l.height}}function Bl(e){return Et(e).position==="static"}function rf(e,t){if(!zt(e)||Et(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Bt(e)===n&&(n=n.ownerDocument.body),n}function jp(e,t){const n=et(e);if(tl(e))return n;if(!zt(e)){let o=Rn(e);for(;o&&!Jr(o);){if(Ct(o)&&!Bl(o))return o;o=Rn(o)}return n}let r=rf(e,t);for(;r&&Mw(r)&&Bl(r);)r=rf(r,t);return r&&Jr(r)&&Bl(r)&&!uu(r)?n:r||Ow(e)||n}const Gw=async function(e){const t=this.getOffsetParent||jp,n=this.getDimensions,r=await n(e.floating);return{reference:Kw(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qw(e){return Et(e).direction==="rtl"}const Yw={convertOffsetParentRelativeRectToViewportRelativeRect:_w,getDocumentElement:Bt,getClippingRect:Vw,getOffsetParent:jp,getElementRects:Gw,getClientRects:zw,getDimensions:Qw,getScale:Or,isElement:Ct,isRTL:qw};function kp(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xw(e,t){let n=null,r;const o=Bt(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function l(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:p,width:f,height:b}=u;if(a||t(),!f||!b)return;const y=Oo(p),g=Oo(o.clientWidth-(h+f)),k=Oo(o.clientHeight-(p+b)),v=Oo(h),x={rootMargin:-y+"px "+-g+"px "+-k+"px "+-v+"px",threshold:Xe(0,Tn(1,c))||1};let N=!0;function w(L){const j=L[0].intersectionRatio;if(j!==c){if(!N)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!kp(u,e.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(w,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(w,x)}n.observe(e)}return l(!0),i}function Jw(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=fu(e),h=o||i?[...u?to(u):[],...to(t)]:[];h.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const p=u&&a?Xw(u,n):null;let f=-1,b=null;l&&(b=new ResizeObserver(v=>{let[d]=v;d&&d.target===u&&b&&(b.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=b)==null||x.observe(t)})),n()}),u&&!c&&b.observe(u),b.observe(t));let y,g=c?ir(e):null;c&&k();function k(){const v=ir(e);g&&!kp(g,v)&&n(),g=v,y=requestAnimationFrame(k)}return n(),()=>{var v;h.forEach(d=>{o&&d.removeEventListener("scroll",n),i&&d.removeEventListener("resize",n)}),p==null||p(),(v=b)==null||v.disconnect(),b=null,c&&cancelAnimationFrame(y)}}const Zw=kw,e1=Nw,t1=ww,n1=Cw,r1=bw,sf=yw,s1=Sw,o1=(e,t,n)=>{const r=new Map,o={platform:Yw,...n},i={...o.platform,_c:r};return vw(e,t,{...o,platform:i})};var i1=typeof document<"u",l1=function(){},Zo=i1?m.useLayoutEffect:l1;function Ri(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ri(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ri(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Np(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function of(e,t){const n=Np(e);return Math.round(t*n)/n}function $l(e){const t=m.useRef(e);return Zo(()=>{t.current=e}),t}function a1(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[h,p]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,b]=m.useState(r);Ri(f,r)||b(r);const[y,g]=m.useState(null),[k,v]=m.useState(null),d=m.useCallback(S=>{S!==L.current&&(L.current=S,g(S))},[]),x=m.useCallback(S=>{S!==j.current&&(j.current=S,v(S))},[]),N=i||y,w=l||k,L=m.useRef(null),j=m.useRef(null),E=m.useRef(h),I=c!=null,_=$l(c),P=$l(o),U=$l(u),M=m.useCallback(()=>{if(!L.current||!j.current)return;const S={placement:t,strategy:n,middleware:f};P.current&&(S.platform=P.current),o1(L.current,j.current,S).then(T=>{const z={...T,isPositioned:U.current!==!1};A.current&&!Ri(E.current,z)&&(E.current=z,ns.flushSync(()=>{p(z)}))})},[f,t,n,P,U]);Zo(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,p(S=>({...S,isPositioned:!1})))},[u]);const A=m.useRef(!1);Zo(()=>(A.current=!0,()=>{A.current=!1}),[]),Zo(()=>{if(N&&(L.current=N),w&&(j.current=w),N&&w){if(_.current)return _.current(N,w,M);M()}},[N,w,M,_,I]);const V=m.useMemo(()=>({reference:L,floating:j,setReference:d,setFloating:x}),[d,x]),C=m.useMemo(()=>({reference:N,floating:w}),[N,w]),O=m.useMemo(()=>{const S={position:n,left:0,top:0};if(!C.floating)return S;const T=of(C.floating,h.x),z=of(C.floating,h.y);return a?{...S,transform:"translate("+T+"px, "+z+"px)",...Np(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:z}},[n,a,C.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:M,refs:V,elements:C,floatingStyles:O}),[h,M,V,C,O])}const c1=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?sf({element:r.current,padding:o}).fn(n):{}:r?sf({element:r,padding:o}).fn(n):{}}}},u1=(e,t)=>({...Zw(e),options:[e,t]}),d1=(e,t)=>({...e1(e),options:[e,t]}),f1=(e,t)=>({...s1(e),options:[e,t]}),m1=(e,t)=>({...t1(e),options:[e,t]}),h1=(e,t)=>({...n1(e),options:[e,t]}),p1=(e,t)=>({...r1(e),options:[e,t]}),g1=(e,t)=>({...c1(e),options:[e,t]});var x1="Arrow",Sp=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return s.jsx(ye.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sp.displayName=x1;var v1=Sp;function y1(e){const[t,n]=m.useState(void 0);return qe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;l=u.inlineSize,a=u.blockSize}else l=e.offsetWidth,a=e.offsetHeight;n({width:l,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var hu="Popper",[Cp,Ep]=ou(hu),[w1,Lp]=Cp(hu),Mp=e=>{const{__scopePopper:t,children:n}=e,[r,o]=m.useState(null);return s.jsx(w1,{scope:t,anchor:r,onAnchorChange:o,children:n})};Mp.displayName=hu;var Tp="PopperAnchor",Rp=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=Lp(Tp,n),l=m.useRef(null),a=Re(t,l);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:s.jsx(ye.div,{...o,ref:a})});Rp.displayName=Tp;var pu="PopperContent",[b1,j1]=Cp(pu),Pp=m.forwardRef((e,t)=>{var B,ee,ne,R,W,Z;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:b="optimized",onPlaced:y,...g}=e,k=Lp(pu,n),[v,d]=m.useState(null),x=Re(t,je=>d(je)),[N,w]=m.useState(null),L=y1(N),j=(L==null?void 0:L.width)??0,E=(L==null?void 0:L.height)??0,I=r+(i!=="center"?"-"+i:""),_=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(u)?u:[u],U=P.length>0,M={padding:_,boundary:P.filter(N1),altBoundary:U},{refs:A,floatingStyles:V,placement:C,isPositioned:O,middlewareData:S}=a1({strategy:"fixed",placement:I,whileElementsMounted:(...je)=>Jw(...je,{animationFrame:b==="always"}),elements:{reference:k.anchor},middleware:[u1({mainAxis:o+E,alignmentAxis:l}),c&&d1({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?f1():void 0,...M}),c&&m1({...M}),h1({...M,apply:({elements:je,rects:st,availableWidth:cs,availableHeight:us})=>{const{width:ds,height:H0}=st.reference,mo=je.floating.style;mo.setProperty("--radix-popper-available-width",`${cs}px`),mo.setProperty("--radix-popper-available-height",`${us}px`),mo.setProperty("--radix-popper-anchor-width",`${ds}px`),mo.setProperty("--radix-popper-anchor-height",`${H0}px`)}}),N&&g1({element:N,padding:a}),S1({arrowWidth:j,arrowHeight:E}),f&&p1({strategy:"referenceHidden",...M})]}),[T,z]=Fp(C),Q=or(y);qe(()=>{O&&(Q==null||Q())},[O,Q]);const X=(B=S.arrow)==null?void 0:B.x,F=(ee=S.arrow)==null?void 0:ee.y,H=((ne=S.arrow)==null?void 0:ne.centerOffset)!==0,[K,J]=m.useState();return qe(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:O?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(R=S.transformOrigin)==null?void 0:R.x,(W=S.transformOrigin)==null?void 0:W.y].join(" "),...((Z=S.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(b1,{scope:n,placedSide:T,onArrowChange:w,arrowX:X,arrowY:F,shouldHideArrow:H,children:s.jsx(ye.div,{"data-side":T,"data-align":z,...g,ref:x,style:{...g.style,animation:O?void 0:"none"}})})})});Pp.displayName=pu;var Ap="PopperArrow",k1={top:"bottom",right:"left",bottom:"top",left:"right"},Op=m.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=j1(Ap,r),l=k1[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(v1,{...o,ref:n,style:{...o.style,display:"block"}})})});Op.displayName=Ap;function N1(e){return e!==null}var S1=e=>({name:"transformOrigin",options:e,fn(t){var k,v,d;const{placement:n,rects:r,middlewareData:o}=t,l=((k=o.arrow)==null?void 0:k.centerOffset)!==0,a=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[u,h]=Fp(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((v=o.arrow)==null?void 0:v.x)??0)+a/2,b=(((d=o.arrow)==null?void 0:d.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=l?p:`${f}px`,g=`${-c}px`):u==="top"?(y=l?p:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=l?p:`${b}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=l?p:`${b}px`),{data:{x:y,y:g}}}});function Fp(e){const[t,n="center"]=e.split("-");return[t,n]}var C1=Mp,E1=Rp,L1=Pp,M1=Op,T1="Portal",Dp=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,i]=m.useState(!1);qe(()=>i(!0),[]);const l=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?gv.createPortal(s.jsx(ye.div,{...r,ref:t}),l):null});Dp.displayName=T1;var R1=cc[" useInsertionEffect ".trim().toString()]||qe;function lf({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,l]=P1({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:o;{const h=m.useRef(e!==void 0);m.useEffect(()=>{const p=h.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=m.useCallback(h=>{var p;if(a){const f=A1(h)?h(e):h;f!==e&&((p=l.current)==null||p.call(l,f))}else i(h)},[a,e,i,l]);return[c,u]}function P1({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),o=m.useRef(n),i=m.useRef(t);return R1(()=>{i.current=t},[t]),m.useEffect(()=>{var l;o.current!==n&&((l=i.current)==null||l.call(i,n),o.current=n)},[n,o]),[n,r,i]}function A1(e){return typeof e=="function"}function O1(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ip=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F1="VisuallyHidden",D1=m.forwardRef((e,t)=>s.jsx(ye.span,{...e,ref:t,style:{...Ip,...e.style}}));D1.displayName=F1;var I1=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fr=new WeakMap,Fo=new WeakMap,Do={},Wl=0,_p=function(e){return e&&(e.host||_p(e.parentNode))},_1=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=_p(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},z1=function(e,t,n,r){var o=_1(t,Array.isArray(e)?e:[e]);Do[n]||(Do[n]=new WeakMap);var i=Do[n],l=[],a=new Set,c=new Set(o),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};o.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var b=f.getAttribute(r),y=b!==null&&b!=="false",g=(fr.get(f)||0)+1,k=(i.get(f)||0)+1;fr.set(f,g),i.set(f,k),l.push(f),g===1&&y&&Fo.set(f,!0),k===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return h(t),a.clear(),Wl++,function(){l.forEach(function(p){var f=fr.get(p)-1,b=i.get(p)-1;fr.set(p,f),i.set(p,b),f||(Fo.has(p)||p.removeAttribute(r),Fo.delete(p)),b||p.removeAttribute(n)}),Wl--,Wl||(fr=new WeakMap,fr=new WeakMap,Fo=new WeakMap,Do={})}},B1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||I1(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),z1(r,o,n,"aria-hidden")):function(){return null}},Ot=function(){return Ot=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ot.apply(this,arguments)};function zp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function $1(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ei="right-scroll-bar-position",ti="width-before-scroll-bar",W1="with-scroll-bars-hidden",H1="--removed-body-scroll-bar-size";function Hl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function U1(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var V1=typeof window<"u"?m.useLayoutEffect:m.useEffect,af=new WeakMap;function Q1(e,t){var n=U1(t||null,function(r){return e.forEach(function(o){return Hl(o,r)})});return V1(function(){var r=af.get(n);if(r){var o=new Set(r),i=new Set(e),l=n.current;o.forEach(function(a){i.has(a)||Hl(a,null)}),i.forEach(function(a){o.has(a)||Hl(a,l)})}af.set(n,e)},[e]),n}function K1(e){return e}function G1(e,t){t===void 0&&(t=K1);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(a){return a!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var a=n;n=[],a.forEach(i),l=n}var c=function(){var h=l;l=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){l.push(h),u()},filter:function(h){return l=l.filter(h),n}}}};return o}function q1(e){e===void 0&&(e={});var t=G1(null);return t.options=Ot({async:!0,ssr:!1},e),t}var Bp=function(e){var t=e.sideCar,n=zp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ot({},n))};Bp.isSideCarExport=!0;function Y1(e,t){return e.useMedium(t),Bp}var $p=q1(),Ul=function(){},rl=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Ul,onWheelCapture:Ul,onTouchMoveCapture:Ul}),o=r[0],i=r[1],l=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,p=e.shards,f=e.sideCar,b=e.noRelative,y=e.noIsolation,g=e.inert,k=e.allowPinchZoom,v=e.as,d=v===void 0?"div":v,x=e.gapMode,N=zp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,L=Q1([n,t]),j=Ot(Ot({},N),o);return m.createElement(m.Fragment,null,h&&m.createElement(w,{sideCar:$p,removeScrollBar:u,shards:p,noRelative:b,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!k,lockRef:n,gapMode:x}),l?m.cloneElement(m.Children.only(a),Ot(Ot({},j),{ref:L})):m.createElement(d,Ot({},j,{className:c,ref:L}),a))});rl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rl.classNames={fullWidth:ti,zeroRight:ei};var cf,X1=function(){if(cf)return cf;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J1(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=X1();return t&&e.setAttribute("nonce",t),e}function Z1(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function e2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var t2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=J1())&&(Z1(t,n),e2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},n2=function(){var e=t2();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Wp=function(){var e=n2(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},r2={left:0,top:0,right:0,gap:0},Vl=function(e){return parseInt(e||"",10)||0},s2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Vl(n),Vl(r),Vl(o)]},o2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return r2;var t=s2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},i2=Wp(),Fr="data-scroll-locked",l2=function(e,t,n,r){var o=e.left,i=e.top,l=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(W1,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Fr,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ei,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ti,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ei," .").concat(ei,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ti," .").concat(ti,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fr,`] {
    `).concat(H1,": ").concat(a,`px;
  }
`)},uf=function(){var e=parseInt(document.body.getAttribute(Fr)||"0",10);return isFinite(e)?e:0},a2=function(){m.useEffect(function(){return document.body.setAttribute(Fr,(uf()+1).toString()),function(){var e=uf()-1;e<=0?document.body.removeAttribute(Fr):document.body.setAttribute(Fr,e.toString())}},[])},c2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;a2();var i=m.useMemo(function(){return o2(o)},[o]);return m.createElement(i2,{styles:l2(i,!t,o,n?"":"!important")})},Ka=!1;if(typeof window<"u")try{var Io=Object.defineProperty({},"passive",{get:function(){return Ka=!0,!0}});window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Ka=!1}var mr=Ka?{passive:!1}:!1,u2=function(e){return e.tagName==="TEXTAREA"},Hp=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!u2(e)&&n[t]==="visible")},d2=function(e){return Hp(e,"overflowY")},f2=function(e){return Hp(e,"overflowX")},df=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Up(e,r);if(o){var i=Vp(e,r),l=i[1],a=i[2];if(l>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},h2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Up=function(e,t){return e==="v"?d2(t):f2(t)},Vp=function(e,t){return e==="v"?m2(t):h2(t)},p2=function(e,t){return e==="h"&&t==="rtl"?-1:1},g2=function(e,t,n,r,o){var i=p2(e,window.getComputedStyle(t).direction),l=i*r,a=n.target,c=t.contains(a),u=!1,h=l>0,p=0,f=0;do{if(!a)break;var b=Vp(e,a),y=b[0],g=b[1],k=b[2],v=g-k-i*y;(y||v)&&Up(e,a)&&(p+=v,f+=y);var d=a.parentNode;a=d&&d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?d.host:d}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(h&&(o&&Math.abs(p)<1||!o&&l>p)||!h&&(o&&Math.abs(f)<1||!o&&-l>f))&&(u=!0),u},_o=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ff=function(e){return[e.deltaX,e.deltaY]},mf=function(e){return e&&"current"in e?e.current:e},x2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},v2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},y2=0,hr=[];function w2(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),o=m.useState(y2++)[0],i=m.useState(Wp)[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=$1([e.lockRef.current],(e.shards||[]).map(mf),!0).filter(Boolean);return g.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(g,k){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!l.current.allowPinchZoom;var v=_o(g),d=n.current,x="deltaX"in g?g.deltaX:d[0]-v[0],N="deltaY"in g?g.deltaY:d[1]-v[1],w,L=g.target,j=Math.abs(x)>Math.abs(N)?"h":"v";if("touches"in g&&j==="h"&&L.type==="range")return!1;var E=df(j,L);if(!E)return!0;if(E?w=j:(w=j==="v"?"h":"v",E=df(j,L)),!E)return!1;if(!r.current&&"changedTouches"in g&&(x||N)&&(r.current=w),!w)return!0;var I=r.current||w;return g2(I,k,g,I==="h"?x:N,!0)},[]),c=m.useCallback(function(g){var k=g;if(!(!hr.length||hr[hr.length-1]!==i)){var v="deltaY"in k?ff(k):_o(k),d=t.current.filter(function(w){return w.name===k.type&&(w.target===k.target||k.target===w.shadowParent)&&x2(w.delta,v)})[0];if(d&&d.should){k.cancelable&&k.preventDefault();return}if(!d){var x=(l.current.shards||[]).map(mf).filter(Boolean).filter(function(w){return w.contains(k.target)}),N=x.length>0?a(k,x[0]):!l.current.noIsolation;N&&k.cancelable&&k.preventDefault()}}},[]),u=m.useCallback(function(g,k,v,d){var x={name:g,delta:k,target:v,should:d,shadowParent:b2(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(N){return N!==x})},1)},[]),h=m.useCallback(function(g){n.current=_o(g),r.current=void 0},[]),p=m.useCallback(function(g){u(g.type,ff(g),g.target,a(g,e.lockRef.current))},[]),f=m.useCallback(function(g){u(g.type,_o(g),g.target,a(g,e.lockRef.current))},[]);m.useEffect(function(){return hr.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,mr),document.addEventListener("touchmove",c,mr),document.addEventListener("touchstart",h,mr),function(){hr=hr.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,mr),document.removeEventListener("touchmove",c,mr),document.removeEventListener("touchstart",h,mr)}},[]);var b=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(i,{styles:v2(o)}):null,b?m.createElement(c2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function b2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const j2=Y1($p,w2);var Qp=m.forwardRef(function(e,t){return m.createElement(rl,Ot({},e,{ref:t,sideCar:j2}))});Qp.classNames=rl.classNames;const k2=Qp;var N2=[" ","Enter","ArrowUp","ArrowDown"],S2=[" ","Enter"],lr="Select",[sl,ol,C2]=_y(lr),[is,Jb]=ou(lr,[C2,Ep]),il=Ep(),[E2,Fn]=is(lr),[L2,M2]=is(lr),Kp=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:f,required:b,form:y}=e,g=il(t),[k,v]=m.useState(null),[d,x]=m.useState(null),[N,w]=m.useState(!1),L=By(u),[j,E]=lf({prop:r,defaultProp:o??!1,onChange:i,caller:lr}),[I,_]=lf({prop:l,defaultProp:a,onChange:c,caller:lr}),P=m.useRef(null),U=k?y||!!k.closest("form"):!0,[M,A]=m.useState(new Set),V=Array.from(M).map(C=>C.props.value).join(";");return s.jsx(C1,{...g,children:s.jsxs(E2,{required:b,scope:t,trigger:k,onTriggerChange:v,valueNode:d,onValueNodeChange:x,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:iu(),value:I,onValueChange:_,open:j,onOpenChange:E,dir:L,triggerPointerDownPosRef:P,disabled:f,children:[s.jsx(sl.Provider,{scope:t,children:s.jsx(L2,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(C=>{A(O=>new Set(O).add(C))},[]),onNativeOptionRemove:m.useCallback(C=>{A(O=>{const S=new Set(O);return S.delete(C),S})},[]),children:n})}),U?s.jsxs(x0,{"aria-hidden":!0,required:b,tabIndex:-1,name:h,autoComplete:p,value:I,onChange:C=>_(C.target.value),disabled:f,form:y,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},V):null]})})};Kp.displayName=lr;var Gp="SelectTrigger",qp=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=il(n),l=Fn(Gp,n),a=l.disabled||r,c=Re(t,l.onTriggerChange),u=ol(n),h=m.useRef("touch"),[p,f,b]=y0(g=>{const k=u().filter(x=>!x.disabled),v=k.find(x=>x.value===l.value),d=w0(k,g,v);d!==void 0&&l.onValueChange(d.value)}),y=g=>{a||(l.onOpenChange(!0),b()),g&&(l.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(E1,{asChild:!0,...i,children:s.jsx(ye.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":v0(l.value)?"":void 0,...o,ref:c,onClick:we(o.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&y(g)}),onPointerDown:we(o.onPointerDown,g=>{h.current=g.pointerType;const k=g.target;k.hasPointerCapture(g.pointerId)&&k.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:we(o.onKeyDown,g=>{const k=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(k&&g.key===" ")&&N2.includes(g.key)&&(y(),g.preventDefault())})})})});qp.displayName=Gp;var Yp="SelectValue",Xp=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:l="",...a}=e,c=Fn(Yp,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,p=Re(t,c.onValueNodeChange);return qe(()=>{u(h)},[u,h]),s.jsx(ye.span,{...a,ref:p,style:{pointerEvents:"none"},children:v0(c.value)?s.jsx(s.Fragment,{children:l}):i})});Xp.displayName=Yp;var T2="SelectIcon",Jp=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return s.jsx(ye.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});Jp.displayName=T2;var R2="SelectPortal",Zp=e=>s.jsx(Dp,{asChild:!0,...e});Zp.displayName=R2;var ar="SelectContent",e0=m.forwardRef((e,t)=>{const n=Fn(ar,e.__scopeSelect),[r,o]=m.useState();if(qe(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?ns.createPortal(s.jsx(t0,{scope:e.__scopeSelect,children:s.jsx(sl.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(n0,{...e,ref:t})});e0.displayName=ar;var pt=10,[t0,Dn]=is(ar),P2="SelectContentImpl",A2=Ei("SelectContent.RemoveScroll"),n0=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:b,sticky:y,hideWhenDetached:g,avoidCollisions:k,...v}=e,d=Fn(ar,n),[x,N]=m.useState(null),[w,L]=m.useState(null),j=Re(t,B=>N(B)),[E,I]=m.useState(null),[_,P]=m.useState(null),U=ol(n),[M,A]=m.useState(!1),V=m.useRef(!1);m.useEffect(()=>{if(x)return B1(x)},[x]),Xy();const C=m.useCallback(B=>{const[ee,...ne]=U().map(Z=>Z.ref.current),[R]=ne.slice(-1),W=document.activeElement;for(const Z of B)if(Z===W||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===ee&&w&&(w.scrollTop=0),Z===R&&w&&(w.scrollTop=w.scrollHeight),Z==null||Z.focus(),document.activeElement!==W))return},[U,w]),O=m.useCallback(()=>C([E,x]),[C,E,x]);m.useEffect(()=>{M&&O()},[M,O]);const{onOpenChange:S,triggerPointerDownPosRef:T}=d;m.useEffect(()=>{if(x){let B={x:0,y:0};const ee=R=>{var W,Z;B={x:Math.abs(Math.round(R.pageX)-(((W=T.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(R.pageY)-(((Z=T.current)==null?void 0:Z.y)??0))}},ne=R=>{B.x<=10&&B.y<=10?R.preventDefault():x.contains(R.target)||S(!1),document.removeEventListener("pointermove",ee),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",ne,{capture:!0})}}},[x,S,T]),m.useEffect(()=>{const B=()=>S(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[S]);const[z,Q]=y0(B=>{const ee=U().filter(W=>!W.disabled),ne=ee.find(W=>W.ref.current===document.activeElement),R=w0(ee,B,ne);R&&setTimeout(()=>R.ref.current.focus())}),X=m.useCallback((B,ee,ne)=>{const R=!V.current&&!ne;(d.value!==void 0&&d.value===ee||R)&&(I(B),R&&(V.current=!0))},[d.value]),F=m.useCallback(()=>x==null?void 0:x.focus(),[x]),H=m.useCallback((B,ee,ne)=>{const R=!V.current&&!ne;(d.value!==void 0&&d.value===ee||R)&&P(B)},[d.value]),K=r==="popper"?Ga:r0,J=K===Ga?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:b,sticky:y,hideWhenDetached:g,avoidCollisions:k}:{};return s.jsx(t0,{scope:n,content:x,viewport:w,onViewportChange:L,itemRefCallback:X,selectedItem:E,onItemLeave:F,itemTextRefCallback:H,focusSelectedItem:O,selectedItemText:_,position:r,isPositioned:M,searchRef:z,children:s.jsx(k2,{as:A2,allowPinchZoom:!0,children:s.jsx(fp,{asChild:!0,trapped:d.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:we(o,B=>{var ee;(ee=d.trigger)==null||ee.focus({preventScroll:!0}),B.preventDefault()}),children:s.jsx(up,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>d.onOpenChange(!1),children:s.jsx(K,{role:"listbox",id:d.contentId,"data-state":d.open?"open":"closed",dir:d.dir,onContextMenu:B=>B.preventDefault(),...v,...J,onPlaced:()=>A(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:we(v.onKeyDown,B=>{const ee=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!ee&&B.key.length===1&&Q(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let R=U().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(B.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const W=B.target,Z=R.indexOf(W);R=R.slice(Z+1)}setTimeout(()=>C(R)),B.preventDefault()}})})})})})})});n0.displayName=P2;var O2="SelectItemAlignedPosition",r0=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=Fn(ar,n),l=Dn(ar,n),[a,c]=m.useState(null),[u,h]=m.useState(null),p=Re(t,j=>h(j)),f=ol(n),b=m.useRef(!1),y=m.useRef(!0),{viewport:g,selectedItem:k,selectedItemText:v,focusSelectedItem:d}=l,x=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&k&&v){const j=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),_=v.getBoundingClientRect();if(i.dir!=="rtl"){const W=_.left-E.left,Z=I.left-W,je=j.left-Z,st=j.width+je,cs=Math.max(st,E.width),us=window.innerWidth-pt,ds=$d(Z,[pt,Math.max(pt,us-cs)]);a.style.minWidth=st+"px",a.style.left=ds+"px"}else{const W=E.right-_.right,Z=window.innerWidth-I.right-W,je=window.innerWidth-j.right-Z,st=j.width+je,cs=Math.max(st,E.width),us=window.innerWidth-pt,ds=$d(Z,[pt,Math.max(pt,us-cs)]);a.style.minWidth=st+"px",a.style.right=ds+"px"}const P=f(),U=window.innerHeight-pt*2,M=g.scrollHeight,A=window.getComputedStyle(u),V=parseInt(A.borderTopWidth,10),C=parseInt(A.paddingTop,10),O=parseInt(A.borderBottomWidth,10),S=parseInt(A.paddingBottom,10),T=V+C+M+S+O,z=Math.min(k.offsetHeight*5,T),Q=window.getComputedStyle(g),X=parseInt(Q.paddingTop,10),F=parseInt(Q.paddingBottom,10),H=j.top+j.height/2-pt,K=U-H,J=k.offsetHeight/2,B=k.offsetTop+J,ee=V+C+B,ne=T-ee;if(ee<=H){const W=P.length>0&&k===P[P.length-1].ref.current;a.style.bottom="0px";const Z=u.clientHeight-g.offsetTop-g.offsetHeight,je=Math.max(K,J+(W?F:0)+Z+O),st=ee+je;a.style.height=st+"px"}else{const W=P.length>0&&k===P[0].ref.current;a.style.top="0px";const je=Math.max(H,V+g.offsetTop+(W?X:0)+J)+ne;a.style.height=je+"px",g.scrollTop=ee-H+g.offsetTop}a.style.margin=`${pt}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[f,i.trigger,i.valueNode,a,u,g,k,v,i.dir,r]);qe(()=>x(),[x]);const[N,w]=m.useState();qe(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const L=m.useCallback(j=>{j&&y.current===!0&&(x(),d==null||d(),y.current=!1)},[x,d]);return s.jsx(D2,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:L,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(ye.div,{...o,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});r0.displayName=O2;var F2="SelectPopperPosition",Ga=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=pt,...i}=e,l=il(n);return s.jsx(L1,{...l,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ga.displayName=F2;var[D2,gu]=is(ar,{}),qa="SelectViewport",s0=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=Dn(qa,n),l=gu(qa,n),a=Re(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(sl.Slot,{scope:n,children:s.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:we(o.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&p){const b=Math.abs(c.current-h.scrollTop);if(b>0){const y=window.innerHeight-pt*2,g=parseFloat(p.style.minHeight),k=parseFloat(p.style.height),v=Math.max(g,k);if(v<y){const d=v+b,x=Math.min(y,d),N=d-x;p.style.height=x+"px",p.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});s0.displayName=qa;var o0="SelectGroup",[I2,_2]=is(o0),z2=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=iu();return s.jsx(I2,{scope:n,id:o,children:s.jsx(ye.div,{role:"group","aria-labelledby":o,...r,ref:t})})});z2.displayName=o0;var i0="SelectLabel",l0=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=_2(i0,n);return s.jsx(ye.div,{id:o.id,...r,ref:t})});l0.displayName=i0;var Pi="SelectItem",[B2,a0]=is(Pi),c0=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,a=Fn(Pi,n),c=Dn(Pi,n),u=a.value===r,[h,p]=m.useState(i??""),[f,b]=m.useState(!1),y=Re(t,d=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,d,r,o)}),g=iu(),k=m.useRef("touch"),v=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(B2,{scope:n,value:r,disabled:o,textId:g,isSelected:u,onItemTextChange:m.useCallback(d=>{p(x=>x||((d==null?void 0:d.textContent)??"").trim())},[]),children:s.jsx(sl.ItemSlot,{scope:n,value:r,disabled:o,textValue:h,children:s.jsx(ye.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:y,onFocus:we(l.onFocus,()=>b(!0)),onBlur:we(l.onBlur,()=>b(!1)),onClick:we(l.onClick,()=>{k.current!=="mouse"&&v()}),onPointerUp:we(l.onPointerUp,()=>{k.current==="mouse"&&v()}),onPointerDown:we(l.onPointerDown,d=>{k.current=d.pointerType}),onPointerMove:we(l.onPointerMove,d=>{var x;k.current=d.pointerType,o?(x=c.onItemLeave)==null||x.call(c):k.current==="mouse"&&d.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(l.onPointerLeave,d=>{var x;d.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:we(l.onKeyDown,d=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&d.key===" "||(S2.includes(d.key)&&v(),d.key===" "&&d.preventDefault())})})})})});c0.displayName=Pi;var Ss="SelectItemText",u0=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,l=Fn(Ss,n),a=Dn(Ss,n),c=a0(Ss,n),u=M2(Ss,n),[h,p]=m.useState(null),f=Re(t,v=>p(v),c.onItemTextChange,v=>{var d;return(d=a.itemTextRefCallback)==null?void 0:d.call(a,v,c.value,c.disabled)}),b=h==null?void 0:h.textContent,y=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:g,onNativeOptionRemove:k}=u;return qe(()=>(g(y),()=>k(y)),[g,k,y]),s.jsxs(s.Fragment,{children:[s.jsx(ye.span,{id:c.textId,...i,ref:f}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ns.createPortal(i.children,l.valueNode):null]})});u0.displayName=Ss;var d0="SelectItemIndicator",f0=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a0(d0,n).isSelected?s.jsx(ye.span,{"aria-hidden":!0,...r,ref:t}):null});f0.displayName=d0;var Ya="SelectScrollUpButton",m0=m.forwardRef((e,t)=>{const n=Dn(Ya,e.__scopeSelect),r=gu(Ya,e.__scopeSelect),[o,i]=m.useState(!1),l=Re(t,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?s.jsx(p0,{...e,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});m0.displayName=Ya;var Xa="SelectScrollDownButton",h0=m.forwardRef((e,t)=>{const n=Dn(Xa,e.__scopeSelect),r=gu(Xa,e.__scopeSelect),[o,i]=m.useState(!1),l=Re(t,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?s.jsx(p0,{...e,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});h0.displayName=Xa;var p0=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=Dn("SelectScrollButton",n),l=m.useRef(null),a=ol(n),c=m.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),qe(()=>{var h;const u=a().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),s.jsx(ye.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:we(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:we(o.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:we(o.onPointerLeave,()=>{c()})})}),$2="SelectSeparator",g0=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(ye.div,{"aria-hidden":!0,...r,ref:t})});g0.displayName=$2;var Ja="SelectArrow",W2=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=il(n),i=Fn(Ja,n),l=Dn(Ja,n);return i.open&&l.position==="popper"?s.jsx(M1,{...o,...r,ref:t}):null});W2.displayName=Ja;var H2="SelectBubbleInput",x0=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=m.useRef(null),i=Re(r,o),l=O1(t);return m.useEffect(()=>{const a=o.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==t&&h){const p=new Event("change",{bubbles:!0});h.call(a,t),a.dispatchEvent(p)}},[l,t]),s.jsx(ye.select,{...n,style:{...Ip,...n.style},ref:i,defaultValue:t})});x0.displayName=H2;function v0(e){return e===""||e===void 0}function y0(e){const t=or(e),n=m.useRef(""),r=m.useRef(0),o=m.useCallback(l=>{const a=n.current+l;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function w0(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=U2(e,Math.max(i,0));o.length===1&&(l=l.filter(u=>u!==n));const c=l.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function U2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var V2=Kp,b0=qp,Q2=Xp,K2=Jp,G2=Zp,j0=e0,q2=s0,k0=l0,N0=c0,Y2=u0,X2=f0,S0=m0,C0=h0,E0=g0;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z2=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),hf=e=>{const t=Z2(e);return t.charAt(0).toUpperCase()+t.slice(1)},L0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),eb=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...a},c)=>m.createElement("svg",{ref:c,...tb,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:L0("lucide",o),...!i&&!eb(a)&&{"aria-hidden":"true"},...a},[...l.map(([u,h])=>m.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=(e,t)=>{const n=m.forwardRef(({className:r,...o},i)=>m.createElement(nb,{ref:i,iconNode:t,className:L0(`lucide-${J2(hf(e))}`,`lucide-${e}`,r),...o}));return n.displayName=hf(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sb=xu("check",rb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],M0=xu("chevron-down",ob);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],lb=xu("chevron-up",ib);function T0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=T0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ab(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=T0(e))&&(r&&(r+=" "),r+=t);return r}const vu="-",cb=e=>{const t=db(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const a=l.split(vu);return a[0]===""&&a.length!==1&&a.shift(),R0(a,t)||ub(l)},getConflictingClassGroupIds:(l,a)=>{const c=n[l]||[];return a&&r[l]?[...c,...r[l]]:c}}},R0=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?R0(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(vu);return(l=t.validators.find(({validator:a})=>a(i)))==null?void 0:l.classGroupId},pf=/^\[(.+)\]$/,ub=e=>{if(pf.test(e)){const t=pf.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},db=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)Za(n[o],r,o,t);return r},Za=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:gf(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(fb(o)){Za(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,l])=>{Za(l,gf(t,i),n,r)})})},gf=(e,t)=>{let n=e;return t.split(vu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fb=e=>e.isThemeGetter,mb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,l)=>{n.set(i,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return o(i,l),l},set(i,l){n.has(i)?n.set(i,l):o(i,l)}}},ec="!",tc=":",hb=tc.length,pb=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let l=0,a=0,c=0,u;for(let y=0;y<o.length;y++){let g=o[y];if(l===0&&a===0){if(g===tc){i.push(o.slice(c,y)),c=y+hb;continue}if(g==="/"){u=y;continue}}g==="["?l++:g==="]"?l--:g==="("?a++:g===")"&&a--}const h=i.length===0?o:o.substring(c),p=gb(h),f=p!==h,b=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:b}};if(t){const o=t+tc,i=r;r=l=>l.startsWith(o)?i(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},gb=e=>e.endsWith(ec)?e.substring(0,e.length-1):e.startsWith(ec)?e.substring(1):e,xb=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let i=[];return r.forEach(l=>{l[0]==="["||t[l]?(o.push(...i.sort(),l),i=[]):i.push(l)}),o.push(...i.sort()),o}},vb=e=>({cache:mb(e.cacheSize),parseClassName:pb(e),sortModifiers:xb(e),...cb(e)}),yb=/\s+/,wb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,l=[],a=e.trim().split(yb);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{isExternal:p,modifiers:f,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:g}=n(h);if(p){c=h+(c.length>0?" "+c:c);continue}let k=!!g,v=r(k?y.substring(0,g):y);if(!v){if(!k){c=h+(c.length>0?" "+c:c);continue}if(v=r(y),!v){c=h+(c.length>0?" "+c:c);continue}k=!1}const d=i(f).join(":"),x=b?d+ec:d,N=x+v;if(l.includes(N))continue;l.push(N);const w=o(v,k);for(let L=0;L<w.length;++L){const j=w[L];l.push(x+j)}c=h+(c.length>0?" "+c:c)}return c};function bb(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=P0(t))&&(r&&(r+=" "),r+=n);return r}const P0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=P0(e[r]))&&(n&&(n+=" "),n+=t);return n};function jb(e,...t){let n,r,o,i=l;function l(c){const u=t.reduce((h,p)=>p(h),e());return n=vb(u),r=n.cache.get,o=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=wb(c,n);return o(c,h),h}return function(){return i(bb.apply(null,arguments))}}const ke=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},A0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,O0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kb=/^\d+\/\d+$/,Nb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Eb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=e=>kb.test(e),se=e=>!!e&&!Number.isNaN(Number(e)),on=e=>!!e&&Number.isInteger(Number(e)),Ql=e=>e.endsWith("%")&&se(e.slice(0,-1)),Wt=e=>Nb.test(e),Mb=()=>!0,Tb=e=>Sb.test(e)&&!Cb.test(e),F0=()=>!1,Rb=e=>Eb.test(e),Pb=e=>Lb.test(e),Ab=e=>!q(e)&&!Y(e),Ob=e=>ls(e,_0,F0),q=e=>A0.test(e),_n=e=>ls(e,z0,Tb),Kl=e=>ls(e,zb,se),xf=e=>ls(e,D0,F0),Fb=e=>ls(e,I0,Pb),zo=e=>ls(e,B0,Rb),Y=e=>O0.test(e),ws=e=>as(e,z0),Db=e=>as(e,Bb),vf=e=>as(e,D0),Ib=e=>as(e,_0),_b=e=>as(e,I0),Bo=e=>as(e,B0,!0),ls=(e,t,n)=>{const r=A0.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},as=(e,t,n=!1)=>{const r=O0.exec(e);return r?r[1]?t(r[1]):n:!1},D0=e=>e==="position"||e==="percentage",I0=e=>e==="image"||e==="url",_0=e=>e==="length"||e==="size"||e==="bg-size",z0=e=>e==="length",zb=e=>e==="number",Bb=e=>e==="family-name",B0=e=>e==="shadow",$b=()=>{const e=ke("color"),t=ke("font"),n=ke("text"),r=ke("font-weight"),o=ke("tracking"),i=ke("leading"),l=ke("breakpoint"),a=ke("container"),c=ke("spacing"),u=ke("radius"),h=ke("shadow"),p=ke("inset-shadow"),f=ke("text-shadow"),b=ke("drop-shadow"),y=ke("blur"),g=ke("perspective"),k=ke("aspect"),v=ke("ease"),d=ke("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...N(),Y,q],L=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],E=()=>[Y,q,c],I=()=>[pr,"full","auto",...E()],_=()=>[on,"none","subgrid",Y,q],P=()=>["auto",{span:["full",on,Y,q]},on,Y,q],U=()=>[on,"auto",Y,q],M=()=>["auto","min","max","fr",Y,q],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],C=()=>["auto",...E()],O=()=>[pr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],S=()=>[e,Y,q],T=()=>[...N(),vf,xf,{position:[Y,q]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",Ib,Ob,{size:[Y,q]}],X=()=>[Ql,ws,_n],F=()=>["","none","full",u,Y,q],H=()=>["",se,ws,_n],K=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[se,Ql,vf,xf],ee=()=>["","none",y,Y,q],ne=()=>["none",se,Y,q],R=()=>["none",se,Y,q],W=()=>[se,Y,q],Z=()=>[pr,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wt],breakpoint:[Wt],color:[Mb],container:[Wt],"drop-shadow":[Wt],ease:["in","out","in-out"],font:[Ab],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wt],shadow:[Wt],spacing:["px",se],text:[Wt],"text-shadow":[Wt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pr,q,Y,k]}],container:["container"],columns:[{columns:[se,q,Y,a]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[on,"auto",Y,q]}],basis:[{basis:[pr,"full","auto",a,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[se,pr,"auto","initial","none",q]}],grow:[{grow:["",se,Y,q]}],shrink:[{shrink:["",se,Y,q]}],order:[{order:[on,"first","last","none",Y,q]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[a,"screen",...O()]}],"min-w":[{"min-w":[a,"screen","none",...O()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[l]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",n,ws,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,Kl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ql,q]}],"font-family":[{font:[Db,q,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Y,q]}],"line-clamp":[{"line-clamp":[se,"none",Y,Kl]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",Y,q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:[se,"from-font","auto",Y,_n]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[se,"auto",Y,q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},on,Y,q],radial:["",Y,q],conic:[on,Y,q]},_b,Fb]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...K(),"hidden","none"]}],"divide-style":[{divide:[...K(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...K(),"none","hidden"]}],"outline-offset":[{"outline-offset":[se,Y,q]}],"outline-w":[{outline:["",se,ws,_n]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",h,Bo,zo]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",p,Bo,zo]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[se,_n]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",f,Bo,zo]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[se,Y,q]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[se]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[Y,q]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[se]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,q]}],filter:[{filter:["","none",Y,q]}],blur:[{blur:ee()}],brightness:[{brightness:[se,Y,q]}],contrast:[{contrast:[se,Y,q]}],"drop-shadow":[{"drop-shadow":["","none",b,Bo,zo]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",se,Y,q]}],"hue-rotate":[{"hue-rotate":[se,Y,q]}],invert:[{invert:["",se,Y,q]}],saturate:[{saturate:[se,Y,q]}],sepia:[{sepia:["",se,Y,q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,q]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[se,Y,q]}],"backdrop-contrast":[{"backdrop-contrast":[se,Y,q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",se,Y,q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[se,Y,q]}],"backdrop-invert":[{"backdrop-invert":["",se,Y,q]}],"backdrop-opacity":[{"backdrop-opacity":[se,Y,q]}],"backdrop-saturate":[{"backdrop-saturate":[se,Y,q]}],"backdrop-sepia":[{"backdrop-sepia":["",se,Y,q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[se,"initial",Y,q]}],ease:[{ease:["linear","initial",v,Y,q]}],delay:[{delay:[se,Y,q]}],animate:[{animate:["none",d,Y,q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Y,q]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:R()}],"scale-x":[{"scale-x":R()}],"scale-y":[{"scale-y":R()}],"scale-z":[{"scale-z":R()}],"scale-3d":["scale-3d"],skew:[{skew:W()}],"skew-x":[{"skew-x":W()}],"skew-y":[{"skew-y":W()}],transform:[{transform:[Y,q,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Z()}],"translate-x":[{"translate-x":Z()}],"translate-y":[{"translate-y":Z()}],"translate-z":[{"translate-z":Z()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,q]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[se,ws,_n,Kl]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Wb=jb($b);function nn(...e){return Wb(ab(e))}const yf=V2,wf=Q2,nc=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(b0,{ref:r,className:nn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(K2,{asChild:!0,children:s.jsx(M0,{className:"h-4 w-4 opacity-50"})})]}));nc.displayName=b0.displayName;const $0=m.forwardRef(({className:e,...t},n)=>s.jsx(S0,{ref:n,className:nn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(lb,{className:"h-4 w-4"})}));$0.displayName=S0.displayName;const W0=m.forwardRef(({className:e,...t},n)=>s.jsx(C0,{ref:n,className:nn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(M0,{className:"h-4 w-4"})}));W0.displayName=C0.displayName;const rc=m.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>s.jsx(G2,{children:s.jsxs(j0,{ref:o,className:nn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx($0,{}),s.jsx(q2,{className:nn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(W0,{})]})}));rc.displayName=j0.displayName;const Hb=m.forwardRef(({className:e,...t},n)=>s.jsx(k0,{ref:n,className:nn("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Hb.displayName=k0.displayName;const ht=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(N0,{ref:r,className:nn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none bg-popover hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(X2,{children:s.jsx(sb,{className:"h-4 w-4"})})}),s.jsx(Y2,{children:t})]}));ht.displayName=N0.displayName;const Ub=m.forwardRef(({className:e,...t},n)=>s.jsx(E0,{ref:n,className:nn("-mx-1 my-1 h-px bg-muted",e),...t}));Ub.displayName=E0.displayName;const sc=m.forwardRef(({className:e,...t},n)=>s.jsx("label",{ref:n,className:nn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));sc.displayName="Label";function Vb(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[o,i]=m.useState(!1),[l,a]=m.useState(null),[c,u]=m.useState(!1),[h,p]=m.useState(!1),[f,b]=m.useState({name:"",address:"",phone:"",email:"",notes:"",price:"",cleanFrequency:"weekly"}),[y,g]=m.useState({name:"",address:"",phone:"",email:"",notes:"",price:"",cleanFrequency:"weekly"}),k=j=>j.charAt(0).toUpperCase()+j.slice(1).replace("-"," ");m.useEffect(()=>{v()},[]);const v=async()=>{try{const j=await fetch(te("/api/admin/customers"),{credentials:"include"});if(j.ok){const E=await j.json();t(E.data)}else console.error("Failed to fetch customers, status:",j.status)}catch(j){console.error("Failed to fetch customers:",j)}finally{r(!1)}},d=async j=>{j.preventDefault();try{const E=await fetch(te("/api/admin/customers"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(E.ok)b({name:"",address:"",phone:"",email:"",notes:"",price:"",cleanFrequency:"weekly"}),i(!1),v();else{const I=await E.json();alert(`Failed to add customer: ${I.error}`)}}catch(E){console.error("Failed to add customer:",E),alert("Failed to add customer")}},x=j=>{a(j),g({name:j.name,address:j.address,phone:j.phone||"",email:j.email||"",notes:j.notes||"",price:j.price.toString(),cleanFrequency:j.cleanFrequency})},N=async(j,E)=>{console.log("handleArchiveCustomer called:",{customerId:j,isArchiving:E});try{const I={active:!E};console.log("Sending request body:",I);const _=await fetch(te(`/api/admin/customers/${j}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(I)});if(console.log("Response status:",_.status),console.log("Response ok:",_.ok),_.ok){const P=await _.json();console.log("Archive successful:",P),a(null),v()}else{const P=await _.json();console.error("Archive failed:",P),alert(`Failed to ${E?"archive":"restore"} customer: ${P.error}`)}}catch(I){console.error("Failed to archive customer:",I),alert("Failed to archive customer")}},w=async j=>{if(j.preventDefault(),!!l){u(!0);try{const E=await fetch(te(`/api/admin/customers/${l.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...y,active:l.active,latitude:l.latitude,longitude:l.longitude})});if(E.ok)a(null),v();else{const I=await E.json();alert(`Failed to update customer: ${I.error}`)}}catch(E){console.error("Failed to update customer:",E),alert("Failed to update customer")}finally{u(!1)}}},L=async()=>{try{(await fetch(te("/api/admin/customers/calculate-metrics"),{method:"POST",credentials:"include"})).ok?(await v(),alert("Customer metrics updated!")):alert("Failed to calculate metrics")}catch{alert("Error calculating metrics")}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsx(sr,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Management"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"View and manage customers, their addresses, and cleaning schedules."})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>p(!h),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Show Active"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Show Archived"]})}),s.jsxs("button",{onClick:L,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Calculate Metrics"]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Customer"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(j=>h?!j.active:j.active).map(j=>s.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${j.active?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:j.name}),s.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(j.address)})]}),j.phone&&s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("p",{className:"text-sm text-gray-500",children:su(j.phone)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Efficiency: ",j.targetTimeMinutes?s.jsxs("span",{className:j.targetTimeMinutes>=100?"text-green-600":j.targetTimeMinutes>=80?"text-yellow-600":"text-red-600",children:[j.targetTimeMinutes,"%"]}):s.jsx("span",{className:"text-gray-400",children:"Not set"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Wage Ratio: ",j.averageWageRatio?s.jsxs("span",{className:j.averageWageRatio<=55?"text-green-600":j.averageWageRatio<=60?"text-yellow-600":j.averageWageRatio<=65?"text-orange-600":"text-red-600",children:[j.averageWageRatio,"%"]}):s.jsx("span",{className:"text-gray-400",children:"Not set"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:k(j.cleanFrequency)}),!j.active&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Archived"})]})]}),s.jsx("button",{onClick:()=>x(j),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Customer",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),s.jsx("div",{className:"space-y-2",children:j.email&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),j.email]})})]},j.id))}),o&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[s.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 z-10",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-6",children:s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Add New Customer"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"name",children:"Customer Name *"}),s.jsx("input",{id:"name",type:"text",required:!0,value:f.name,onChange:j=>b({...f,name:j.target.value}),placeholder:"Enter customer name",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"address",children:"Address *"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"flex-1",children:s.jsx(zd,{value:f.address,onChange:j=>b({...f,address:j}),required:!0,placeholder:"Start typing address for suggestions...",className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})})}),f.address&&s.jsx("div",{className:"mt-2",children:s.jsx(Bd,{address:f.address,className:"w-full h-48"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"phone",children:"Phone"}),s.jsx("input",{id:"phone",type:"tel",value:f.phone,onChange:j=>b({...f,phone:j.target.value}),placeholder:"0000 000 000",maxLength:12,className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"price",children:"Price"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),s.jsx("input",{id:"price",type:"number",required:!0,value:f.price,onChange:j=>b({...f,price:j.target.value}),className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full pl-8"})]})]})]}),s.jsxs("div",{children:[s.jsx(sc,{htmlFor:"frequency",children:"Cleaning Frequency"}),s.jsxs(yf,{value:f.cleanFrequency,onValueChange:j=>b(E=>({...E,cleanFrequency:j})),children:[s.jsx(nc,{children:s.jsx(wf,{})}),s.jsxs(rc,{children:[s.jsx(ht,{value:"weekly",children:"Weekly"}),s.jsx(ht,{value:"fortnightly",children:"Fortnightly"}),s.jsx(ht,{value:"tri-weekly",children:"Tri-weekly"}),s.jsx(ht,{value:"monthly",children:"Monthly"}),s.jsx(ht,{value:"one-off",children:"One-off"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"notes",children:"Notes"}),s.jsx("textarea",{id:"notes",value:f.notes,onChange:j=>b({...f,notes:j.target.value}),placeholder:"Special instructions, access codes, etc.",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsxs("button",{type:"button",onClick:()=>i(!1),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),s.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Customer"]})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[s.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 z-10",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-6",children:s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Edit Customer"})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-name",children:"Customer Name *"}),s.jsx("input",{id:"edit-name",type:"text",required:!0,value:y.name,onChange:j=>g({...y,name:j.target.value}),placeholder:"Enter customer name",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-address",children:"Address *"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"flex-1",children:s.jsx(zd,{value:y.address,onChange:j=>g({...y,address:j}),required:!0,placeholder:"Start typing address for suggestions...",className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})})}),y.address&&s.jsx("div",{className:"mt-2",children:s.jsx(Bd,{address:y.address,className:"w-full h-48"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-phone",children:"Phone"}),s.jsx("input",{id:"edit-phone",type:"tel",value:y.phone,onChange:j=>g({...y,phone:j.target.value}),placeholder:"0000 000 000",maxLength:12,className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-price",children:"Price"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),s.jsx("input",{id:"edit-price",type:"number",required:!0,value:y.price,onChange:j=>g({...y,price:j.target.value}),className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full pl-8"})]})]})]}),s.jsxs("div",{children:[s.jsx(sc,{htmlFor:"edit-frequency",children:"Cleaning Frequency"}),s.jsxs(yf,{value:y.cleanFrequency,onValueChange:j=>g(E=>({...E,cleanFrequency:j})),children:[s.jsx(nc,{children:s.jsx(wf,{})}),s.jsxs(rc,{children:[s.jsx(ht,{value:"weekly",children:"Weekly"}),s.jsx(ht,{value:"fortnightly",children:"Fortnightly"}),s.jsx(ht,{value:"tri-weekly",children:"Tri-weekly"}),s.jsx(ht,{value:"monthly",children:"Monthly"}),s.jsx(ht,{value:"one-off",children:"One-off"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-notes",children:"Notes"}),s.jsx("textarea",{id:"edit-notes",value:y.notes,onChange:j=>g({...y,notes:j.target.value}),placeholder:"Special instructions, access codes, etc.",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsxs("button",{type:"button",onClick:()=>N(l.id,l.active),className:`inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 ${l.active?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"bg-green-600 text-white hover:bg-green-700"}`,children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.active?s.jsxs(s.Fragment,{children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18M5 6v14a2 2 0 002 2h10a2 2 0 002-2V6m-3 0V4a2 2 0 00-2-2H9a2 2 0 00-2 2v2"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 11h4M10 15h4"})]}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.active?"Archive":"Restore"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>a(null),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),s.jsxs("button",{type:"submit",disabled:c,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2",children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 3v4a1 1 0 0 0 1 1h7"})]}),"Save"]})]})]})]})]})})]})})}function Qb(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[o,i]=m.useState(!0),[l,a]=m.useState(!1),[c,u]=m.useState(null),[h,p]=m.useState(!1),[f,b]=m.useState(!1),[y,g]=m.useState({name:"",color:"#3B82F6",description:""}),[k,v]=m.useState({name:"",color:"#3B82F6"}),d=[{value:"#3B82F6",name:"Blue"},{value:"#10B981",name:"Green"},{value:"#F59E0B",name:"Orange"},{value:"#EF4444",name:"Red"},{value:"#8B5CF6",name:"Purple"},{value:"#06B6D4",name:"Cyan"},{value:"#84CC16",name:"Lime"},{value:"#F97316",name:"Orange"}];m.useEffect(()=>{x(),N()},[]);const x=async()=>{try{const P=await fetch(te("/api/admin/teams"),{credentials:"include"});if(P.ok){const U=await P.json();t(U.data)}}catch(P){console.error("Failed to fetch teams:",P)}finally{i(!1)}},N=async()=>{try{const P=await fetch(te("/api/admin/staff"),{credentials:"include"});if(P.ok){const U=await P.json();r(U.data)}}catch(P){console.error("Failed to fetch staff:",P)}},w=async P=>{P.preventDefault();try{const U=await fetch(te("/api/admin/teams"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:y.name,colorHex:y.color,description:y.description})});if(U.ok)g({name:"",color:"#3B82F6",description:""}),a(!1),x();else{const M=await U.json();alert(`Failed to add team: ${M.error}`)}}catch(U){console.error("Failed to add team:",U),alert("Failed to add team")}},L=async P=>{try{const U=await fetch(te(`/api/admin/teams/${P.id}`),{credentials:"include"});if(U.ok){const A=(await U.json()).data;u(A),v({name:A.name,color:A.colorHex})}}catch(U){console.error("Failed to fetch team details:",U),u(P),v({name:P.name,color:P.colorHex})}},j=async P=>{if(P.preventDefault(),!!c){p(!0);try{const U=await fetch(te(`/api/admin/teams/${c.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:k.name,colorHex:k.color})});if(U.ok)u(null),x();else{const M=await U.json();alert(`Failed to update team: ${M.error}`)}}catch(U){console.error("Failed to update team:",U),alert("Failed to update team")}finally{p(!1)}}},E=async(P,U)=>{try{const M=await fetch(te(`/api/admin/teams/${P}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({active:!U})});if(M.ok)x();else{const A=await M.json();alert(`Failed to ${U?"archive":"restore"} team: ${A.error}`)}}catch(M){console.error("Failed to archive team:",M),alert("Failed to archive team")}},I=async(P,U)=>{try{const M=await fetch(te(`/api/admin/teams/${P}/members`),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:U})});if(M.ok){if(c){const A=await fetch(te(`/api/admin/teams/${c.id}`),{credentials:"include"});if(A.ok){const V=await A.json();u(V.data)}}x()}else{const A=await M.json();alert(A.error||"Failed to add team member")}}catch(M){console.error("Failed to add team member:",M),alert("Failed to add team member")}},_=async(P,U)=>{try{const M=await fetch(te(`/api/admin/teams/${P}/members/${U}`),{method:"DELETE",credentials:"include"});if(M.ok){if(x(),c){const A=await fetch(te(`/api/admin/teams/${P}`),{credentials:"include"});if(A.ok){const V=await A.json();u(V.data)}}}else{const A=await M.json();alert(`Failed to remove team member: ${A.error}`)}}catch(M){console.error("Failed to remove team member:",M),alert("Failed to remove team member")}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsxs(sr,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Management"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Create and manage cleaning teams, assign members, and track performance."})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("button",{onClick:()=>b(!f),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:f?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Show Active"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Show Archived"]})}),s.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Team"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(P=>f?!P.active:P.active).map(P=>s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 relative",children:[s.jsx("button",{onClick:()=>L(P),className:"absolute top-6 right-6 inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Team",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:P.colorHex},children:P.name.charAt(0)}),s.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:P.name})]}),!P.active&&s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Archived"})}),s.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:[s.jsxs("div",{className:"mb-2 flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("span",{className:"font-medium",children:"Team Members:"})]}),P.members&&P.members.length>0?s.jsx("div",{className:"space-y-1 ml-6 mb-5",children:P.members.map(U=>s.jsxs("div",{className:"text-gray-600",children:[U.firstName," ",U.lastName]},U.id))}):s.jsx("div",{className:"text-gray-400 italic ml-6 mb-5",children:"No members assigned"}),s.jsxs("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded",children:[s.jsx("div",{className:"text-gray-800 font-medium",children:"Efficiency:"}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Coming soon..."})]}),P.activeJob&&s.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[s.jsx("div",{className:"text-blue-800 font-medium",children:"Currently cleaning:"}),s.jsx("div",{className:"text-blue-700",children:P.activeJob.customerName}),s.jsx("div",{className:"text-blue-600 text-xs",children:Nt(P.activeJob.customerAddress)})]})]})]},P.id))}),e.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-gray-500",children:"No teams found. Create your first team to get started."})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[s.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Team"}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Name *"}),s.jsx("input",{type:"text",required:!0,value:y.name,onChange:P=>g({...y,name:P.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g., Cleaning Team A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Color"}),s.jsx("div",{className:"mt-2 grid grid-cols-4 gap-2",children:d.map(P=>s.jsx("button",{type:"button",onClick:()=>g({...y,color:P.value}),className:`w-full h-10 rounded-md border-2 ${y.color===P.value?"border-gray-900":"border-gray-200"}`,style:{backgroundColor:P.value},title:P.name},P.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{value:y.description,onChange:P=>g({...y,description:P.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",rows:3,placeholder:"Optional description of the team's responsibilities..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Team"})]})]})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[s.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Team"}),s.jsxs("form",{onSubmit:j,children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Name"}),s.jsx("input",{type:"text",required:!0,value:k.name,onChange:P=>v({...k,name:P.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"w-12",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"color",required:!0,value:k.color,onChange:P=>v({...k,color:P.target.value}),className:"block w-full h-[42px] rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:k.color},title:"Team Color"})]})]})}),s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Members:"}),c.members&&c.members.length>0?s.jsx("div",{className:"space-y-2",children:c.members.map(P=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[P.firstName.charAt(0),P.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.firstName," ",P.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:P.role})]})]}),s.jsx("button",{type:"button",onClick:()=>_(c.id,P.id),className:"text-red-600 hover:text-red-800 hover:bg-red-50 p-1 rounded transition-colors",title:"Remove member",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},P.id))}):s.jsx("div",{className:"text-sm text-gray-500 italic p-3 bg-gray-50 rounded-lg border border-gray-200",children:"No members assigned"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Member:"}),s.jsxs("select",{onChange:P=>{const U=n.find(M=>M.id===parseInt(P.target.value));U&&I(c.id,U.id)},className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Select staff member..."}),n.filter(P=>P.active?!e.some(M=>M.members&&M.members.some(A=>A.id===P.id)):!1).map(P=>s.jsxs("option",{value:P.id,children:[P.firstName," ",P.lastName]},P.id))]})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsx("button",{type:"button",onClick:()=>E(c.id,c.active),className:`inline-flex items-center h-[42px] px-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${c.active?"border-red-300 text-red-700 bg-red-50 hover:bg-red-100 focus:ring-red-500":"border-green-300 text-green-700 bg-green-50 hover:bg-green-100 focus:ring-green-500"}`,title:c.active?"Archive Team":"Restore Team",children:c.active?s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>u(null),className:"inline-flex items-center h-[42px] px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Cancel",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("button",{type:"submit",disabled:h,className:"inline-flex items-center h-[42px] px-4 border border-transparent rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Save Changes",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]})]})]})]})})]})}function bf(e){if(!e)return"";const[t,n]=e.split(":").map(Number);if(isNaN(t)||isNaN(n))return e;const r=new Date;return r.setHours(t,n,0,0),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Kb(){var U,M,A,V;const[e,t]=m.useState(null),[n,r]=m.useState(!0),[o,i]=m.useState(null),[l,a]=m.useState("week"),[c,u]=m.useState("thisWeek"),[h,p]=m.useState("timesheets"),[f,b]=m.useState(new Set),[y,g]=m.useState(new Map),[k,v]=m.useState(new Set),[d,x]=m.useState(null);m.useEffect(()=>{L(),N()},[l,c]),m.useEffect(()=>{const C=()=>{h==="timesheets"&&w()};return window.addEventListener("settingsUpdated",C),()=>{window.removeEventListener("settingsUpdated",C)}},[h]);const N=async()=>{try{const C=await fetch(te("/api/admin/settings/lunch-break"),{credentials:"include"}),O=await C.json();C.ok&&x(O.data)}catch{}},w=async()=>{try{const C=await fetch(te(`/api/admin/reports/timesheets?weekFilter=${c}`),{credentials:"include"}),O=await C.json();C.ok?t(S=>S?{...S,timesheets:O.data}:{timesheets:O.data}):i(O.error||"Failed to fetch timesheet data")}catch{i("Failed to fetch timesheet data")}},L=async()=>{try{r(!0),h==="timesheets"?await w():t({timesheets:{weekly:[],stats:{totalHours:0,totalJobs:0}},customerAnalytics:{averageTimePerJob:2.5,totalJobs:142,totalRevenue:35500,topCustomers:[{name:"ABC Corp",jobs:25,revenue:6250,avgTime:2.2},{name:"XYZ Ltd",jobs:18,revenue:4500,avgTime:2.8},{name:"123 Industries",jobs:15,revenue:3750,avgTime:2.1}]},staffPerformance:{efficiency:87,overtimeHours:28,topPerformers:[{name:"Mike Wilson",efficiency:92,jobsCompleted:72,avgTime:2.1},{name:"John Smith",efficiency:88,jobsCompleted:62,avgTime:2.3},{name:"Sarah Johnson",efficiency:85,jobsCompleted:48,avgTime:2.4}]},financial:{revenue:35500,costs:28400,profit:7100,monthlyTrend:[{month:"Jan",revenue:32e3,costs:25600,profit:6400},{month:"Feb",revenue:33500,costs:26800,profit:6700},{month:"Mar",revenue:35500,costs:28400,profit:7100}]}})}catch{}finally{r(!1)}},j=C=>{const O=new Set(f);O.has(C)?O.delete(C):O.add(C),b(O)},E=(C,O)=>{const S=C[O],T=`${C.staffName}-${O}`,z=y.has(T),Q=y.get(T),X=z?Q:S.lunchBreak;let F=S.hours;return z&&(S.lunchBreak&&!X?F+=.5:!S.lunchBreak&&X&&(F-=.5)),F=Math.round(F*100)/100,{hours:F,jobs:S.jobs,lunchBreak:X,startTime:S.startTime||"-",endTime:S.endTime||"-",lunchBreakDebug:S.lunchBreakDebug}},I=C=>{let O=0;return["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(T=>{const z=E(C,T);O+=z.hours}),Math.round(O*100)/100},_=async(C,O,S)=>{const T=`${C}-${O}`;v(z=>new Set(z).add(T));try{const z=new Date,Q=z.getDay(),H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(O)-Q,K=new Date(z);if(K.setDate(z.getDate()+H),(await fetch("/api/admin/timesheets/lunch-break",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({staffName:C,date:K.toISOString().split("T")[0],hasLunchBreak:S})})).ok){const B=`${C}-${O}`;g(ee=>{const ne=new Map(ee);return ne.set(B,S),ne})}else g(B=>{const ee=new Map(B);return ee.delete(`${C}-${O}`),ee}),alert("Failed to update lunch break override. Please try again.")}catch{}finally{v(z=>{const Q=new Set(z);return Q.delete(T),Q})}},P=[{id:"timesheets",name:"Timesheets",icon:"📋"},{id:"customers",name:"Customer Analytics",icon:"👥"},{id:"staff",name:"Staff Performance",icon:"👨‍💼"},{id:"financial",name:"Financial",icon:"💰"}];return n?s.jsx(sr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading reports..."})})}):s.jsx(sr,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Comprehensive insights into your cleaning operations."})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[h==="timesheets"&&s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"weekFilter",className:"text-sm font-medium text-gray-700",children:"Week:"}),s.jsxs("select",{id:"weekFilter",value:c,onChange:C=>u(C.target.value),className:"block w-32 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"thisWeek",children:"This Week"}),s.jsx("option",{value:"lastWeek",children:"Last Week"})]})]}),s.jsx("label",{htmlFor:"dateRange",className:"text-sm font-medium text-gray-700",children:"Date Range:"}),s.jsxs("select",{id:"dateRange",value:l,onChange:C=>a(C.target.value),className:"block w-32 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"quarter",children:"This Quarter"})]})]})]})}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:P.map(C=>s.jsxs("button",{onClick:()=>p(C.id),className:`
                  py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2
                  ${h===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[s.jsx("span",{children:C.icon}),s.jsx("span",{children:C.name})]},C.id))})}),s.jsxs("div",{className:"space-y-6",children:[h==="timesheets"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[(e==null?void 0:e.timesheets.stats.totalHours)||0,"h"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Hours This Week"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:(e==null?void 0:e.timesheets.stats.totalJobs)||0}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Jobs"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Weekly Timesheet"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Member"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tuesday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wednesday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thursday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Friday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.timesheets.weekly.map((C,O)=>{const S=f.has(C.staffName);return s.jsxs(it.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>j(C.staffName),className:"text-gray-400 hover:text-gray-600 transition-transform duration-200",style:{transform:S?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),s.jsx("span",{children:C.staffName})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=E(C,"monday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,K,J,B,ee,ne,R,W;if(!d)return null;const z=((K=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:K.passed)===!1,Q=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(R=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:R[1])==null?void 0:W.passed)===!1;return z||Q||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=E(C,"tuesday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,K,J,B,ee,ne,R,W;if(!d)return null;const z=((K=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:K.passed)===!1,Q=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(R=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:R[1])==null?void 0:W.passed)===!1;return z||Q||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=E(C,"wednesday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,K,J,B,ee,ne,R,W;if(!d)return null;const z=((K=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:K.passed)===!1,Q=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(R=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:R[1])==null?void 0:W.passed)===!1;return z||Q||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=E(C,"thursday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,K,J,B,ee,ne,R,W;if(!d)return null;const z=((K=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:K.passed)===!1,Q=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(R=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:R[1])==null?void 0:W.passed)===!1;return z||Q||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=E(C,"friday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,K,J,B,ee,ne,R,W;if(!d)return null;const z=((K=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:K.passed)===!1,Q=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(R=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:R[1])==null?void 0:W.passed)===!1;return z||Q||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:[I(C),"h"]})]}),S&&s.jsxs(it.Fragment,{children:[s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"Lunch Break"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var H;const z=E(C,T),Q=`${C.staffName}-${T}`,X=k.has(Q),F=(H=z.lunchBreakDebug)==null?void 0:H.hasOverride;return s.jsx("td",{className:"px-6 py-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:z.lunchBreak,onChange:K=>{_(C.staffName,T,K.target.checked)},disabled:X,className:`rounded border-gray-300 text-orange-600 focus:ring-orange-500 ${X?"opacity-50 cursor-not-allowed":""}`},`${C.staffName}-${T}-${z.lunchBreak}`),X&&s.jsx("div",{className:"ml-2 w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"})]}),F&&s.jsxs("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("title",{children:"Manual override applied"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]})]})},`${T}-lunch`)}),s.jsx("td",{className:"px-6 py-3"})]},`${C.staffName}-lunch`),s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"Start"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var F,H,K,J,B;const z=E(C,T),Q=((K=(H=(F=z.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:K.passed)===!1,X=(B=(J=z.lunchBreakDebug)==null?void 0:J.rules)==null?void 0:B.startTime;return s.jsxs("td",{className:`px-6 py-3 text-sm text-center ${Q?"text-red-600":"text-gray-600"}`,children:[z.startTime,Q&&X?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["(>= ",bf(X),")"]})]}):""]},`${T}-start`)}),s.jsx("td",{className:"px-6 py-3"})]},`${C.staffName}-start`),s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"End"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var F,H,K,J,B;const z=E(C,T),Q=((K=(H=(F=z.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[3])==null?void 0:K.passed)===!1,X=(B=(J=z.lunchBreakDebug)==null?void 0:J.rules)==null?void 0:B.finishTime;return s.jsxs("td",{className:`px-6 py-3 text-sm text-center ${Q?"text-red-600":"text-gray-600"}`,children:[z.endTime,Q&&X?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["(>= ",bf(X),")"]})]}):""]},`${T}-end`)}),s.jsx("td",{className:"px-6 py-3"})]},`${C.staffName}-end`),s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"Cleans"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var F,H,K,J,B;const z=E(C,T),Q=((K=(H=(F=z.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[1])==null?void 0:K.passed)===!1,X=(B=(J=z.lunchBreakDebug)==null?void 0:J.rules)==null?void 0:B.minJobs;return s.jsxs("td",{className:`px-6 py-3 text-sm text-center ${Q?"text-red-600":"text-gray-600"}`,children:[z.jobs,Q&&X?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["(>= ",X,")"]})]}):""]},`${T}-jobs`)}),s.jsx("td",{className:"px-6 py-3"})]},`${O}-cleans`)]})]},C.staffName)})})]})})]})]}),h==="customers"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Average Time"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[e==null?void 0:e.customerAnalytics.averageTimePerJob,"h"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"per job"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Jobs"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:e==null?void 0:e.customerAnalytics.totalJobs}),s.jsx("p",{className:"text-sm text-gray-500",children:"completed"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["$",(U=e==null?void 0:e.customerAnalytics.totalRevenue)==null?void 0:U.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["$",e!=null&&e.customerAnalytics.totalRevenue&&(e!=null&&e.customerAnalytics.totalJobs)?Math.round(e.customerAnalytics.totalRevenue/e.customerAnalytics.totalJobs):0]}),s.jsx("p",{className:"text-sm text-gray-500",children:"per job"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Customers"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jobs"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.customerAnalytics.topCustomers.map((C,O)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.jobs}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.revenue.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.avgTime,"h"]})]},O))})]})})]})]}),h==="staff"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Overall Efficiency"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[e==null?void 0:e.staffPerformance.efficiency,"%"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"team average"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Overtime Hours"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[e==null?void 0:e.staffPerformance.overtimeHours,"h"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Staff"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e==null?void 0:e.staffPerformance.topPerformers.length}),s.jsx("p",{className:"text-sm text-gray-500",children:"team members"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Efficiency"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jobs Completed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.staffPerformance.topPerformers.map((C,O)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.efficiency,"%"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.jobsCompleted}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.avgTime,"h"]})]},O))})]})})]})]}),h==="financial"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",(M=e==null?void 0:e.financial.revenue)==null?void 0:M.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Costs"}),s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["$",(A=e==null?void 0:e.financial.costs)==null?void 0:A.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Profit"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["$",(V=e==null?void 0:e.financial.profit)==null?void 0:V.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Trend"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Costs"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.financial.monthlyTrend.map((C,O)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.month}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.revenue.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.costs.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.profit.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[Math.round(C.profit/C.revenue*100),"%"]})]},O))})]})})]})]})]})]})})}function Gb(){const[e,t]=m.useState({minHours:5,durationMinutes:30,startTime:"09:00",finishTime:"17:00"}),[n,r]=m.useState({radiusMeters:5e4}),[o,i]=m.useState([]),[l,a]=m.useState({priceMin:"",priceMax:"",allottedMinutes:""}),[c,u]=m.useState(null),[h,p]=m.useState({staffStartTime:"08:00",payRatePerHour:25}),[f,b]=m.useState("lunch-break"),[y,g]=m.useState(!0),[k,v]=m.useState(!1),[d,x]=m.useState(!1),[N,w]=m.useState(null);m.useEffect(()=>{L()},[]);const L=async()=>{g(!0),w(null);try{const O=await(await fetch(te("/api/admin/settings/lunch-break"),{credentials:"include"})).json();O.success&&t(O.data);const T=await(await fetch(te("/api/admin/settings/price-tiers"),{credentials:"include"})).json();T.success&&i(T.data);const Q=await(await fetch(te("/api/admin/settings/geolocation-radius"),{credentials:"include"})).json();Q.success&&r(Q.data)}catch{w("Failed to load settings")}finally{g(!1)}},j=async C=>{C.preventDefault(),v(!0),w(null),x(!1);try{const O=await fetch(te("/api/admin/settings/lunch-break"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),S=await O.json();O.ok&&S.success?(x(!0),setTimeout(()=>x(!1),3e3),window.dispatchEvent(new CustomEvent("settingsUpdated"))):w(S.error||"Failed to save lunch break settings")}catch{w("Failed to save lunch break settings")}finally{v(!1)}},E=async C=>{C.preventDefault(),v(!0),w(null),x(!1);try{const O=await fetch(te("/api/admin/settings/geolocation-radius"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}),S=await O.json();O.ok&&S.success?(x(!0),setTimeout(()=>x(!1),3e3)):w(S.error||"Failed to save geolocation radius settings")}catch{w("Failed to save geolocation radius settings")}finally{v(!1)}},I=async C=>{if(C.preventDefault(),!l.priceMin||!l.priceMax||!l.allottedMinutes){w("All fields are required");return}v(!0),w(null);try{const O=await fetch(te("/api/admin/settings/price-tiers"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priceMin:Number(l.priceMin),priceMax:Number(l.priceMax),allottedMinutes:Number(l.allottedMinutes)})}),S=await O.json();O.ok&&S.success?(i([...o,S.data]),a({priceMin:"",priceMax:"",allottedMinutes:""}),x(!0),setTimeout(()=>x(!1),3e3)):w(S.error||"Failed to add price tier")}catch{w("Failed to add price tier")}finally{v(!1)}},_=async C=>{if(confirm("Are you sure you want to delete this price tier?")){v(!0),w(null);try{const O=await fetch(te(`/api/admin/settings/price-tiers/${C}`),{method:"DELETE",credentials:"include"}),S=await O.json();O.ok&&S.success?(i(o.filter(T=>T.id!==C)),x(!0),setTimeout(()=>x(!1),3e3)):w(S.error||"Failed to delete price tier")}catch{w("Failed to delete price tier")}finally{v(!1)}}},P=C=>{u({id:C.id,priceMin:String(C.priceMin),priceMax:String(C.priceMax),allottedMinutes:String(C.allottedMinutes)})},U=async C=>{if(C.preventDefault(),!!c){v(!0),w(null);try{const O=await fetch(te(`/api/admin/settings/price-tiers/${c.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priceMin:Number(c.priceMin),priceMax:Number(c.priceMax),allottedMinutes:Number(c.allottedMinutes)})}),S=await O.json();O.ok&&S.success?(i(o.map(T=>T.id===c.id?S.data:T)),u(null),x(!0),setTimeout(()=>x(!1),3e3)):w(S.error||"Failed to update price tier")}catch{w("Failed to update price tier")}finally{v(!1)}}},M=()=>{u(null)},A=C=>{C.preventDefault(),x(!0),setTimeout(()=>x(!1),2e3)},V=[{id:"lunch-break",name:"Lunch Break Settings",icon:"🍽️"},{id:"geolocation-radius",name:"Geolocation Radius",icon:"📍"},{id:"price-tiers",name:"Customer Price Tiers",icon:"📊"},{id:"timesheet-settings",name:"Timesheet Settings",icon:"🕒"}];return s.jsx(sr,{children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),s.jsx("p",{className:"mb-6 text-gray-600",children:"Configure system settings and business rules."}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:V.map(C=>s.jsxs("button",{onClick:()=>b(C.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:C.icon}),C.name]},C.id))})}),y&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading settings..."})]}),!y&&s.jsxs(s.Fragment,{children:[d&&s.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:s.jsx("p",{className:"text-green-800 text-sm",children:"Settings saved successfully!"})}),N&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-red-800 text-sm",children:N})}),f==="lunch-break"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Lunch Break Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure lunch break deduction rules for staff timesheets."}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum hours worked for lunch break"}),s.jsx("input",{type:"number",min:1,max:12,value:e.minHours,onChange:C=>t({...e,minHours:Number(C.target.value)}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff must work at least this many hours to receive a lunch break deduction."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lunch break duration (minutes)"}),s.jsx("input",{type:"number",min:10,max:120,step:5,value:e.durationMinutes,onChange:C=>t({...e,durationMinutes:Number(C.target.value)}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"How many minutes to deduct for lunch break."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start time for lunch break eligibility"}),s.jsx("input",{type:"time",value:e.startTime,onChange:C=>t({...e,startTime:C.target.value}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff must start work before this time to be eligible for lunch break."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Finish time for lunch break eligibility"}),s.jsx("input",{type:"time",value:e.finishTime,onChange:C=>t({...e,finishTime:C.target.value}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff must finish work after this time to be eligible for lunch break."})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("button",{type:"submit",disabled:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:k?"Saving...":"Save Lunch Break Settings"})})]})]}),f==="geolocation-radius"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Geolocation Radius Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure the maximum distance for staff to see nearby customers on their dashboard."}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Search Radius"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"number",min:1,max:1e6,step:1,value:n.radiusMeters,onChange:C=>r({...n,radiusMeters:Number(C.target.value)}),className:"block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-sm text-gray-500",children:"meters"}),s.jsxs("span",{className:"text-sm text-gray-400",children:["(",(n.radiusMeters/1e3).toFixed(1)," km)"]})]}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff will only see customers within this distance from their current location."})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"How it works"}),s.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[s.jsx("p",{children:"• Staff must enable location access on their device"}),s.jsx("p",{children:"• Only customers within the specified radius will appear"}),s.jsx("p",{children:"• This helps staff focus on nearby jobs and reduces travel time"}),s.jsx("p",{children:"• Recommended: 10-50km depending on your service area"})]})]})]})}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("button",{type:"submit",disabled:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:k?"Saving...":"Save Radius Settings"})})]})]}),f==="price-tiers"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Customer Price Tiers"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Define time allocation tiers based on customer pricing to help with job planning and efficiency calculations."}),s.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Price Tier"}),s.jsxs("form",{onSubmit:I,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Min ($)"}),s.jsx("input",{type:"number",min:0,step:.01,value:l.priceMin,onChange:C=>a({...l,priceMin:C.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Max ($)"}),s.jsx("input",{type:"number",min:0,step:.01,value:l.priceMax,onChange:C=>a({...l,priceMax:C.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allotted Minutes"}),s.jsx("input",{type:"number",min:1,value:l.allottedMinutes,onChange:C=>a({...l,allottedMinutes:C.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"60",required:!0})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"submit",disabled:k,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:k?"Adding...":"Add Tier"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Price Tiers"}),o.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No price tiers configured yet."}),s.jsx("p",{className:"text-sm",children:"Add your first price tier above to get started."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price Range"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allotted Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(C=>s.jsx("tr",{children:(c==null?void 0:c.id)===C.id?s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"number",min:0,step:.01,value:c.priceMin,onChange:O=>u({...c,priceMin:O.target.value}),className:"block w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Min"}),s.jsx("input",{type:"number",min:0,step:.01,value:c.priceMax,onChange:O=>u({...c,priceMax:O.target.value}),className:"block w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Max"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsx("input",{type:"number",min:1,value:c.allottedMinutes,onChange:O=>u({...c,allottedMinutes:O.target.value}),className:"block w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Minutes"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:U,disabled:k,className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Save changes",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("button",{onClick:M,disabled:k,className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Cancel edit",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Number(C.priceMin).toFixed(2)," - $",Number(C.priceMax).toFixed(2)]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Math.floor(C.allottedMinutes/60),"h ",C.allottedMinutes%60,"m"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(C),disabled:k,className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Edit tier",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>_(C.id),disabled:k,className:"inline-flex items-center p-2 border border-red-300 rounded text-sm text-red-700 bg-red-50 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",title:"Delete tier",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})},C.id))})]})})]})]}),f==="timesheet-settings"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Timesheet Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure staff start time and pay rate for timesheets. These values will be used for future timesheet features."}),s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Start Time"}),s.jsx("input",{type:"time",value:h.staffStartTime,onChange:C=>p({...h,staffStartTime:C.target.value}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"This time will be used as the default staff start time for timesheets."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Pay Rate (per hour)"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",min:0,step:.01,value:h.payRatePerHour,onChange:C=>p({...h,payRatePerHour:Number(C.target.value)}),className:"block w-32 border border-gray-300 rounded-md pl-7 pr-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"This rate is used for calculating labor costs and efficiency metrics."})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Timesheet Settings"})})]})]})]})]})})}function zn({children:e,requiredRole:t}){const{user:n,loading:r}=uo();return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):n?t&&n.role!==t&&n.role!=="admin"?s.jsx(Ai,{to:n.role==="staff"?"/staff/dashboard":"/admin"}):s.jsx(s.Fragment,{children:e}):s.jsx(Ai,{to:"/login"})}function Ai({to:e}){const[,t]=Zi();return it.useEffect(()=>{t(e)},[e,t]),null}function qb(){const{user:e}=uo();return rs(),s.jsxs(xy,{children:[s.jsx($t,{path:"/login",component:yy}),s.jsx($t,{path:"/staff/dashboard",children:s.jsx(zn,{requiredRole:"staff",children:s.jsx(Ey,{})})}),s.jsx($t,{path:"/admin",children:s.jsx(zn,{requiredRole:"admin",children:s.jsx(Ty,{})})}),s.jsx($t,{path:"/admin/staff",children:s.jsx(zn,{requiredRole:"admin",children:s.jsx(Ry,{})})}),s.jsx($t,{path:"/admin/customers",children:s.jsx(zn,{requiredRole:"admin",children:s.jsx(Vb,{})})}),s.jsx($t,{path:"/admin/teams",children:s.jsx(zn,{requiredRole:"admin",children:s.jsx(Qb,{})})}),s.jsx($t,{path:"/admin/reports",children:s.jsx(zn,{requiredRole:"admin",children:s.jsx(Kb,{})})}),s.jsx($t,{path:"/admin/settings",children:s.jsx(zn,{requiredRole:"admin",children:s.jsx(Gb,{})})}),s.jsx($t,{path:"/",children:e?s.jsx(Ai,{to:e.role==="admin"||e.role==="manager"?"/admin":"/staff/dashboard"}):s.jsx(Ai,{to:"/login"})})]})}const Yb=new zv;Gl.createRoot(document.getElementById("root")).render(s.jsx(it.StrictMode,{children:s.jsx($v,{client:Yb,children:s.jsx(ip,{children:s.jsx(qb,{})})})}));
