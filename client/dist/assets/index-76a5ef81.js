var il=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var D=(e,t,n)=>(il(e,t,"read from private field"),n?n.call(e):t.get(e)),le=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},re=(e,t,n,r)=>(il(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var ho=(e,t,n,r)=>({set _(o){re(e,t,o,n)},get _(){return D(e,t,r)}}),Re=(e,t,n)=>(il(e,t,"access private method"),n);function W0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lf={exports:{}},Ai={},Tf={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=Symbol.for("react.element"),H0=Symbol.for("react.portal"),U0=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),G0=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),Y0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),J0=Symbol.for("react.lazy"),xu=Symbol.iterator;function Z0(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var Pf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rf=Object.assign,Af={};function Jr(e,t,n){this.props=e,this.context=t,this.refs=Af,this.updater=n||Pf}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Of(){}Of.prototype=Jr.prototype;function rc(e,t,n){this.props=e,this.context=t,this.refs=Af,this.updater=n||Pf}var sc=rc.prototype=new Of;sc.constructor=rc;Rf(sc,Jr.prototype);sc.isPureReactComponent=!0;var vu=Array.isArray,Ff=Object.prototype.hasOwnProperty,oc={current:null},Df={key:!0,ref:!0,__self:!0,__source:!0};function If(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ff.call(t,r)&&!Df.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ro,type:e,key:i,ref:l,props:o,_owner:oc.current}}function eg(e,t){return{$$typeof:ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ic(e){return typeof e=="object"&&e!==null&&e.$$typeof===ro}function tg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yu=/\/+/g;function ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tg(""+e.key):t.toString(36)}function Bo(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ro:case H0:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+ll(l,0):r,vu(o)?(n="",e!=null&&(n=e.replace(yu,"$&/")+"/"),Bo(o,t,n,"",function(u){return u})):o!=null&&(ic(o)&&(o=eg(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(yu,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",vu(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ll(i,a);l+=Bo(i,t,n,c,o)}else if(c=Z0(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ll(i,a++),l+=Bo(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function po(e,t,n){if(e==null)return e;var r=[],o=0;return Bo(e,r,"","",function(i){return t.call(n,i,o++)}),r}function ng(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},$o={transition:null},rg={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:$o,ReactCurrentOwner:oc};function _f(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:po,forEach:function(e,t,n){po(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return po(e,function(){t++}),t},toArray:function(e){return po(e,function(t){return t})||[]},only:function(e){if(!ic(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Jr;oe.Fragment=U0;oe.Profiler=G0;oe.PureComponent=rc;oe.StrictMode=V0;oe.Suspense=Y0;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rg;oe.act=_f;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rf({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=oc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ff.call(t,c)&&!Df.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ro,type:e.type,key:o,ref:i,props:r,_owner:l}};oe.createContext=function(e){return e={$$typeof:K0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q0,_context:e},e.Consumer=e};oe.createElement=If;oe.createFactory=function(e){var t=If.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:q0,render:e}};oe.isValidElement=ic;oe.lazy=function(e){return{$$typeof:J0,_payload:{_status:-1,_result:e},_init:ng}};oe.memo=function(e,t){return{$$typeof:X0,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=$o.transition;$o.transition={};try{e()}finally{$o.transition=t}};oe.unstable_act=_f;oe.useCallback=function(e,t){return We.current.useCallback(e,t)};oe.useContext=function(e){return We.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return We.current.useDeferredValue(e)};oe.useEffect=function(e,t){return We.current.useEffect(e,t)};oe.useId=function(){return We.current.useId()};oe.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return We.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};oe.useRef=function(e){return We.current.useRef(e)};oe.useState=function(e){return We.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return We.current.useTransition()};oe.version="18.3.1";Tf.exports=oe;var m=Tf.exports;const it=Mf(m),lc=W0({__proto__:null,default:it},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=m,og=Symbol.for("react.element"),ig=Symbol.for("react.fragment"),lg=Object.prototype.hasOwnProperty,ag=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cg={key:!0,ref:!0,__self:!0,__source:!0};function zf(e,t,n){var r,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)lg.call(t,r)&&!cg.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:og,type:e,key:i,ref:l,props:o,_owner:ag.current}}Ai.Fragment=ig;Ai.jsx=zf;Ai.jsxs=zf;Lf.exports=Ai;var s=Lf.exports,Gl={},Bf={exports:{}},nt={},$f={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,T){var _=S.length;S.push(T);e:for(;0<_;){var G=_-1>>>1,X=S[G];if(0<o(X,T))S[G]=T,S[_]=X,_=G;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var T=S[0],_=S.pop();if(_!==T){S[0]=_;e:for(var G=0,X=S.length,F=X>>>1;G<F;){var H=2*(G+1)-1,Q=S[H],J=H+1,B=S[J];if(0>o(Q,_))J<X&&0>o(B,Q)?(S[G]=B,S[J]=_,G=J):(S[G]=Q,S[H]=_,G=H);else if(J<X&&0>o(B,_))S[G]=B,S[J]=_,G=J;else break e}}return T}function o(S,T){var _=S.sortIndex-T.sortIndex;return _!==0?_:S.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var c=[],u=[],h=1,g=null,f=3,b=!1,w=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(S){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=S)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function N(S){if(x=!1,p(S),!w)if(n(c)!==null)w=!0,C(y);else{var T=n(u);T!==null&&O(N,T.startTime-S)}}function y(S,T){w=!1,x&&(x=!1,v(M),M=-1),b=!0;var _=f;try{for(p(T),g=n(c);g!==null&&(!(g.expirationTime>T)||S&&!R());){var G=g.callback;if(typeof G=="function"){g.callback=null,f=g.priorityLevel;var X=G(g.expirationTime<=T);T=e.unstable_now(),typeof X=="function"?g.callback=X:g===n(c)&&r(c),p(T)}else r(c);g=n(c)}if(g!==null)var F=!0;else{var H=n(u);H!==null&&O(N,H.startTime-T),F=!1}return F}finally{g=null,f=_,b=!1}}var E=!1,j=null,M=-1,I=5,z=-1;function R(){return!(e.unstable_now()-z<I)}function U(){if(j!==null){var S=e.unstable_now();z=S;var T=!0;try{T=j(!0,S)}finally{T?L():(E=!1,j=null)}}else E=!1}var L;if(typeof d=="function")L=function(){d(U)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,V=A.port2;A.port1.onmessage=U,L=function(){V.postMessage(null)}}else L=function(){k(U,0)};function C(S){j=S,E||(E=!0,L())}function O(S,T){M=k(function(){S(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){w||b||(w=!0,C(y))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var _=f;f=T;try{return S()}finally{f=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var _=f;f=S;try{return T()}finally{f=_}},e.unstable_scheduleCallback=function(S,T,_){var G=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?G+_:G):_=G,S){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=_+X,S={id:h++,callback:T,priorityLevel:S,startTime:_,expirationTime:X,sortIndex:-1},_>G?(S.sortIndex=_,t(u,S),n(c)===null&&S===n(u)&&(x?(v(M),M=-1):x=!0,O(N,_-G))):(S.sortIndex=X,t(c,S),w||b||(w=!0,C(y))),S},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(S){var T=f;return function(){var _=f;f=T;try{return S.apply(this,arguments)}finally{f=_}}}})(Wf);$f.exports=Wf;var ug=$f.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg=m,tt=ug;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hf=new Set,Os={};function ar(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(Os[e]=t,e=0;e<t.length;e++)Hf.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,fg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wu={},bu={};function mg(e){return Ql.call(bu,e)?!0:Ql.call(wu,e)?!1:fg.test(e)?bu[e]=!0:(wu[e]=!0,!1)}function hg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pg(e,t,n,r){if(t===null||typeof t>"u"||hg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ac,cc);Te[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ac,cc);Te[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ac,cc);Te[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function uc(e,t,n,r){var o=Te.hasOwnProperty(t)?Te[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pg(t,n,o,r)&&(n=null),r||o===null?mg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rn=dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),pr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),dc=Symbol.for("react.strict_mode"),Kl=Symbol.for("react.profiler"),Uf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),fc=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),mc=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Gf=Symbol.for("react.offscreen"),ju=Symbol.iterator;function us(e){return e===null||typeof e!="object"?null:(e=ju&&e[ju]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,al;function ws(e){if(al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);al=t&&t[1]||""}return`
`+al+e}var cl=!1;function ul(e,t){if(!e||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,a=i.length-1;1<=l&&0<=a&&o[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(o[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||o[l]!==i[a]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=a);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ws(e):""}function gg(e){switch(e.tag){case 5:return ws(e.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function Xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gr:return"Fragment";case pr:return"Portal";case Kl:return"Profiler";case dc:return"StrictMode";case ql:return"Suspense";case Yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vf:return(e.displayName||"Context")+".Consumer";case Uf:return(e._context.displayName||"Context")+".Provider";case fc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mc:return t=e.displayName||null,t!==null?t:Xl(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return Xl(e(t))}catch{}}return null}function xg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xl(t);case 8:return t===dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vg(e){var t=Qf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xo(e){e._valueTracker||(e._valueTracker=vg(e))}function Kf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jl(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ku(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qf(e,t){t=t.checked,t!=null&&uc(e,"checked",t,!1)}function Zl(e,t){qf(e,t);var n=Mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ea(e,t.type,n):t.hasOwnProperty("defaultValue")&&ea(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ea(e,t,n){(t!=="number"||ti(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var bs=Array.isArray;function Er(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ta(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Su(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(bs(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mn(n)}}function Yf(e,t){var n=Mn(t.value),r=Mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vo,Jf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yg=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(e){yg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ss[t]=Ss[e]})});function Zf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ss.hasOwnProperty(e)&&Ss[e]?(""+t).trim():t+"px"}function em(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Zf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var wg=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(e,t){if(t){if(wg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=null;function hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,Mr=null,Lr=null;function Eu(e){if(e=io(e)){if(typeof ia!="function")throw Error($(280));var t=e.stateNode;t&&(t=_i(t),ia(e.stateNode,e.type,t))}}function tm(e){Mr?Lr?Lr.push(e):Lr=[e]:Mr=e}function nm(){if(Mr){var e=Mr,t=Lr;if(Lr=Mr=null,Eu(e),t)for(e=0;e<t.length;e++)Eu(t[e])}}function rm(e,t){return e(t)}function sm(){}var dl=!1;function om(e,t,n){if(dl)return e(t,n);dl=!0;try{return rm(e,t,n)}finally{dl=!1,(Mr!==null||Lr!==null)&&(sm(),nm())}}function Ds(e,t){var n=e.stateNode;if(n===null)return null;var r=_i(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var la=!1;if(Yt)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){la=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{la=!1}function bg(e,t,n,r,o,i,l,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Cs=!1,ni=null,ri=!1,aa=null,jg={onError:function(e){Cs=!0,ni=e}};function kg(e,t,n,r,o,i,l,a,c){Cs=!1,ni=null,bg.apply(jg,arguments)}function Ng(e,t,n,r,o,i,l,a,c){if(kg.apply(this,arguments),Cs){if(Cs){var u=ni;Cs=!1,ni=null}else throw Error($(198));ri||(ri=!0,aa=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function im(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mu(e){if(cr(e)!==e)throw Error($(188))}function Sg(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Mu(o),e;if(i===r)return Mu(o),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,a=o.child;a;){if(a===n){l=!0,n=o,r=i;break}if(a===r){l=!0,r=o,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=o;break}if(a===r){l=!0,r=i,n=o;break}a=a.sibling}if(!l)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function lm(e){return e=Sg(e),e!==null?am(e):null}function am(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=am(e);if(t!==null)return t;e=e.sibling}return null}var cm=tt.unstable_scheduleCallback,Lu=tt.unstable_cancelCallback,Cg=tt.unstable_shouldYield,Eg=tt.unstable_requestPaint,ve=tt.unstable_now,Mg=tt.unstable_getCurrentPriorityLevel,pc=tt.unstable_ImmediatePriority,um=tt.unstable_UserBlockingPriority,si=tt.unstable_NormalPriority,Lg=tt.unstable_LowPriority,dm=tt.unstable_IdlePriority,Oi=null,Dt=null;function Tg(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Oi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ag,Pg=Math.log,Rg=Math.LN2;function Ag(e){return e>>>=0,e===0?32:31-(Pg(e)/Rg|0)|0}var yo=64,wo=4194304;function js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var a=l&~o;a!==0?r=js(a):(i&=l,i!==0&&(r=js(i)))}else l=n&~o,l!==0?r=js(l):i!==0&&(r=js(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),o=1<<n,r|=e[n],t&=~o;return r}function Og(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-jt(i),a=1<<l,c=o[l];c===-1?(!(a&n)||a&r)&&(o[l]=Og(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fm(){var e=yo;return yo<<=1,!(yo&4194240)&&(yo=64),e}function fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function so(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Dg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-jt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ae=0;function mm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hm,xc,pm,gm,xm,ua=!1,bo=[],wn=null,bn=null,jn=null,Is=new Map,_s=new Map,dn=[],Ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function fs(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=io(t),t!==null&&xc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function _g(e,t,n,r,o){switch(t){case"focusin":return wn=fs(wn,e,t,n,r,o),!0;case"dragenter":return bn=fs(bn,e,t,n,r,o),!0;case"mouseover":return jn=fs(jn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Is.set(i,fs(Is.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,_s.set(i,fs(_s.get(i)||null,e,t,n,r,o)),!0}return!1}function vm(e){var t=$n(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=im(n),t!==null){e.blockedOn=t,xm(e.priority,function(){pm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);oa=r,n.target.dispatchEvent(r),oa=null}else return t=io(n),t!==null&&xc(t),e.blockedOn=n,!1;t.shift()}return!0}function Pu(e,t,n){Wo(e)&&n.delete(t)}function zg(){ua=!1,wn!==null&&Wo(wn)&&(wn=null),bn!==null&&Wo(bn)&&(bn=null),jn!==null&&Wo(jn)&&(jn=null),Is.forEach(Pu),_s.forEach(Pu)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,ua||(ua=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,zg)))}function zs(e){function t(o){return ms(o,e)}if(0<bo.length){ms(bo[0],e);for(var n=1;n<bo.length;n++){var r=bo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&ms(wn,e),bn!==null&&ms(bn,e),jn!==null&&ms(jn,e),Is.forEach(t),_s.forEach(t),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)vm(n),n.blockedOn===null&&dn.shift()}var Tr=rn.ReactCurrentBatchConfig,ii=!0;function Bg(e,t,n,r){var o=ae,i=Tr.transition;Tr.transition=null;try{ae=1,vc(e,t,n,r)}finally{ae=o,Tr.transition=i}}function $g(e,t,n,r){var o=ae,i=Tr.transition;Tr.transition=null;try{ae=4,vc(e,t,n,r)}finally{ae=o,Tr.transition=i}}function vc(e,t,n,r){if(ii){var o=da(e,t,n,r);if(o===null)jl(e,t,r,li,n),Tu(e,r);else if(_g(o,e,t,n,r))r.stopPropagation();else if(Tu(e,r),t&4&&-1<Ig.indexOf(e)){for(;o!==null;){var i=io(o);if(i!==null&&hm(i),i=da(e,t,n,r),i===null&&jl(e,t,r,li,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var li=null;function da(e,t,n,r){if(li=null,e=hc(r),e=$n(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=im(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return li=e,null}function ym(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mg()){case pc:return 1;case um:return 4;case si:case Lg:return 16;case dm:return 536870912;default:return 16}default:return 16}}var vn=null,yc=null,Ho=null;function wm(){if(Ho)return Ho;var e,t=yc,n=t.length,r,o="value"in vn?vn.value:vn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return Ho=o.slice(e,1<r?1-r:void 0)}function Uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Ru(){return!1}function rt(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:Ru,this.isPropagationStopped=Ru,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=rt(Zr),oo=pe({},Zr,{view:0,detail:0}),Wg=rt(oo),ml,hl,hs,Fi=pe({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(ml=e.screenX-hs.screenX,hl=e.screenY-hs.screenY):hl=ml=0,hs=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),Au=rt(Fi),Hg=pe({},Fi,{dataTransfer:0}),Ug=rt(Hg),Vg=pe({},oo,{relatedTarget:0}),pl=rt(Vg),Gg=pe({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=rt(Gg),Kg=pe({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=rt(Kg),Yg=pe({},Zr,{data:0}),Ou=rt(Yg),Xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ex(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zg[e])?!!t[e]:!1}function bc(){return ex}var tx=pe({},oo,{key:function(e){if(e.key){var t=Xg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(e){return e.type==="keypress"?Uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nx=rt(tx),rx=pe({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=rt(rx),sx=pe({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),ox=rt(sx),ix=pe({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lx=rt(ix),ax=pe({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cx=rt(ax),ux=[9,13,27,32],jc=Yt&&"CompositionEvent"in window,Es=null;Yt&&"documentMode"in document&&(Es=document.documentMode);var dx=Yt&&"TextEvent"in window&&!Es,bm=Yt&&(!jc||Es&&8<Es&&11>=Es),Du=String.fromCharCode(32),Iu=!1;function jm(e,t){switch(e){case"keyup":return ux.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function km(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function fx(e,t){switch(e){case"compositionend":return km(t);case"keypress":return t.which!==32?null:(Iu=!0,Du);case"textInput":return e=t.data,e===Du&&Iu?null:e;default:return null}}function mx(e,t){if(xr)return e==="compositionend"||!jc&&jm(e,t)?(e=wm(),Ho=yc=vn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bm&&t.locale!=="ko"?null:t.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hx[e.type]:t==="textarea"}function Nm(e,t,n,r){tm(r),t=ai(t,"onChange"),0<t.length&&(n=new wc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ms=null,Bs=null;function px(e){Fm(e,0)}function Di(e){var t=wr(e);if(Kf(t))return e}function gx(e,t){if(e==="change")return t}var Sm=!1;if(Yt){var gl;if(Yt){var xl="oninput"in document;if(!xl){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),xl=typeof zu.oninput=="function"}gl=xl}else gl=!1;Sm=gl&&(!document.documentMode||9<document.documentMode)}function Bu(){Ms&&(Ms.detachEvent("onpropertychange",Cm),Bs=Ms=null)}function Cm(e){if(e.propertyName==="value"&&Di(Bs)){var t=[];Nm(t,Bs,e,hc(e)),om(px,t)}}function xx(e,t,n){e==="focusin"?(Bu(),Ms=t,Bs=n,Ms.attachEvent("onpropertychange",Cm)):e==="focusout"&&Bu()}function vx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(Bs)}function yx(e,t){if(e==="click")return Di(t)}function wx(e,t){if(e==="input"||e==="change")return Di(t)}function bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:bx;function $s(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ql.call(t,o)||!St(e[o],t[o]))return!1}return!0}function $u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var n=$u(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$u(n)}}function Em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mm(){for(var e=window,t=ti();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ti(e.document)}return t}function kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jx(e){var t=Mm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Em(n.ownerDocument.documentElement,n)){if(r!==null&&kc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Wu(n,i);var l=Wu(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kx=Yt&&"documentMode"in document&&11>=document.documentMode,vr=null,fa=null,Ls=null,ma=!1;function Hu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ma||vr==null||vr!==ti(r)||(r=vr,"selectionStart"in r&&kc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&$s(Ls,r)||(Ls=r,r=ai(fa,"onSelect"),0<r.length&&(t=new wc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function ko(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionend:ko("Transition","TransitionEnd")},vl={},Lm={};Yt&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function Ii(e){if(vl[e])return vl[e];if(!yr[e])return e;var t=yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lm)return vl[e]=t[n];return e}var Tm=Ii("animationend"),Pm=Ii("animationiteration"),Rm=Ii("animationstart"),Am=Ii("transitionend"),Om=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){Om.set(e,t),ar(t,[e])}for(var yl=0;yl<Uu.length;yl++){var wl=Uu[yl],Nx=wl.toLowerCase(),Sx=wl[0].toUpperCase()+wl.slice(1);Rn(Nx,"on"+Sx)}Rn(Tm,"onAnimationEnd");Rn(Pm,"onAnimationIteration");Rn(Rm,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(Am,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function Vu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ng(r,t,void 0,e),e.currentTarget=null}function Fm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;Vu(o,a,u),i=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;Vu(o,a,u),i=c}}}if(ri)throw e=aa,ri=!1,aa=null,e}function ue(e,t){var n=t[va];n===void 0&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(Dm(t,e,2,!1),n.add(r))}function bl(e,t,n){var r=0;t&&(r|=4),Dm(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[No]){e[No]=!0,Hf.forEach(function(n){n!=="selectionchange"&&(Cx.has(n)||bl(n,!1,e),bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,bl("selectionchange",!1,t))}}function Dm(e,t,n,r){switch(ym(t)){case 1:var o=Bg;break;case 4:o=$g;break;default:o=vc}n=o.bind(null,t,n,e),o=void 0,!la||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;a!==null;){if(l=$n(a),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}a=a.parentNode}}r=r.return}om(function(){var u=i,h=hc(n),g=[];e:{var f=Om.get(e);if(f!==void 0){var b=wc,w=e;switch(e){case"keypress":if(Uo(n)===0)break e;case"keydown":case"keyup":b=nx;break;case"focusin":w="focus",b=pl;break;case"focusout":w="blur",b=pl;break;case"beforeblur":case"afterblur":b=pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Ug;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=ox;break;case Tm:case Pm:case Rm:b=Qg;break;case Am:b=lx;break;case"scroll":b=Wg;break;case"wheel":b=cx;break;case"copy":case"cut":case"paste":b=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Fu}var x=(t&4)!==0,k=!x&&e==="scroll",v=x?f!==null?f+"Capture":null:f;x=[];for(var d=u,p;d!==null;){p=d;var N=p.stateNode;if(p.tag===5&&N!==null&&(p=N,v!==null&&(N=Ds(d,v),N!=null&&x.push(Hs(d,N,p)))),k)break;d=d.return}0<x.length&&(f=new b(f,w,null,n,h),g.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",f&&n!==oa&&(w=n.relatedTarget||n.fromElement)&&($n(w)||w[Xt]))break e;if((b||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,b?(w=n.relatedTarget||n.toElement,b=u,w=w?$n(w):null,w!==null&&(k=cr(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(b=null,w=u),b!==w)){if(x=Au,N="onMouseLeave",v="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(x=Fu,N="onPointerLeave",v="onPointerEnter",d="pointer"),k=b==null?f:wr(b),p=w==null?f:wr(w),f=new x(N,d+"leave",b,n,h),f.target=k,f.relatedTarget=p,N=null,$n(h)===u&&(x=new x(v,d+"enter",w,n,h),x.target=p,x.relatedTarget=k,N=x),k=N,b&&w)t:{for(x=b,v=w,d=0,p=x;p;p=ur(p))d++;for(p=0,N=v;N;N=ur(N))p++;for(;0<d-p;)x=ur(x),d--;for(;0<p-d;)v=ur(v),p--;for(;d--;){if(x===v||v!==null&&x===v.alternate)break t;x=ur(x),v=ur(v)}x=null}else x=null;b!==null&&Gu(g,f,b,x,!1),w!==null&&k!==null&&Gu(g,k,w,x,!0)}}e:{if(f=u?wr(u):window,b=f.nodeName&&f.nodeName.toLowerCase(),b==="select"||b==="input"&&f.type==="file")var y=gx;else if(_u(f))if(Sm)y=wx;else{y=vx;var E=xx}else(b=f.nodeName)&&b.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(y=yx);if(y&&(y=y(e,u))){Nm(g,y,n,h);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&ea(f,"number",f.value)}switch(E=u?wr(u):window,e){case"focusin":(_u(E)||E.contentEditable==="true")&&(vr=E,fa=u,Ls=null);break;case"focusout":Ls=fa=vr=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Hu(g,n,h);break;case"selectionchange":if(kx)break;case"keydown":case"keyup":Hu(g,n,h)}var j;if(jc)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else xr?jm(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(bm&&n.locale!=="ko"&&(xr||M!=="onCompositionStart"?M==="onCompositionEnd"&&xr&&(j=wm()):(vn=h,yc="value"in vn?vn.value:vn.textContent,xr=!0)),E=ai(u,M),0<E.length&&(M=new Ou(M,e,null,n,h),g.push({event:M,listeners:E}),j?M.data=j:(j=km(n),j!==null&&(M.data=j)))),(j=dx?fx(e,n):mx(e,n))&&(u=ai(u,"onBeforeInput"),0<u.length&&(h=new Ou("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:u}),h.data=j))}Fm(g,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ai(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ds(e,n),i!=null&&r.unshift(Hs(e,i,o)),i=Ds(e,t),i!=null&&r.push(Hs(e,i,o))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gu(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Ds(n,i),c!=null&&l.unshift(Hs(n,c,a))):o||(c=Ds(n,i),c!=null&&l.push(Hs(n,c,a)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Ex=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function Qu(e){return(typeof e=="string"?e:""+e).replace(Ex,`
`).replace(Mx,"")}function So(e,t,n){if(t=Qu(t),Qu(e)!==t&&n)throw Error($(425))}function ci(){}var ha=null,pa=null;function ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,Lx=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(e){return Ku.resolve(null).then(e).catch(Px)}:xa;function Px(e){setTimeout(function(){throw e})}function kl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);zs(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),At="__reactFiber$"+es,Us="__reactProps$"+es,Xt="__reactContainer$"+es,va="__reactEvents$"+es,Rx="__reactListeners$"+es,Ax="__reactHandles$"+es;function $n(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qu(e);e!==null;){if(n=e[At])return n;e=qu(e)}return t}e=n,n=e.parentNode}return null}function io(e){return e=e[At]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function _i(e){return e[Us]||null}var ya=[],br=-1;function An(e){return{current:e}}function de(e){0>br||(e.current=ya[br],ya[br]=null,br--)}function ce(e,t){br++,ya[br]=e.current,e.current=t}var Ln={},Ie=An(Ln),Ge=An(!1),Jn=Ln;function Ur(e,t){var n=e.type.contextTypes;if(!n)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Qe(e){return e=e.childContextTypes,e!=null}function ui(){de(Ge),de(Ie)}function Yu(e,t,n){if(Ie.current!==Ln)throw Error($(168));ce(Ie,t),ce(Ge,n)}function Im(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error($(108,xg(e)||"Unknown",o));return pe({},n,r)}function di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Jn=Ie.current,ce(Ie,e),ce(Ge,Ge.current),!0}function Xu(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=Im(e,t,Jn),r.__reactInternalMemoizedMergedChildContext=e,de(Ge),de(Ie),ce(Ie,e)):de(Ge),ce(Ge,n)}var Vt=null,zi=!1,Nl=!1;function _m(e){Vt===null?Vt=[e]:Vt.push(e)}function Ox(e){zi=!0,_m(e)}function On(){if(!Nl&&Vt!==null){Nl=!0;var e=0,t=ae;try{var n=Vt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,zi=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),cm(pc,On),o}finally{ae=t,Nl=!1}}return null}var jr=[],kr=0,fi=null,mi=0,lt=[],at=0,Zn=null,Qt=1,Kt="";function zn(e,t){jr[kr++]=mi,jr[kr++]=fi,fi=e,mi=t}function zm(e,t,n){lt[at++]=Qt,lt[at++]=Kt,lt[at++]=Zn,Zn=e;var r=Qt;e=Kt;var o=32-jt(r)-1;r&=~(1<<o),n+=1;var i=32-jt(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Qt=1<<32-jt(t)+o|n<<o|r,Kt=i+e}else Qt=1<<i|n<<o|r,Kt=e}function Nc(e){e.return!==null&&(zn(e,1),zm(e,1,0))}function Sc(e){for(;e===fi;)fi=jr[--kr],jr[kr]=null,mi=jr[--kr],jr[kr]=null;for(;e===Zn;)Zn=lt[--at],lt[at]=null,Kt=lt[--at],lt[at]=null,Qt=lt[--at],lt[at]=null}var Ze=null,Je=null,fe=!1,bt=null;function Bm(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ju(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Je=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Je=null,!0):!1;default:return!1}}function wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ba(e){if(fe){var t=Je;if(t){var n=t;if(!Ju(e,t)){if(wa(e))throw Error($(418));t=kn(n.nextSibling);var r=Ze;t&&Ju(e,t)?Bm(r,n):(e.flags=e.flags&-4097|2,fe=!1,Ze=e)}}else{if(wa(e))throw Error($(418));e.flags=e.flags&-4097|2,fe=!1,Ze=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Co(e){if(e!==Ze)return!1;if(!fe)return Zu(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ga(e.type,e.memoizedProps)),t&&(t=Je)){if(wa(e))throw $m(),Error($(418));for(;t;)Bm(e,t),t=kn(t.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Ze?kn(e.stateNode.nextSibling):null;return!0}function $m(){for(var e=Je;e;)e=kn(e.nextSibling)}function Vr(){Je=Ze=null,fe=!1}function Cc(e){bt===null?bt=[e]:bt.push(e)}var Fx=rn.ReactCurrentBatchConfig;function ps(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var a=o.refs;l===null?delete a[i]:a[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ed(e){var t=e._init;return t(e._payload)}function Wm(e){function t(v,d){if(e){var p=v.deletions;p===null?(v.deletions=[d],v.flags|=16):p.push(d)}}function n(v,d){if(!e)return null;for(;d!==null;)t(v,d),d=d.sibling;return null}function r(v,d){for(v=new Map;d!==null;)d.key!==null?v.set(d.key,d):v.set(d.index,d),d=d.sibling;return v}function o(v,d){return v=En(v,d),v.index=0,v.sibling=null,v}function i(v,d,p){return v.index=p,e?(p=v.alternate,p!==null?(p=p.index,p<d?(v.flags|=2,d):p):(v.flags|=2,d)):(v.flags|=1048576,d)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,d,p,N){return d===null||d.tag!==6?(d=Pl(p,v.mode,N),d.return=v,d):(d=o(d,p),d.return=v,d)}function c(v,d,p,N){var y=p.type;return y===gr?h(v,d,p.props.children,N,p.key):d!==null&&(d.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===cn&&ed(y)===d.type)?(N=o(d,p.props),N.ref=ps(v,d,p),N.return=v,N):(N=Xo(p.type,p.key,p.props,null,v.mode,N),N.ref=ps(v,d,p),N.return=v,N)}function u(v,d,p,N){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=Rl(p,v.mode,N),d.return=v,d):(d=o(d,p.children||[]),d.return=v,d)}function h(v,d,p,N,y){return d===null||d.tag!==7?(d=Xn(p,v.mode,N,y),d.return=v,d):(d=o(d,p),d.return=v,d)}function g(v,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Pl(""+d,v.mode,p),d.return=v,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case go:return p=Xo(d.type,d.key,d.props,null,v.mode,p),p.ref=ps(v,null,d),p.return=v,p;case pr:return d=Rl(d,v.mode,p),d.return=v,d;case cn:var N=d._init;return g(v,N(d._payload),p)}if(bs(d)||us(d))return d=Xn(d,v.mode,p,null),d.return=v,d;Eo(v,d)}return null}function f(v,d,p,N){var y=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return y!==null?null:a(v,d,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case go:return p.key===y?c(v,d,p,N):null;case pr:return p.key===y?u(v,d,p,N):null;case cn:return y=p._init,f(v,d,y(p._payload),N)}if(bs(p)||us(p))return y!==null?null:h(v,d,p,N,null);Eo(v,p)}return null}function b(v,d,p,N,y){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(p)||null,a(d,v,""+N,y);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case go:return v=v.get(N.key===null?p:N.key)||null,c(d,v,N,y);case pr:return v=v.get(N.key===null?p:N.key)||null,u(d,v,N,y);case cn:var E=N._init;return b(v,d,p,E(N._payload),y)}if(bs(N)||us(N))return v=v.get(p)||null,h(d,v,N,y,null);Eo(d,N)}return null}function w(v,d,p,N){for(var y=null,E=null,j=d,M=d=0,I=null;j!==null&&M<p.length;M++){j.index>M?(I=j,j=null):I=j.sibling;var z=f(v,j,p[M],N);if(z===null){j===null&&(j=I);break}e&&j&&z.alternate===null&&t(v,j),d=i(z,d,M),E===null?y=z:E.sibling=z,E=z,j=I}if(M===p.length)return n(v,j),fe&&zn(v,M),y;if(j===null){for(;M<p.length;M++)j=g(v,p[M],N),j!==null&&(d=i(j,d,M),E===null?y=j:E.sibling=j,E=j);return fe&&zn(v,M),y}for(j=r(v,j);M<p.length;M++)I=b(j,v,M,p[M],N),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?M:I.key),d=i(I,d,M),E===null?y=I:E.sibling=I,E=I);return e&&j.forEach(function(R){return t(v,R)}),fe&&zn(v,M),y}function x(v,d,p,N){var y=us(p);if(typeof y!="function")throw Error($(150));if(p=y.call(p),p==null)throw Error($(151));for(var E=y=null,j=d,M=d=0,I=null,z=p.next();j!==null&&!z.done;M++,z=p.next()){j.index>M?(I=j,j=null):I=j.sibling;var R=f(v,j,z.value,N);if(R===null){j===null&&(j=I);break}e&&j&&R.alternate===null&&t(v,j),d=i(R,d,M),E===null?y=R:E.sibling=R,E=R,j=I}if(z.done)return n(v,j),fe&&zn(v,M),y;if(j===null){for(;!z.done;M++,z=p.next())z=g(v,z.value,N),z!==null&&(d=i(z,d,M),E===null?y=z:E.sibling=z,E=z);return fe&&zn(v,M),y}for(j=r(v,j);!z.done;M++,z=p.next())z=b(j,v,M,z.value,N),z!==null&&(e&&z.alternate!==null&&j.delete(z.key===null?M:z.key),d=i(z,d,M),E===null?y=z:E.sibling=z,E=z);return e&&j.forEach(function(U){return t(v,U)}),fe&&zn(v,M),y}function k(v,d,p,N){if(typeof p=="object"&&p!==null&&p.type===gr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case go:e:{for(var y=p.key,E=d;E!==null;){if(E.key===y){if(y=p.type,y===gr){if(E.tag===7){n(v,E.sibling),d=o(E,p.props.children),d.return=v,v=d;break e}}else if(E.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===cn&&ed(y)===E.type){n(v,E.sibling),d=o(E,p.props),d.ref=ps(v,E,p),d.return=v,v=d;break e}n(v,E);break}else t(v,E);E=E.sibling}p.type===gr?(d=Xn(p.props.children,v.mode,N,p.key),d.return=v,v=d):(N=Xo(p.type,p.key,p.props,null,v.mode,N),N.ref=ps(v,d,p),N.return=v,v=N)}return l(v);case pr:e:{for(E=p.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(v,d.sibling),d=o(d,p.children||[]),d.return=v,v=d;break e}else{n(v,d);break}else t(v,d);d=d.sibling}d=Rl(p,v.mode,N),d.return=v,v=d}return l(v);case cn:return E=p._init,k(v,d,E(p._payload),N)}if(bs(p))return w(v,d,p,N);if(us(p))return x(v,d,p,N);Eo(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(v,d.sibling),d=o(d,p),d.return=v,v=d):(n(v,d),d=Pl(p,v.mode,N),d.return=v,v=d),l(v)):n(v,d)}return k}var Gr=Wm(!0),Hm=Wm(!1),hi=An(null),pi=null,Nr=null,Ec=null;function Mc(){Ec=Nr=pi=null}function Lc(e){var t=hi.current;de(hi),e._currentValue=t}function ja(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){pi=e,Ec=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Ec!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(pi===null)throw Error($(308));Nr=e,pi.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Wn=null;function Tc(e){Wn===null?Wn=[e]:Wn.push(e)}function Um(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Tc(t)):(n.next=o.next,o.next=n),t.interleaved=n,Jt(e,r)}function Jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var un=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Jt(e,n)}return o=r.interleaved,o===null?(t.next=t,Tc(r)):(t.next=o.next,o.next=t),r.interleaved=t,Jt(e,n)}function Vo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gc(e,n)}}function td(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gi(e,t,n,r){var o=e.updateQueue;un=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==l&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var g=o.baseState;l=0,h=u=c=null,a=i;do{var f=a.lane,b=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,x=a;switch(f=t,b=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){g=w.call(b,g,f);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(b,g,f):w,f==null)break e;g=pe({},g,f);break e;case 2:un=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else b={eventTime:b,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=b,c=g):h=h.next=b,l|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(h===null&&(c=g),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);tr|=l,e.lanes=l,e.memoizedState=g}}function nd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var lo={},It=An(lo),Vs=An(lo),Gs=An(lo);function Hn(e){if(e===lo)throw Error($(174));return e}function Rc(e,t){switch(ce(Gs,t),ce(Vs,e),ce(It,lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=na(t,e)}de(It),ce(It,t)}function Qr(){de(It),de(Vs),de(Gs)}function Gm(e){Hn(Gs.current);var t=Hn(It.current),n=na(t,e.type);t!==n&&(ce(Vs,e),ce(It,n))}function Ac(e){Vs.current===e&&(de(It),de(Vs))}var me=An(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sl=[];function Oc(){for(var e=0;e<Sl.length;e++)Sl[e]._workInProgressVersionPrimary=null;Sl.length=0}var Go=rn.ReactCurrentDispatcher,Cl=rn.ReactCurrentBatchConfig,er=0,he=null,Ne=null,Ce=null,vi=!1,Ts=!1,Qs=0,Dx=0;function Ae(){throw Error($(321))}function Fc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Dc(e,t,n,r,o,i){if(er=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=e===null||e.memoizedState===null?Bx:$x,e=n(r,o),Ts){i=0;do{if(Ts=!1,Qs=0,25<=i)throw Error($(301));i+=1,Ce=Ne=null,t.updateQueue=null,Go.current=Wx,e=n(r,o)}while(Ts)}if(Go.current=yi,t=Ne!==null&&Ne.next!==null,er=0,Ce=Ne=he=null,vi=!1,t)throw Error($(300));return e}function Ic(){var e=Qs!==0;return Qs=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ft(){if(Ne===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?he.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error($(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?he.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Ks(e,t){return typeof t=="function"?t(e):t}function El(e){var t=ft(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ne,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=l=null,c=null,u=i;do{var h=u.lane;if((er&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=g,l=r):c=c.next=g,he.lanes|=h,tr|=h}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=a,St(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,he.lanes|=i,tr|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ml(e){var t=ft(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);St(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Qm(){}function Km(e,t){var n=he,r=ft(),o=t(),i=!St(r.memoizedState,o);if(i&&(r.memoizedState=o,Ve=!0),r=r.queue,_c(Xm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,qs(9,Ym.bind(null,n,r,o,t),void 0,null),Ee===null)throw Error($(349));er&30||qm(n,t,o)}return o}function qm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ym(e,t,n,r){t.value=n,t.getSnapshot=r,Jm(t)&&Zm(e)}function Xm(e,t,n){return n(function(){Jm(t)&&Zm(e)})}function Jm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function Zm(e){var t=Jt(e,1);t!==null&&kt(t,e,1,-1)}function rd(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:e},t.queue=e,e=e.dispatch=zx.bind(null,he,e),[t.memoizedState,e]}function qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eh(){return ft().memoizedState}function Qo(e,t,n,r){var o=Lt();he.flags|=e,o.memoizedState=qs(1|t,n,void 0,r===void 0?null:r)}function Bi(e,t,n,r){var o=ft();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var l=Ne.memoizedState;if(i=l.destroy,r!==null&&Fc(r,l.deps)){o.memoizedState=qs(t,n,i,r);return}}he.flags|=e,o.memoizedState=qs(1|t,n,i,r)}function sd(e,t){return Qo(8390656,8,e,t)}function _c(e,t){return Bi(2048,8,e,t)}function th(e,t){return Bi(4,2,e,t)}function nh(e,t){return Bi(4,4,e,t)}function rh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sh(e,t,n){return n=n!=null?n.concat([e]):null,Bi(4,4,rh.bind(null,t,e),n)}function zc(){}function oh(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ih(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lh(e,t,n){return er&21?(St(n,t)||(n=fm(),he.lanes|=n,tr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function Ix(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{ae=n,Cl.transition=r}}function ah(){return ft().memoizedState}function _x(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ch(e))uh(t,n);else if(n=Um(e,t,n,r),n!==null){var o=$e();kt(n,e,r,o),dh(n,t,r)}}function zx(e,t,n){var r=Cn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ch(e))uh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,St(a,l)){var c=t.interleaved;c===null?(o.next=o,Tc(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Um(e,t,o,r),n!==null&&(o=$e(),kt(n,e,r,o),dh(n,t,r))}}function ch(e){var t=e.alternate;return e===he||t!==null&&t===he}function uh(e,t){Ts=vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gc(e,n)}}var yi={readContext:dt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},Bx={readContext:dt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:sd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qo(4194308,4,rh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qo(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_x.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:rd,useDebugValue:zc,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=rd(!1),t=e[0];return e=Ix.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,o=Lt();if(fe){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Ee===null)throw Error($(349));er&30||qm(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,sd(Xm.bind(null,r,i,e),[e]),r.flags|=2048,qs(9,Ym.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Ee.identifierPrefix;if(fe){var n=Kt,r=Qt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Dx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$x={readContext:dt,useCallback:oh,useContext:dt,useEffect:_c,useImperativeHandle:sh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:ih,useReducer:El,useRef:eh,useState:function(){return El(Ks)},useDebugValue:zc,useDeferredValue:function(e){var t=ft();return lh(t,Ne.memoizedState,e)},useTransition:function(){var e=El(Ks)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Qm,useSyncExternalStore:Km,useId:ah,unstable_isNewReconciler:!1},Wx={readContext:dt,useCallback:oh,useContext:dt,useEffect:_c,useImperativeHandle:sh,useInsertionEffect:th,useLayoutEffect:nh,useMemo:ih,useReducer:Ml,useRef:eh,useState:function(){return Ml(Ks)},useDebugValue:zc,useDeferredValue:function(e){var t=ft();return Ne===null?t.memoizedState=e:lh(t,Ne.memoizedState,e)},useTransition:function(){var e=Ml(Ks)[0],t=ft().memoizedState;return[e,t]},useMutableSource:Qm,useSyncExternalStore:Km,useId:ah,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ka(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $i={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),o=Cn(e),i=qt(r,o);i.payload=t,n!=null&&(i.callback=n),t=Nn(e,i,o),t!==null&&(kt(t,e,o,r),Vo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),o=Cn(e),i=qt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Nn(e,i,o),t!==null&&(kt(t,e,o,r),Vo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=Cn(e),o=qt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Nn(e,o,r),t!==null&&(kt(t,e,r,n),Vo(t,e,r))}};function od(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!$s(n,r)||!$s(o,i):!0}function fh(e,t,n){var r=!1,o=Ln,i=t.contextType;return typeof i=="object"&&i!==null?i=dt(i):(o=Qe(t)?Jn:Ie.current,r=t.contextTypes,i=(r=r!=null)?Ur(e,o):Ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$i,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function id(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$i.enqueueReplaceState(t,t.state,null)}function Na(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Pc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=dt(i):(i=Qe(t)?Jn:Ie.current,o.context=Ur(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ka(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&$i.enqueueReplaceState(o,o.state,null),gi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Kr(e,t){try{var n="",r=t;do n+=gg(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Ll(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hx=typeof WeakMap=="function"?WeakMap:Map;function mh(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bi||(bi=!0,Fa=r),Sa(e,t)},n}function hh(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Sa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sa(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ld(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=rv.bind(null,e,t,n),t.then(e,e))}function ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,Nn(n,t,1))),n.lanes|=1),e)}var Ux=rn.ReactCurrentOwner,Ve=!1;function ze(e,t,n,r){t.child=e===null?Hm(t,null,n,r):Gr(t,e.child,n,r)}function ud(e,t,n,r,o){n=n.render;var i=t.ref;return Pr(t,o),r=Dc(e,t,n,r,i,o),n=Ic(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(fe&&n&&Nc(t),t.flags|=1,ze(e,t,r,o),t.child)}function dd(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Qc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ph(e,t,i,r,o)):(e=Xo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(l,r)&&e.ref===t.ref)return Zt(e,t,o)}return t.flags|=1,e=En(i,r),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if($s(i,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Zt(e,t,o)}return Ca(e,t,n,r,o)}function gh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Cr,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Cr,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Cr,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(Cr,Ye),Ye|=r;return ze(e,t,o,n),t.child}function xh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,o){var i=Qe(n)?Jn:Ie.current;return i=Ur(t,i),Pr(t,o),n=Dc(e,t,n,r,i,o),r=Ic(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zt(e,t,o)):(fe&&r&&Nc(t),t.flags|=1,ze(e,t,n,o),t.child)}function fd(e,t,n,r,o){if(Qe(n)){var i=!0;di(t)}else i=!1;if(Pr(t,o),t.stateNode===null)Ko(e,t),fh(t,n,r),Na(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=Qe(n)?Jn:Ie.current,u=Ur(t,u));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==u)&&id(t,l,r,u),un=!1;var f=t.memoizedState;l.state=f,gi(t,r,l,o),c=t.memoizedState,a!==r||f!==c||Ge.current||un?(typeof h=="function"&&(ka(t,n,h,r),c=t.memoizedState),(a=un||od(t,n,a,r,f,c,u))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Vm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:gt(t.type,a),l.props=u,g=t.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=dt(c):(c=Qe(n)?Jn:Ie.current,c=Ur(t,c));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==g||f!==c)&&id(t,l,r,c),un=!1,f=t.memoizedState,l.state=f,gi(t,r,l,o);var w=t.memoizedState;a!==g||f!==w||Ge.current||un?(typeof b=="function"&&(ka(t,n,b,r),w=t.memoizedState),(u=un||od(t,n,u,r,f,w,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,i,o)}function Ea(e,t,n,r,o,i){xh(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&Xu(t,n,!1),Zt(e,t,i);r=t.stateNode,Ux.current=t;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Gr(t,e.child,null,i),t.child=Gr(t,null,a,i)):ze(e,t,a,i),t.memoizedState=r.state,o&&Xu(t,n,!0),t.child}function vh(e){var t=e.stateNode;t.pendingContext?Yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yu(e,t.context,!1),Rc(e,t.containerInfo)}function md(e,t,n,r,o){return Vr(),Cc(o),t.flags|=256,ze(e,t,n,r),t.child}var Ma={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function yh(e,t,n){var r=t.pendingProps,o=me.current,i=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(me,o&1),e===null)return ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ui(l,r,0,null),e=Xn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=La(n),t.memoizedState=Ma,e):Bc(t,l));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Vx(e,t,l,r,a,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=En(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=En(a,i):(i=Xn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Ma,r}return i=e.child,e=i.sibling,r=En(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bc(e,t){return t=Ui({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mo(e,t,n,r){return r!==null&&Cc(r),Gr(t,e.child,null,n),e=Bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vx(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Ll(Error($(422))),Mo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ui({mode:"visible",children:r.children},o,0,null),i=Xn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Gr(t,e.child,null,l),t.child.memoizedState=La(l),t.memoizedState=Ma,i);if(!(t.mode&1))return Mo(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Ll(i,r,void 0),Mo(e,t,l,r)}if(a=(l&e.childLanes)!==0,Ve||a){if(r=Ee,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Jt(e,o),kt(r,e,o,-1))}return Gc(),r=Ll(Error($(421))),Mo(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=sv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Je=kn(o.nextSibling),Ze=t,fe=!0,bt=null,e!==null&&(lt[at++]=Qt,lt[at++]=Kt,lt[at++]=Zn,Qt=e.id,Kt=e.overflow,Zn=t),t=Bc(t,r.children),t.flags|=4096,t)}function hd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ja(e.return,t,n)}function Tl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function wh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ze(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,n,t);else if(e.tag===19)hd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(me,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Tl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Tl(t,!0,n,null,i);break;case"together":Tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gx(e,t,n){switch(t.tag){case 3:vh(t),Vr();break;case 5:Gm(t);break;case 1:Qe(t.type)&&di(t);break;case 4:Rc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ce(hi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?yh(e,t,n):(ce(me,me.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,gh(e,t,n)}return Zt(e,t,n)}var bh,Ta,jh,kh;bh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ta=function(){};jh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Hn(It.current);var i=null;switch(n){case"input":o=Jl(e,o),r=Jl(e,r),i=[];break;case"select":o=pe({},o,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":o=ta(e,o),r=ta(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ci)}ra(n,r);var l;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kh=function(e,t,n,r){n!==r&&(t.flags|=4)};function gs(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qx(e,t,n){var r=t.pendingProps;switch(Sc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Qe(t.type)&&ui(),Oe(t),null;case 3:return r=t.stateNode,Qr(),de(Ge),de(Ie),Oc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(_a(bt),bt=null))),Ta(e,t),Oe(t),null;case 5:Ac(t);var o=Hn(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)jh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Oe(t),null}if(e=Hn(It.current),Co(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[At]=t,r[Us]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<ks.length;o++)ue(ks[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":ku(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":Su(r,i),ue("invalid",r)}ra(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&So(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&So(r.textContent,a,e),o=["children",""+a]):Os.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ue("scroll",r)}switch(n){case"input":xo(r),Nu(r,i,!0);break;case"textarea":xo(r),Cu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ci)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[At]=t,e[Us]=r,bh(e,t,!1,!1),t.stateNode=e;e:{switch(l=sa(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<ks.length;o++)ue(ks[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":ku(e,r),o=Jl(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=pe({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Su(e,r),o=ta(e,r),ue("invalid",e);break;default:o=r}ra(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?em(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fs(e,c):typeof c=="number"&&Fs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Os.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&uc(e,i,c,l))}switch(n){case"input":xo(e),Nu(e,r,!1);break;case"textarea":xo(e),Cu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Er(e,!!r.multiple,i,!1):r.defaultValue!=null&&Er(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)kh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=Hn(Gs.current),Hn(It.current),Co(t)){if(r=t.stateNode,n=t.memoizedProps,r[At]=t,(i=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:So(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&So(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=t,t.stateNode=r}return Oe(t),null;case 13:if(de(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&Je!==null&&t.mode&1&&!(t.flags&128))$m(),Vr(),t.flags|=98560,i=!1;else if(i=Co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[At]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else bt!==null&&(_a(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Se===0&&(Se=3):Gc())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Qr(),Ta(e,t),e===null&&Ws(t.stateNode.containerInfo),Oe(t),null;case 10:return Lc(t.type._context),Oe(t),null;case 17:return Qe(t.type)&&ui(),Oe(t),null;case 19:if(de(me),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)gs(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=xi(e),l!==null){for(t.flags|=128,gs(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>qr&&(t.flags|=128,r=!0,gs(i,!1),t.lanes=4194304)}else{if(!r)if(e=xi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!fe)return Oe(t),null}else 2*ve()-i.renderingStartTime>qr&&n!==1073741824&&(t.flags|=128,r=!0,gs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Vc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Kx(e,t){switch(Sc(t),t.tag){case 1:return Qe(t.type)&&ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),de(Ge),de(Ie),Oc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ac(t),null;case 13:if(de(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(me),null;case 4:return Qr(),null;case 10:return Lc(t.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var Lo=!1,De=!1,qx=typeof WeakSet=="function"?WeakSet:Set,K=null;function Sr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Pa(e,t,n){try{n()}catch(r){xe(e,t,r)}}var pd=!1;function Yx(e,t){if(ha=ii,e=Mm(),kc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,u=0,h=0,g=e,f=null;t:for(;;){for(var b;g!==n||o!==0&&g.nodeType!==3||(a=l+o),g!==i||r!==0&&g.nodeType!==3||(c=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(b=g.firstChild)!==null;)f=g,g=b;for(;;){if(g===e)break t;if(f===n&&++u===o&&(a=l),f===i&&++h===r&&(c=l),(b=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=b}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pa={focusedElem:e,selectionRange:n},ii=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,k=w.memoizedState,v=t.stateNode,d=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:gt(t.type,x),k);v.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){xe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return w=pd,pd=!1,w}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Pa(t,n,i)}o=o.next}while(o!==r)}}function Wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nh(e){var t=e.alternate;t!==null&&(e.alternate=null,Nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Us],delete t[va],delete t[Rx],delete t[Ax])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sh(e){return e.tag===5||e.tag===3||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Aa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ci));else if(r!==4&&(e=e.child,e!==null))for(Aa(e,t,n),e=e.sibling;e!==null;)Aa(e,t,n),e=e.sibling}function Oa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Oa(e,t,n),e=e.sibling;e!==null;)Oa(e,t,n),e=e.sibling}var Me=null,wt=!1;function sn(e,t,n){for(n=n.child;n!==null;)Ch(e,t,n),n=n.sibling}function Ch(e,t,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Oi,n)}catch{}switch(n.tag){case 5:De||Sr(n,t);case 6:var r=Me,o=wt;Me=null,sn(e,t,n),Me=r,wt=o,Me!==null&&(wt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(wt?(e=Me,n=n.stateNode,e.nodeType===8?kl(e.parentNode,n):e.nodeType===1&&kl(e,n),zs(e)):kl(Me,n.stateNode));break;case 4:r=Me,o=wt,Me=n.stateNode.containerInfo,wt=!0,sn(e,t,n),Me=r,wt=o;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Pa(n,t,l),o=o.next}while(o!==r)}sn(e,t,n);break;case 1:if(!De&&(Sr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,sn(e,t,n),De=r):sn(e,t,n);break;default:sn(e,t,n)}}function xd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qx),t.forEach(function(r){var o=ov.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,wt=!1;break e;case 3:Me=a.stateNode.containerInfo,wt=!0;break e;case 4:Me=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Me===null)throw Error($(160));Ch(i,l,o),Me=null,wt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){xe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}function Eh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Mt(e),r&4){try{Ps(3,e,e.return),Wi(3,e)}catch(x){xe(e,e.return,x)}try{Ps(5,e,e.return)}catch(x){xe(e,e.return,x)}}break;case 1:mt(t,e),Mt(e),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(mt(t,e),Mt(e),r&512&&n!==null&&Sr(n,n.return),e.flags&32){var o=e.stateNode;try{Fs(o,"")}catch(x){xe(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qf(o,i),sa(a,l);var u=sa(a,i);for(l=0;l<c.length;l+=2){var h=c[l],g=c[l+1];h==="style"?em(o,g):h==="dangerouslySetInnerHTML"?Jf(o,g):h==="children"?Fs(o,g):uc(o,h,g,u)}switch(a){case"input":Zl(o,i);break;case"textarea":Yf(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?Er(o,!!i.multiple,b,!1):f!==!!i.multiple&&(i.defaultValue!=null?Er(o,!!i.multiple,i.defaultValue,!0):Er(o,!!i.multiple,i.multiple?[]:"",!1))}o[Us]=i}catch(x){xe(e,e.return,x)}}break;case 6:if(mt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error($(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){xe(e,e.return,x)}}break;case 3:if(mt(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(x){xe(e,e.return,x)}break;case 4:mt(t,e),Mt(e);break;case 13:mt(t,e),Mt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Hc=ve())),r&4&&xd(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||h,mt(t,e),De=u):mt(t,e),Mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(K=e,h=e.child;h!==null;){for(g=K=h;K!==null;){switch(f=K,b=f.child,f.tag){case 0:case 11:case 14:case 15:Ps(4,f,f.return);break;case 1:Sr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){xe(r,n,x)}}break;case 5:Sr(f,f.return);break;case 22:if(f.memoizedState!==null){yd(g);continue}}b!==null?(b.return=f,K=b):yd(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{o=g.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Zf("display",l))}catch(x){xe(e,e.return,x)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(x){xe(e,e.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:mt(t,e),Mt(e),r&4&&xd(e);break;case 21:break;default:mt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sh(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Fs(o,""),r.flags&=-33);var i=gd(e);Oa(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,a=gd(e);Aa(e,a,l);break;default:throw Error($(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xx(e,t,n){K=e,Mh(e)}function Mh(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var o=K,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Lo;if(!l){var a=o.alternate,c=a!==null&&a.memoizedState!==null||De;a=Lo;var u=De;if(Lo=l,(De=c)&&!u)for(K=o;K!==null;)l=K,c=l.child,l.tag===22&&l.memoizedState!==null?wd(o):c!==null?(c.return=l,K=c):wd(o);for(;i!==null;)K=i,Mh(i),i=i.sibling;K=o,Lo=a,De=u}vd(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,K=i):vd(e)}}function vd(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Wi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nd(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nd(t,l,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&zs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}De||t.flags&512&&Ra(t)}catch(f){xe(t,t.return,f)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function yd(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function wd(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wi(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){xe(t,o,c)}}var i=t.return;try{Ra(t)}catch(c){xe(t,i,c)}break;case 5:var l=t.return;try{Ra(t)}catch(c){xe(t,l,c)}}}catch(c){xe(t,t.return,c)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var Jx=Math.ceil,wi=rn.ReactCurrentDispatcher,$c=rn.ReactCurrentOwner,ut=rn.ReactCurrentBatchConfig,ie=0,Ee=null,be=null,Le=0,Ye=0,Cr=An(0),Se=0,Ys=null,tr=0,Hi=0,Wc=0,Rs=null,Ue=null,Hc=0,qr=1/0,Ut=null,bi=!1,Fa=null,Sn=null,To=!1,yn=null,ji=0,As=0,Da=null,qo=-1,Yo=0;function $e(){return ie&6?ve():qo!==-1?qo:qo=ve()}function Cn(e){return e.mode&1?ie&2&&Le!==0?Le&-Le:Fx.transition!==null?(Yo===0&&(Yo=fm()),Yo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:ym(e.type)),e):1}function kt(e,t,n,r){if(50<As)throw As=0,Da=null,Error($(185));so(e,n,r),(!(ie&2)||e!==Ee)&&(e===Ee&&(!(ie&2)&&(Hi|=n),Se===4&&fn(e,Le)),Ke(e,r),n===1&&ie===0&&!(t.mode&1)&&(qr=ve()+500,zi&&On()))}function Ke(e,t){var n=e.callbackNode;Fg(e,t);var r=oi(e,e===Ee?Le:0);if(r===0)n!==null&&Lu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lu(n),t===1)e.tag===0?Ox(bd.bind(null,e)):_m(bd.bind(null,e)),Tx(function(){!(ie&6)&&On()}),n=null;else{switch(mm(r)){case 1:n=pc;break;case 4:n=um;break;case 16:n=si;break;case 536870912:n=dm;break;default:n=si}n=Dh(n,Lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lh(e,t){if(qo=-1,Yo=0,ie&6)throw Error($(327));var n=e.callbackNode;if(Rr()&&e.callbackNode!==n)return null;var r=oi(e,e===Ee?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ki(e,r);else{t=r;var o=ie;ie|=2;var i=Ph();(Ee!==e||Le!==t)&&(Ut=null,qr=ve()+500,Yn(e,t));do try{tv();break}catch(a){Th(e,a)}while(1);Mc(),wi.current=i,ie=o,be!==null?t=0:(Ee=null,Le=0,t=Se)}if(t!==0){if(t===2&&(o=ca(e),o!==0&&(r=o,t=Ia(e,o))),t===1)throw n=Ys,Yn(e,0),fn(e,r),Ke(e,ve()),n;if(t===6)fn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Zx(o)&&(t=ki(e,r),t===2&&(i=ca(e),i!==0&&(r=i,t=Ia(e,i))),t===1))throw n=Ys,Yn(e,0),fn(e,r),Ke(e,ve()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Bn(e,Ue,Ut);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=Hc+500-ve(),10<t)){if(oi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=xa(Bn.bind(null,e,Ue,Ut),t);break}Bn(e,Ue,Ut);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-jt(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jx(r/1960))-r,10<r){e.timeoutHandle=xa(Bn.bind(null,e,Ue,Ut),r);break}Bn(e,Ue,Ut);break;case 5:Bn(e,Ue,Ut);break;default:throw Error($(329))}}}return Ke(e,ve()),e.callbackNode===n?Lh.bind(null,e):null}function Ia(e,t){var n=Rs;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=ki(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&_a(t)),e}function _a(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Zx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!St(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Wc,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function bd(e){if(ie&6)throw Error($(327));Rr();var t=oi(e,0);if(!(t&1))return Ke(e,ve()),null;var n=ki(e,t);if(e.tag!==0&&n===2){var r=ca(e);r!==0&&(t=r,n=Ia(e,r))}if(n===1)throw n=Ys,Yn(e,0),fn(e,t),Ke(e,ve()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,Ue,Ut),Ke(e,ve()),null}function Uc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(qr=ve()+500,zi&&On())}}function nr(e){yn!==null&&yn.tag===0&&!(ie&6)&&Rr();var t=ie;ie|=1;var n=ut.transition,r=ae;try{if(ut.transition=null,ae=1,e)return e()}finally{ae=r,ut.transition=n,ie=t,!(ie&6)&&On()}}function Vc(){Ye=Cr.current,de(Cr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lx(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Sc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ui();break;case 3:Qr(),de(Ge),de(Ie),Oc();break;case 5:Ac(r);break;case 4:Qr();break;case 13:de(me);break;case 19:de(me);break;case 10:Lc(r.type._context);break;case 22:case 23:Vc()}n=n.return}if(Ee=e,be=e=En(e.current,null),Le=Ye=t,Se=0,Ys=null,Wc=Hi=tr=0,Ue=Rs=null,Wn!==null){for(t=0;t<Wn.length;t++)if(n=Wn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Wn=null}return e}function Th(e,t){do{var n=be;try{if(Mc(),Go.current=yi,vi){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}vi=!1}if(er=0,Ce=Ne=he=null,Ts=!1,Qs=0,$c.current=null,n===null||n.return===null){Se=1,Ys=t,be=null;break}e:{var i=e,l=n.return,a=n,c=t;if(t=Le,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=ad(l);if(b!==null){b.flags&=-257,cd(b,l,a,i,t),b.mode&1&&ld(i,u,t),t=b,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){ld(i,u,t),Gc();break e}c=Error($(426))}}else if(fe&&a.mode&1){var k=ad(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),cd(k,l,a,i,t),Cc(Kr(c,a));break e}}i=c=Kr(c,a),Se!==4&&(Se=2),Rs===null?Rs=[i]:Rs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=mh(i,c,t);td(i,v);break e;case 1:a=c;var d=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Sn===null||!Sn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=hh(i,a,t);td(i,N);break e}}i=i.return}while(i!==null)}Ah(n)}catch(y){t=y,be===n&&n!==null&&(be=n=n.return);continue}break}while(1)}function Ph(){var e=wi.current;return wi.current=yi,e===null?yi:e}function Gc(){(Se===0||Se===3||Se===2)&&(Se=4),Ee===null||!(tr&268435455)&&!(Hi&268435455)||fn(Ee,Le)}function ki(e,t){var n=ie;ie|=2;var r=Ph();(Ee!==e||Le!==t)&&(Ut=null,Yn(e,t));do try{ev();break}catch(o){Th(e,o)}while(1);if(Mc(),ie=n,wi.current=r,be!==null)throw Error($(261));return Ee=null,Le=0,Se}function ev(){for(;be!==null;)Rh(be)}function tv(){for(;be!==null&&!Cg();)Rh(be)}function Rh(e){var t=Fh(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?Ah(e):be=t,$c.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kx(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,be=null;return}}else if(n=Qx(n,t,Ye),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Se===0&&(Se=5)}function Bn(e,t,n){var r=ae,o=ut.transition;try{ut.transition=null,ae=1,nv(e,t,n,r)}finally{ut.transition=o,ae=r}return null}function nv(e,t,n,r){do Rr();while(yn!==null);if(ie&6)throw Error($(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Dg(e,i),e===Ee&&(be=Ee=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||To||(To=!0,Dh(si,function(){return Rr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var l=ae;ae=1;var a=ie;ie|=4,$c.current=null,Yx(e,n),Eh(n,e),jx(pa),ii=!!ha,pa=ha=null,e.current=n,Xx(n),Eg(),ie=a,ae=l,ut.transition=i}else e.current=n;if(To&&(To=!1,yn=e,ji=o),i=e.pendingLanes,i===0&&(Sn=null),Tg(n.stateNode),Ke(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(bi)throw bi=!1,e=Fa,Fa=null,e;return ji&1&&e.tag!==0&&Rr(),i=e.pendingLanes,i&1?e===Da?As++:(As=0,Da=e):As=0,On(),null}function Rr(){if(yn!==null){var e=mm(ji),t=ut.transition,n=ae;try{if(ut.transition=null,ae=16>e?16:e,yn===null)var r=!1;else{if(e=yn,yn=null,ji=0,ie&6)throw Error($(331));var o=ie;for(ie|=4,K=e.current;K!==null;){var i=K,l=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Ps(8,h,i)}var g=h.child;if(g!==null)g.return=h,K=g;else for(;K!==null;){h=K;var f=h.sibling,b=h.return;if(Nh(h),h===u){K=null;break}if(f!==null){f.return=b,K=f;break}K=b}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}K=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,K=l;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ps(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var d=e.current;for(K=d;K!==null;){l=K;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,K=p;else e:for(l=d;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wi(9,a)}}catch(y){xe(a,a.return,y)}if(a===l){K=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,K=N;break e}K=a.return}}if(ie=o,On(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Oi,e)}catch{}r=!0}return r}finally{ae=n,ut.transition=t}}return!1}function jd(e,t,n){t=Kr(n,t),t=mh(e,t,1),e=Nn(e,t,1),t=$e(),e!==null&&(so(e,1,t),Ke(e,t))}function xe(e,t,n){if(e.tag===3)jd(e,e,n);else for(;t!==null;){if(t.tag===3){jd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=Kr(n,e),e=hh(t,e,1),t=Nn(t,e,1),e=$e(),t!==null&&(so(t,1,e),Ke(t,e));break}}t=t.return}}function rv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Le&n)===n&&(Se===4||Se===3&&(Le&130023424)===Le&&500>ve()-Hc?Yn(e,0):Wc|=n),Ke(e,t)}function Oh(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var n=$e();e=Jt(e,t),e!==null&&(so(e,t,n),Ke(e,n))}function sv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Oh(e,n)}function ov(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),Oh(e,n)}var Fh;Fh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,Gx(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,fe&&t.flags&1048576&&zm(t,mi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ko(e,t),e=t.pendingProps;var o=Ur(t,Ie.current);Pr(t,n),o=Dc(null,t,r,e,o,n);var i=Ic();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(i=!0,di(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Pc(t),o.updater=$i,t.stateNode=o,o._reactInternals=t,Na(t,r,e,n),t=Ea(null,t,r,!0,i,n)):(t.tag=0,fe&&i&&Nc(t),ze(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=lv(r),e=gt(r,e),o){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=fd(null,t,r,e,n);break e;case 11:t=ud(null,t,r,e,n);break e;case 14:t=dd(null,t,r,gt(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Ca(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),fd(e,t,r,o,n);case 3:e:{if(vh(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Vm(e,t),gi(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Kr(Error($(423)),t),t=md(e,t,r,n,o);break e}else if(r!==o){o=Kr(Error($(424)),t),t=md(e,t,r,n,o);break e}else for(Je=kn(t.stateNode.containerInfo.firstChild),Ze=t,fe=!0,bt=null,n=Hm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===o){t=Zt(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return Gm(t),e===null&&ba(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,ga(r,o)?l=null:i!==null&&ga(r,i)&&(t.flags|=32),xh(e,t),ze(e,t,l,n),t.child;case 6:return e===null&&ba(t),null;case 13:return yh(e,t,n);case 4:return Rc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gr(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),ud(e,t,r,o,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,ce(hi,r._currentValue),r._currentValue=l,i!==null)if(St(i.value,l)){if(i.children===o.children&&!Ge.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ja(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error($(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),ja(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ze(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pr(t,n),o=dt(o),r=r(o),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,o=gt(r,t.pendingProps),o=gt(r.type,o),dd(e,t,r,o,n);case 15:return ph(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Ko(e,t),t.tag=1,Qe(r)?(e=!0,di(t)):e=!1,Pr(t,n),fh(t,r,o),Na(t,r,o,n),Ea(null,t,r,!0,e,n);case 19:return wh(e,t,n);case 22:return gh(e,t,n)}throw Error($(156,t.tag))};function Dh(e,t){return cm(e,t)}function iv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new iv(e,t,n,r)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lv(e){if(typeof e=="function")return Qc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fc)return 11;if(e===mc)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xo(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")Qc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case gr:return Xn(n.children,o,i,t);case dc:l=8,o|=8;break;case Kl:return e=ct(12,n,t,o|2),e.elementType=Kl,e.lanes=i,e;case ql:return e=ct(13,n,t,o),e.elementType=ql,e.lanes=i,e;case Yl:return e=ct(19,n,t,o),e.elementType=Yl,e.lanes=i,e;case Gf:return Ui(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uf:l=10;break e;case Vf:l=9;break e;case fc:l=11;break e;case mc:l=14;break e;case cn:l=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=ct(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Xn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Ui(e,t,n,r){return e=ct(22,e,r,t),e.elementType=Gf,e.lanes=n,e.stateNode={isHidden:!1},e}function Pl(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Rl(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function av(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r,o,i,l,a,c){return e=new av(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(i),e}function cv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ih(e){if(!e)return Ln;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Qe(n))return Im(e,n,t)}return t}function _h(e,t,n,r,o,i,l,a,c){return e=Kc(n,r,!0,e,o,i,l,a,c),e.context=Ih(null),n=e.current,r=$e(),o=Cn(n),i=qt(r,o),i.callback=t??null,Nn(n,i,o),e.current.lanes=o,so(e,o,r),Ke(e,r),e}function Vi(e,t,n,r){var o=t.current,i=$e(),l=Cn(o);return n=Ih(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nn(o,t,l),e!==null&&(kt(e,o,l,i),Vo(e,o,l)),l}function Ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qc(e,t){kd(e,t),(e=e.alternate)&&kd(e,t)}function uv(){return null}var zh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}Gi.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Vi(e,t,null,null)};Gi.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){Vi(null,e,null,null)}),t[Xt]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=gm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&vm(e)}};function Xc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nd(){}function dv(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Ni(l);i.call(u)}}var l=_h(t,r,e,0,null,!1,!1,"",Nd);return e._reactRootContainer=l,e[Xt]=l.current,Ws(e.nodeType===8?e.parentNode:e),nr(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=Ni(c);a.call(u)}}var c=Kc(e,0,!1,null,null,!1,!1,"",Nd);return e._reactRootContainer=c,e[Xt]=c.current,Ws(e.nodeType===8?e.parentNode:e),nr(function(){Vi(t,c,n,r)}),c}function Ki(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var a=o;o=function(){var c=Ni(l);a.call(c)}}Vi(t,l,e,o)}else l=dv(n,t,e,o,r);return Ni(l)}hm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=js(t.pendingLanes);n!==0&&(gc(t,n|1),Ke(t,ve()),!(ie&6)&&(qr=ve()+500,On()))}break;case 13:nr(function(){var r=Jt(e,1);if(r!==null){var o=$e();kt(r,e,1,o)}}),qc(e,1)}};xc=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var n=$e();kt(t,e,134217728,n)}qc(e,134217728)}};pm=function(e){if(e.tag===13){var t=Cn(e),n=Jt(e,t);if(n!==null){var r=$e();kt(n,e,t,r)}qc(e,t)}};gm=function(){return ae};xm=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};ia=function(e,t,n){switch(t){case"input":if(Zl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=_i(r);if(!o)throw Error($(90));Kf(r),Zl(r,o)}}}break;case"textarea":Yf(e,n);break;case"select":t=n.value,t!=null&&Er(e,!!n.multiple,t,!1)}};rm=Uc;sm=nr;var fv={usingClientEntryPoint:!1,Events:[io,wr,_i,tm,nm,Uc]},xs={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mv={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lm(e),e===null?null:e.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Oi=Po.inject(mv),Dt=Po}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fv;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xc(t))throw Error($(200));return cv(e,t,null,n)};nt.createRoot=function(e,t){if(!Xc(e))throw Error($(299));var n=!1,r="",o=zh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Kc(e,1,!1,null,null,n,!1,r,o),e[Xt]=t.current,Ws(e.nodeType===8?e.parentNode:e),new Yc(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=lm(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return nr(e)};nt.hydrate=function(e,t,n){if(!Qi(t))throw Error($(200));return Ki(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=zh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=_h(t,null,e,1,n??null,o,!1,i,l),e[Xt]=t.current,Ws(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gi(t)};nt.render=function(e,t,n){if(!Qi(t))throw Error($(200));return Ki(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Qi(e))throw Error($(40));return e._reactRootContainer?(nr(function(){Ki(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};nt.unstable_batchedUpdates=Uc;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qi(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Ki(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function Bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bh)}catch(e){console.error(e)}}Bh(),Bf.exports=nt;var ts=Bf.exports;const hv=Mf(ts);var Sd=ts;Gl.createRoot=Sd.createRoot,Gl.hydrateRoot=Sd.hydrateRoot;var qi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yi=typeof window>"u"||"Deno"in globalThis;function xt(){}function pv(e,t){return typeof e=="function"?e(t):e}function gv(e){return typeof e=="number"&&e>=0&&e!==1/0}function xv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function za(e,t){return typeof e=="function"?e(t):e}function vv(e,t){return typeof e=="function"?e(t):e}function Cd(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:l,stale:a}=e;if(l){if(r){if(t.queryHash!==Jc(l,t.options))return!1}else if(!Js(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||o&&o!==t.state.fetchStatus||i&&!i(t))}function Ed(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Xs(t.options.mutationKey)!==Xs(i))return!1}else if(!Js(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function Jc(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xs)(e)}function Xs(e){return JSON.stringify(e,(t,n)=>Ba(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Js(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Js(e[n],t[n])):!1}function $h(e,t){if(e===t)return e;const n=Md(e)&&Md(t);if(n||Ba(e)&&Ba(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),l=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<l;h++){const g=n?h:i[h];(!n&&c.has(g)||n)&&e[g]===void 0&&t[g]===void 0?(a[g]=void 0,u++):(a[g]=$h(e[g],t[g]),a[g]===e[g]&&e[g]!==void 0&&u++)}return o===l&&u===o?e:a}return t}function Md(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ba(e){if(!Ld(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ld(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ld(e){return Object.prototype.toString.call(e)==="[object Object]"}function yv(e){return new Promise(t=>{setTimeout(t,e)})}function wv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$h(e,t):t}function bv(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function jv(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Zc=Symbol();function Wh(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Zc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Un,mn,Fr,wf,kv=(wf=class extends qi{constructor(){super();le(this,Un,void 0);le(this,mn,void 0);le(this,Fr,void 0);re(this,Fr,t=>{if(!Yi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,mn)||this.setEventListener(D(this,Fr))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,mn))==null||t.call(this),re(this,mn,void 0))}setEventListener(t){var n;re(this,Fr,t),(n=D(this,mn))==null||n.call(this),re(this,mn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){D(this,Un)!==t&&(re(this,Un,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,Un)=="boolean"?D(this,Un):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Un=new WeakMap,mn=new WeakMap,Fr=new WeakMap,wf),Hh=new kv,Dr,hn,Ir,bf,Nv=(bf=class extends qi{constructor(){super();le(this,Dr,!0);le(this,hn,void 0);le(this,Ir,void 0);re(this,Ir,t=>{if(!Yi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,hn)||this.setEventListener(D(this,Ir))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,hn))==null||t.call(this),re(this,hn,void 0))}setEventListener(t){var n;re(this,Ir,t),(n=D(this,hn))==null||n.call(this),re(this,hn,t(this.setOnline.bind(this)))}setOnline(t){D(this,Dr)!==t&&(re(this,Dr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return D(this,Dr)}},Dr=new WeakMap,hn=new WeakMap,Ir=new WeakMap,bf),Si=new Nv;function Sv(){let e,t;const n=new Promise((o,i)=>{e=o,t=i});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function Cv(e){return Math.min(1e3*2**e,3e4)}function Uh(e){return(e??"online")==="online"?Si.isOnline():!0}var Vh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Al(e){return e instanceof Vh}function Gh(e){let t=!1,n=0,r=!1,o;const i=Sv(),l=x=>{var k;r||(f(new Vh(x)),(k=e.abort)==null||k.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Hh.isFocused()&&(e.networkMode==="always"||Si.isOnline())&&e.canRun(),h=()=>Uh(e.networkMode)&&e.canRun(),g=x=>{var k;r||(r=!0,(k=e.onSuccess)==null||k.call(e,x),o==null||o(),i.resolve(x))},f=x=>{var k;r||(r=!0,(k=e.onError)==null||k.call(e,x),o==null||o(),i.reject(x))},b=()=>new Promise(x=>{var k;o=v=>{(r||u())&&x(v)},(k=e.onPause)==null||k.call(e)}).then(()=>{var x;o=void 0,r||(x=e.onContinue)==null||x.call(e)}),w=()=>{if(r)return;let x;const k=n===0?e.initialPromise:void 0;try{x=k??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(g).catch(v=>{var E;if(r)return;const d=e.retry??(Yi?0:3),p=e.retryDelay??Cv,N=typeof p=="function"?p(n,v):p,y=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,v);if(t||!y){f(v);return}n++,(E=e.onFail)==null||E.call(e,n,v),yv(N).then(()=>u()?void 0:b()).then(()=>{t?f(v):w()})})};return{promise:i,cancel:l,continue:()=>(o==null||o(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?w():b().then(w),i)}}var Ev=e=>setTimeout(e,0);function Mv(){let e=[],t=0,n=a=>{a()},r=a=>{a()},o=Ev;const i=a=>{t?e.push(a):o(()=>{n(a)})},l=()=>{const a=e;e=[],a.length&&o(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||l()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{o=a}}}var Be=Mv(),Vn,jf,Qh=(jf=class{constructor(){le(this,Vn,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gv(this.gcTime)&&re(this,Vn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yi?1/0:5*60*1e3))}clearGcTimeout(){D(this,Vn)&&(clearTimeout(D(this,Vn)),re(this,Vn,void 0))}},Vn=new WeakMap,jf),_r,Gn,ot,Qn,Fe,to,Kn,vt,Ht,kf,Lv=(kf=class extends Qh{constructor(t){super();le(this,vt);le(this,_r,void 0);le(this,Gn,void 0);le(this,ot,void 0);le(this,Qn,void 0);le(this,Fe,void 0);le(this,to,void 0);le(this,Kn,void 0);re(this,Kn,!1),re(this,to,t.defaultOptions),this.setOptions(t.options),this.observers=[],re(this,Qn,t.client),re(this,ot,D(this,Qn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,re(this,_r,Pv(this.options)),this.state=t.state??D(this,_r),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Fe))==null?void 0:t.promise}setOptions(t){this.options={...D(this,to),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,ot).remove(this)}setData(t,n){const r=wv(this.state.data,t,this.options);return Re(this,vt,Ht).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Re(this,vt,Ht).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=D(this,Fe))==null?void 0:r.promise;return(o=D(this,Fe))==null||o.cancel(t),n?n.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,_r))}isActive(){return this.observers.some(t=>vv(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>za(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!xv(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Fe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Fe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,ot).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(D(this,Fe)&&(D(this,Kn)?D(this,Fe).cancel({revert:!0}):D(this,Fe).cancelRetry()),this.scheduleGc()),D(this,ot).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,vt,Ht).call(this,{type:"invalidate"})}fetch(t,n){var u,h,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Fe))return D(this,Fe).continueRetry(),D(this,Fe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(b=>b.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(re(this,Kn,!0),r.signal)})},i=()=>{const f=Wh(this.options,n),w=(()=>{const x={client:D(this,Qn),queryKey:this.queryKey,meta:this.meta};return o(x),x})();return re(this,Kn,!1),this.options.persister?this.options.persister(f,w,this):f(w)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,Qn),state:this.state,fetchFn:i};return o(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),re(this,Gn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Re(this,vt,Ht).call(this,{type:"fetch",meta:(g=a.fetchOptions)==null?void 0:g.meta});const c=f=>{var b,w,x,k;Al(f)&&f.silent||Re(this,vt,Ht).call(this,{type:"error",error:f}),Al(f)||((w=(b=D(this,ot).config).onError)==null||w.call(b,f,this),(k=(x=D(this,ot).config).onSettled)==null||k.call(x,this.state.data,f,this)),this.scheduleGc()};return re(this,Fe,Gh({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var b,w,x,k;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){c(v);return}(w=(b=D(this,ot).config).onSuccess)==null||w.call(b,f,this),(k=(x=D(this,ot).config).onSettled)==null||k.call(x,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,b)=>{Re(this,vt,Ht).call(this,{type:"failed",failureCount:f,error:b})},onPause:()=>{Re(this,vt,Ht).call(this,{type:"pause"})},onContinue:()=>{Re(this,vt,Ht).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),D(this,Fe).start()}},_r=new WeakMap,Gn=new WeakMap,ot=new WeakMap,Qn=new WeakMap,Fe=new WeakMap,to=new WeakMap,Kn=new WeakMap,vt=new WeakSet,Ht=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Tv(r.data,this.options),fetchMeta:t.meta??null};case"success":return re(this,Gn,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Al(o)&&o.revert&&D(this,Gn)?{...D(this,Gn),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Be.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,ot).notify({query:this,type:"updated",action:t})})},kf);function Tv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uh(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Pv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tt,Nf,Rv=(Nf=class extends qi{constructor(t={}){super();le(this,Tt,void 0);this.config=t,re(this,Tt,new Map)}build(t,n,r){const o=n.queryKey,i=n.queryHash??Jc(o,n);let l=this.get(i);return l||(l=new Lv({client:t,queryKey:o,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(l)),l}add(t){D(this,Tt).has(t.queryHash)||(D(this,Tt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,Tt).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,Tt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Be.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,Tt).get(t)}getAll(){return[...D(this,Tt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Cd(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Cd(t,r)):n}notify(t){Be.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Be.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Be.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tt=new WeakMap,Nf),Pt,_e,qn,Rt,ln,Sf,Av=(Sf=class extends Qh{constructor(t){super();le(this,Rt);le(this,Pt,void 0);le(this,_e,void 0);le(this,qn,void 0);this.mutationId=t.mutationId,re(this,_e,t.mutationCache),re(this,Pt,[]),this.state=t.state||Ov(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Pt).includes(t)||(D(this,Pt).push(t),this.clearGcTimeout(),D(this,_e).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){re(this,Pt,D(this,Pt).filter(n=>n!==t)),this.scheduleGc(),D(this,_e).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Pt).length||(this.state.status==="pending"?this.scheduleGc():D(this,_e).remove(this))}continue(){var t;return((t=D(this,qn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,a,c,u,h,g,f,b,w,x,k,v,d,p,N,y,E,j,M;const n=()=>{Re(this,Rt,ln).call(this,{type:"continue"})};re(this,qn,Gh({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,z)=>{Re(this,Rt,ln).call(this,{type:"failed",failureCount:I,error:z})},onPause:()=>{Re(this,Rt,ln).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,_e).canRun(this)}));const r=this.state.status==="pending",o=!D(this,qn).canStart();try{if(r)n();else{Re(this,Rt,ln).call(this,{type:"pending",variables:t,isPaused:o}),await((l=(i=D(this,_e).config).onMutate)==null?void 0:l.call(i,t,this));const z=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));z!==this.state.context&&Re(this,Rt,ln).call(this,{type:"pending",context:z,variables:t,isPaused:o})}const I=await D(this,qn).start();return await((h=(u=D(this,_e).config).onSuccess)==null?void 0:h.call(u,I,t,this.state.context,this)),await((f=(g=this.options).onSuccess)==null?void 0:f.call(g,I,t,this.state.context)),await((w=(b=D(this,_e).config).onSettled)==null?void 0:w.call(b,I,null,this.state.variables,this.state.context,this)),await((k=(x=this.options).onSettled)==null?void 0:k.call(x,I,null,t,this.state.context)),Re(this,Rt,ln).call(this,{type:"success",data:I}),I}catch(I){try{throw await((d=(v=D(this,_e).config).onError)==null?void 0:d.call(v,I,t,this.state.context,this)),await((N=(p=this.options).onError)==null?void 0:N.call(p,I,t,this.state.context)),await((E=(y=D(this,_e).config).onSettled)==null?void 0:E.call(y,void 0,I,this.state.variables,this.state.context,this)),await((M=(j=this.options).onSettled)==null?void 0:M.call(j,void 0,I,t,this.state.context)),I}finally{Re(this,Rt,ln).call(this,{type:"error",error:I})}}finally{D(this,_e).runNext(this)}}},Pt=new WeakMap,_e=new WeakMap,qn=new WeakMap,Rt=new WeakSet,ln=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Be.batch(()=>{D(this,Pt).forEach(r=>{r.onMutationUpdate(t)}),D(this,_e).notify({mutation:this,type:"updated",action:t})})},Sf);function Ov(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gt,yt,no,Cf,Fv=(Cf=class extends qi{constructor(t={}){super();le(this,Gt,void 0);le(this,yt,void 0);le(this,no,void 0);this.config=t,re(this,Gt,new Set),re(this,yt,new Map),re(this,no,0)}build(t,n,r){const o=new Av({mutationCache:this,mutationId:++ho(this,no)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){D(this,Gt).add(t);const n=Ro(t);if(typeof n=="string"){const r=D(this,yt).get(n);r?r.push(t):D(this,yt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,Gt).delete(t)){const n=Ro(t);if(typeof n=="string"){const r=D(this,yt).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&D(this,yt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ro(t);if(typeof n=="string"){const r=D(this,yt).get(n),o=r==null?void 0:r.find(i=>i.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=Ro(t);if(typeof n=="string"){const o=(r=D(this,yt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Be.batch(()=>{D(this,Gt).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,Gt).clear(),D(this,yt).clear()})}getAll(){return Array.from(D(this,Gt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ed(n,r))}findAll(t={}){return this.getAll().filter(n=>Ed(t,n))}notify(t){Be.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Be.batch(()=>Promise.all(t.map(n=>n.continue().catch(xt))))}},Gt=new WeakMap,yt=new WeakMap,no=new WeakMap,Cf);function Ro(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Td(e){return{onFetch:(t,n)=>{var h,g,f,b,w;const r=t.options,o=(f=(g=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:g.fetchMore)==null?void 0:f.direction,i=((b=t.state.data)==null?void 0:b.pages)||[],l=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const k=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=Wh(t.options,t.fetchOptions),d=async(p,N,y)=>{if(x)return Promise.reject();if(N==null&&p.pages.length)return Promise.resolve(p);const j=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:N,direction:y?"backward":"forward",meta:t.options.meta};return k(R),R})(),M=await v(j),{maxPages:I}=t.options,z=y?jv:bv;return{pages:z(p.pages,M,I),pageParams:z(p.pageParams,N,I)}};if(o&&i.length){const p=o==="backward",N=p?Dv:Pd,y={pages:i,pageParams:l},E=N(r,y);a=await d(y,E,p)}else{const p=e??i.length;do{const N=c===0?l[0]??r.initialPageParam:Pd(r,a);if(c>0&&N==null)break;a=await d(a,N),c++}while(c<p)}return a};t.options.persister?t.fetchFn=()=>{var x,k;return(k=(x=t.options).persister)==null?void 0:k.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Pd(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Dv(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ge,pn,gn,zr,Br,xn,$r,Wr,Ef,Iv=(Ef=class{constructor(e={}){le(this,ge,void 0);le(this,pn,void 0);le(this,gn,void 0);le(this,zr,void 0);le(this,Br,void 0);le(this,xn,void 0);le(this,$r,void 0);le(this,Wr,void 0);re(this,ge,e.queryCache||new Rv),re(this,pn,e.mutationCache||new Fv),re(this,gn,e.defaultOptions||{}),re(this,zr,new Map),re(this,Br,new Map),re(this,xn,0)}mount(){ho(this,xn)._++,D(this,xn)===1&&(re(this,$r,Hh.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,ge).onFocus())})),re(this,Wr,Si.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,ge).onOnline())})))}unmount(){var e,t;ho(this,xn)._--,D(this,xn)===0&&((e=D(this,$r))==null||e.call(this),re(this,$r,void 0),(t=D(this,Wr))==null||t.call(this),re(this,Wr,void 0))}isFetching(e){return D(this,ge).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,pn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,ge).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=D(this,ge).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(za(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return D(this,ge).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=D(this,ge).get(r.queryHash),i=o==null?void 0:o.state.data,l=pv(t,i);if(l!==void 0)return D(this,ge).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Be.batch(()=>D(this,ge).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,ge).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=D(this,ge);Be.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=D(this,ge);return Be.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Be.batch(()=>D(this,ge).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(xt).catch(xt)}invalidateQueries(e,t={}){return Be.batch(()=>(D(this,ge).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Be.batch(()=>D(this,ge).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let i=o.fetch(void 0,n);return n.throwOnError||(i=i.catch(xt)),o.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=D(this,ge).build(this,t);return n.isStaleByTime(za(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xt).catch(xt)}fetchInfiniteQuery(e){return e.behavior=Td(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xt).catch(xt)}ensureInfiniteQueryData(e){return e.behavior=Td(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Si.isOnline()?D(this,pn).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,ge)}getMutationCache(){return D(this,pn)}getDefaultOptions(){return D(this,gn)}setDefaultOptions(e){re(this,gn,e)}setQueryDefaults(e,t){D(this,zr).set(Xs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,zr).values()],n={};return t.forEach(r=>{Js(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){D(this,Br).set(Xs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,Br).values()],n={};return t.forEach(r=>{Js(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,gn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Zc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,gn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,ge).clear(),D(this,pn).clear()}},ge=new WeakMap,pn=new WeakMap,gn=new WeakMap,zr=new WeakMap,Br=new WeakMap,xn=new WeakMap,$r=new WeakMap,Wr=new WeakMap,Ef),_v=m.createContext(void 0),zv=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(_v.Provider,{value:e,children:t}));function Bv(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,l=[],a="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)n=o[0],n==="*"?(l.push(n),a+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=o.indexOf("?",1),i=o.indexOf(".",1),l.push(o.substring(1,~r?r:~i?i:o.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+o.substring(i))):a+="/"+o;return{keys:l,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Kh={exports:{}},qh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=m;function $v(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wv=typeof Object.is=="function"?Object.is:$v,Hv=Yr.useState,Uv=Yr.useEffect,Vv=Yr.useLayoutEffect,Gv=Yr.useDebugValue;function Qv(e,t){var n=t(),r=Hv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Vv(function(){o.value=n,o.getSnapshot=t,Ol(o)&&i({inst:o})},[e,n,t]),Uv(function(){return Ol(o)&&i({inst:o}),e(function(){Ol(o)&&i({inst:o})})},[e]),Gv(n),n}function Ol(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wv(e,n)}catch{return!0}}function Kv(e,t){return t()}var qv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kv:Qv;qh.useSyncExternalStore=Yr.useSyncExternalStore!==void 0?Yr.useSyncExternalStore:qv;Kh.exports=qh;var Yv=Kh.exports;const Xv=lc["useInsertionEffect"],Jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zv=Jv?m.useLayoutEffect:m.useEffect,ey=Xv||Zv,Yh=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return ey(()=>{t[0]=e}),t[1]},ty="popstate",eu="pushState",tu="replaceState",ny="hashchange",Rd=[ty,eu,tu,ny],ry=e=>{for(const t of Rd)addEventListener(t,e);return()=>{for(const t of Rd)removeEventListener(t,e)}},Xh=(e,t)=>Yv.useSyncExternalStore(ry,e,t),sy=()=>location.search,oy=({ssrSearch:e=""}={})=>Xh(sy,()=>e),Ad=()=>location.pathname,iy=({ssrPath:e}={})=>Xh(Ad,e?()=>e:Ad),ly=(e,{replace:t=!1,state:n=null}={})=>history[t?tu:eu](n,"",e),ay=(e={})=>[iy(e),ly],Od=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Od]>"u"){for(const e of[eu,tu]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Od,{value:!0})}const cy=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Jh=(e="")=>e==="/"?"":e,uy=(e,t)=>e[0]==="~"?e.slice(1):Jh(t)+e,dy=(e="",t)=>cy(Fd(Jh(e)),Fd(t)),Fd=e=>{try{return decodeURI(e)}catch{return e}},Zh={hook:ay,searchHook:oy,parser:Bv,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},ep=m.createContext(Zh),ao=()=>m.useContext(ep),tp={},np=m.createContext(tp),fy=()=>m.useContext(np),Xi=e=>{const[t,n]=e.hook(e);return[dy(e.base,t),Yh((r,o)=>n(uy(r,e.base),o))]},Ji=()=>Xi(ao()),rp=(e,t,n,r)=>{const{pattern:o,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),l=o.exec(n)||[],[a,...c]=l;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((g,f)=>[g,c[f]])):l.groups;let h={...c};return u&&Object.assign(h,u),h})(),...r?[a]:[]]:[!1,null]},sp=({children:e,...t})=>{var h,g;const n=ao(),r=t.hook?Zh:n;let o=r;const[i,l]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=i),t.hrefs=t.hrefs??((g=t.hook)==null?void 0:g.hrefs);let a=m.useRef({}),c=a.current,u=c;for(let f in r){const b=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===u&&b!==u[f]&&(a.current=u={...u}),u[f]=b,(b!==r[f]||b!==o[f])&&(o=u)}return m.createElement(ep.Provider,{value:o,children:e})},Dd=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,my=e=>{let t=m.useRef(tp);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,o])=>o!==n[r])?e:n},$t=({path:e,nest:t,match:n,...r})=>{const o=ao(),[i]=Xi(o),[l,a,c]=n??rp(o.parser,e,i,t),u=my({...fy(),...a});if(!l)return null;const h=c?m.createElement(sp,{base:c},Dd(r,u)):Dd(r,u);return m.createElement(np.Provider,{value:u,children:h})},hy=m.forwardRef((e,t)=>{const n=ao(),[r,o]=Xi(n),{to:i="",href:l=i,onClick:a,asChild:c,children:u,className:h,replace:g,state:f,...b}=e,w=Yh(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(a==null||a(k),k.defaultPrevented||(k.preventDefault(),o(l,e)))}),x=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:w,href:x}):m.createElement("a",{...b,onClick:w,href:x,className:h!=null&&h.call?h(r===l):h,children:u,ref:t})}),op=e=>Array.isArray(e)?e.flatMap(t=>op(t&&t.type===m.Fragment?t.props.children:t)):[e],py=({children:e,location:t})=>{const n=ao(),[r]=Xi(n);for(const o of op(e)){let i=0;if(m.isValidElement(o)&&(i=rp(n.parser,o.props.path,t||r,o.props.nest))[0])return m.cloneElement(o,{match:i})}return null},gy="https://myhome-cleanteam-app-production.up.railway.app",te=e=>window.location.hostname==="localhost"?e:`${gy}${e}`;function co(){const[e,t]=m.useState(null),[n,r]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await fetch(te("/api/auth/me"),{credentials:"include"});if(l.ok){const a=await l.json();t(a.data.user)}else t(null)}catch(l){console.error("Auth check failed:",l),t(null)}finally{r(!1)}};return{user:e,loading:n,logout:async()=>{try{await fetch(te("/api/auth/logout"),{method:"POST",credentials:"include"}),t(null)}catch(l){console.error("Logout failed:",l)}},checkAuth:o}}function xy(){const[e,t]=m.useState("test@example.com"),[n,r]=m.useState("password123"),[o,i]=m.useState(!1),[l,a]=m.useState(""),[,c]=Ji(),{checkAuth:u}=co(),h=async g=>{g.preventDefault(),i(!0),a("");try{const f=te("/api/auth/login");console.log("🚀 Attempting login..."),console.log("📡 URL:",f),console.log("📦 Payload:",{email:e,password:n});const b=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:n})});console.log("📊 Response status:",b.status),console.log("📋 Response headers:",Object.fromEntries(b.headers.entries()));const w=await b.json();if(console.log("📄 Response data:",w),w.success){const x=w.data.user;await u(),x.role==="admin"||x.role==="manager"?c("/admin"):c("/staff/dashboard")}else a(w.error||"Login failed")}catch(f){console.error("Login error:",f),a("Network error")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"MyHome CleanTeam"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[l&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:g=>t(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:g=>r(g.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Signing in...":"Sign in"})}),s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Quick login (for testing):"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{t("test@example.com"),r("password123")},className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Staff User"}),s.jsx("button",{type:"button",onClick:()=>{t("admin@example.com"),r("password123")},className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Admin User"})]})]})]})]})})}function vy(){const[e,t]=m.useState(null),[n,r]=m.useState(null),[o,i]=m.useState(!0);return m.useEffect(()=>{if(!navigator.geolocation){r("Geolocation not supported"),i(!1);return}const l=c=>{console.log("Geolocation success:",{latitude:c.coords.latitude,longitude:c.coords.longitude,accuracy:c.coords.accuracy+" meters",timestamp:new Date(c.timestamp).toLocaleString()}),t({latitude:c.coords.latitude,longitude:c.coords.longitude}),i(!1)},a=c=>{console.error("Geolocation error:",c),r(c.message),i(!1)};navigator.geolocation.getCurrentPosition(l,a,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},[]),{location:e,error:n,isLoading:o}}let vs=null;async function yy(){if(vs)return vs;try{const e=await fetch("/api/google-maps-api-key");if(!e.ok)throw new Error("Failed to fetch API key");return vs=(await e.json()).apiKey,console.log("Google Maps API Key loaded:",vs?"Present":"Missing"),vs||""}catch(e){return console.error("Failed to fetch Google Maps API key:",e),""}}function uo(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[o,i]=m.useState(null),[l,a]=m.useState(null);return m.useEffect(()=>{if(window.google&&window.google.maps){t(!0);return}if(n)return;if(document.querySelector('script[src*="maps.googleapis.com"]')){const h=()=>{window.google&&window.google.maps?t(!0):setTimeout(h,100)};h();return}(async()=>{r(!0),i(null);try{const h=await yy();if(!h)throw new Error("No Google Maps API key available");a(h);const g=document.createElement("script");g.src=`https://maps.googleapis.com/maps/api/js?key=${h}&libraries=places&loading=async`,g.async=!0,g.defer=!0,g.onload=()=>{console.log("Google Maps API script loaded successfully"),setTimeout(()=>{window.google&&window.google.maps?(t(!0),r(!1)):(console.error("Google Maps script loaded but API not available - may be blocked"),i("Google Maps API blocked - try disabling ad blocker"),r(!1))},1e3)},g.onerror=()=>{console.error("Google Maps API script failed to load - may be blocked by ad blocker"),i("Google Maps API blocked - try disabling ad blocker"),r(!1)},document.head.appendChild(g)}catch(h){console.error("Failed to load Google Maps:",h),i("Failed to load Google Maps API key"),r(!1)}})()},[n]),{isLoaded:e,isLoading:n,error:o,apiKey:l}}const Nt=e=>{if(!e)return"";let t=e.replace(/,?\s*Australia\s*$/i,"");t=t.replace(/,?\s*(VIC|NSW|QLD|WA|SA|TAS|NT|ACT)\s*\d{4}\s*$/i,""),t=t.replace(/,?\s*(VIC|NSW|QLD|WA|SA|TAS|NT|ACT)\s*$/i,""),t=t.replace(/,?\s*\d{4}\s*$/i,"");const n=t.split(",").map(r=>r.trim()).filter(Boolean);return n.length>=2?`${n[0]}, ${n[1]}`:t};function wy({customer:e,isOpen:t,onClose:n,onSuccess:r,allottedMinutes:o}){const[i,l]=m.useState([]),[a,c]=m.useState(null),[u,h]=m.useState([]),[g,f]=m.useState([]),[b,w]=m.useState(!1),[x,k]=m.useState(null),[v,d]=m.useState(!1),[p,N]=m.useState([]),[y,E]=m.useState([]),[j,M]=m.useState([]),[I,z]=m.useState([]),[R,U]=m.useState(e),[L,A]=m.useState(""),[V,C]=m.useState(!1);m.useRef(null);const{apiKey:O}=uo();m.useEffect(()=>{t&&(S(),e||T())},[t,e]),m.useEffect(()=>{U(e)},[e]),m.useEffect(()=>{const P=W=>{W.target.closest(".customer-search-container")||C(!1)};if(V)return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[V]),m.useEffect(()=>{a&&_(a)},[a]);const S=async()=>{try{const P=await fetch(te("/api/staff/teams"),{credentials:"include"});if(P.ok){const W=await P.json();l(W.data),W.data.length===1&&c(W.data[0].id)}}catch(P){console.error("Failed to fetch teams:",P)}},T=async()=>{try{const P=await fetch(te("/api/staff/customers"),{credentials:"include"});if(P.ok){const W=await P.json();z(W.data)}}catch(P){console.error("Failed to fetch customers:",P)}},_=async P=>{var W;try{const Z=await fetch(te(`/api/staff/teams/${P}/members`),{credentials:"include"});if(Z.ok){const je=await Z.json();h(je.data||[]),f(((W=je.data)==null?void 0:W.map(st=>st.id))||[])}}catch(Z){console.error("Failed to fetch team members:",Z)}},G=async()=>{try{const P=await fetch(te("/api/staff/teams/other-members"),{credentials:"include"});if(P.ok){const W=await P.json();N(W.data||[])}}catch(P){console.error("Failed to fetch other team members:",P)}},X=P=>{f(W=>W.includes(P)?W.filter(Z=>Z!==P):[...W,P])},F=P=>{E(W=>W.includes(P)?W.filter(Z=>Z!==P):[...W,P])},H=()=>{const P=p.filter(W=>y.includes(W.id));f(W=>[...W,...y]),M(W=>[...W,...P]),d(!1),E([])},Q=P=>{f(W=>W.filter(Z=>Z!==P)),M(W=>W.filter(Z=>Z.id!==P))},J=()=>{d(!0),G()},B=async()=>{if(!a||!R||!g.length){k("Please fill in all required fields");return}w(!0),k("");try{const P=await fetch(te("/api/staff/time-entries/clock-in"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({teamId:a,customerId:R,memberIds:g})}),W=await P.json();P.ok?(r(),n()):k(W.error||"Failed to clock in")}catch{k("Network error occurred")}finally{w(!1)}},ee=(P,W)=>`${P[0]}${W[0]}`.toUpperCase(),ne=P=>{const W=p.find(Z=>Z.id===P);if(W){const Z=i.find(je=>je.id===W.teamId);return(Z==null?void 0:Z.name)||"Unknown Team"}return""};return t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 sm:rounded-lg sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs("button",{onClick:n,className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]}),s.jsx("span",{className:"sr-only",children:"Close"})]}),s.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Clock In"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select a customer to start tracking time"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Customer"}),R?s.jsx("div",{className:"p-3 border rounded-lg bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:R.name}),s.jsx("div",{className:"text-sm text-gray-600",children:R.address?Nt(R.address):""}),o&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Allowed time target: ",s.jsxs("span",{className:"font-semibold",children:[o," min"]})]})]}),s.jsx("button",{onClick:()=>U(null),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white hover:bg-gray-50 h-9 rounded-md px-3",children:"Change"})]})}):s.jsxs("div",{className:"relative customer-search-container",children:[s.jsx("input",{type:"text",placeholder:"Search for a customer...",value:L,onChange:P=>{A(P.target.value),C(!0)},onFocus:()=>C(!0),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),V&&L&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:I.filter(P=>P.name.toLowerCase().includes(L.toLowerCase())).map(P=>s.jsxs("button",{onClick:()=>{U(P),A(""),C(!1)},className:"w-full p-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsx("div",{className:"text-sm text-gray-600",children:Nt(P.address)})]},P.id))})]})]}),R&&O&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Customer Location"]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("iframe",{width:"100%",height:"200",loading:"lazy",allowFullScreen:!0,src:`https://www.google.com/maps/embed/v1/place?key=${O}&q=${encodeURIComponent(R.address?Nt(R.address):"")}&zoom=17&maptype=roadmap`,style:{border:0}})})]}),i.length>1&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Select Team"]}),s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsx("div",{className:"space-y-3",children:i.map(P=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":a===P.id,"data-state":a===P.id?"checked":"unchecked",onClick:()=>c(P.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a===P.id?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:a===P.id&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${P.color}20`},children:s.jsx("span",{className:"text-sm font-medium",style:{color:P.color},children:P.name.split(" ").map(W=>W[0]).join("").toUpperCase()})}),s.jsx("span",{className:"text-sm font-medium",children:P.name})]})]},P.id))}),s.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Select a team to clock in with"})]})]}),a&&(u.length>0||j.length>0)&&s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("label",{className:"text-base font-medium flex items-center mb-3",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-2",children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Team Members Present"]}),u.length>0&&s.jsx("div",{className:"space-y-3 mb-4",children:u.map(P=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":g.includes(P.id),"data-state":g.includes(P.id)?"checked":"unchecked",onClick:()=>X(P.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${g.includes(P.id)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:g.includes(P.id)&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600",children:ee(P.firstName,P.lastName)})}),s.jsxs("span",{className:"text-sm font-medium",children:[P.firstName," ",P.lastName]})]})]},P.id))}),j.length>0&&s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsx("div",{className:"text-xs font-medium text-gray-600 mb-2",children:"Added from other teams:"}),j.map(P=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":g.includes(P.id),"data-state":g.includes(P.id)?"checked":"unchecked",onClick:()=>X(P.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${g.includes(P.id)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:g.includes(P.id)&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-green-600",children:ee(P.firstName,P.lastName)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"text-sm font-medium",children:[P.firstName," ",P.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:ne(P.id)})]})]}),s.jsx("button",{onClick:()=>Q(P.id),className:"text-red-500 hover:text-red-700 p-1",title:"Remove member",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]})})]},P.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Unchecked team members won't be tracked for this clean"}),s.jsx("div",{className:"mt-4 border-t pt-4",children:s.jsx("button",{onClick:J,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white hover:bg-gray-50 h-9 rounded-md px-3 w-full",children:"Add Team Member from Other Team"})})]})}),x&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:x})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:n,disabled:b,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 h-10 px-4 py-2 flex-1",children:"Cancel"}),s.jsx("button",{onClick:B,disabled:b||!a||!R,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2 flex-1",children:b?"Clocking In...":"Clock In"})]})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:s.jsxs("div",{className:"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 sm:rounded-lg sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[s.jsxs("button",{onClick:()=>d(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]}),s.jsx("span",{className:"sr-only",children:"Close"})]}),s.jsxs("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left",children:[s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Add Team Members"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Select members from other teams to include"})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Available Team Members"}),s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 max-h-60 overflow-y-auto",children:p.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No other team members available"}):s.jsx("div",{className:"space-y-3",children:p.filter(P=>!j.some(W=>W.id===P.id)).map(P=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",role:"checkbox","aria-checked":y.includes(P.id),"data-state":y.includes(P.id)?"checked":"unchecked",onClick:()=>F(P.id),className:`peer h-4 w-4 shrink-0 rounded-sm border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${y.includes(P.id)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 bg-white"}`,children:y.includes(P.id)&&s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20,6 9,17 4,12"})})}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-green-600",children:ee(P.firstName,P.lastName)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"text-sm font-medium",children:[P.firstName," ",P.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:ne(P.id)})]})]})]},P.id))})})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{onClick:()=>d(!1),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 h-10 px-4 py-2 flex-1",children:"Cancel"}),s.jsxs("button",{onClick:H,disabled:y.length===0,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2 flex-1",children:["Add Selected (",y.length,")"]})]})]})})]}):null}function by({isOpen:e,onClose:t,onSuccess:n}){const[r,o]=m.useState(!1),[i,l]=m.useState(!1),[a,c]=m.useState(null),[u,h]=m.useState(null),[g,f]=m.useState(!1),[b,w]=m.useState([]);m.useEffect(()=>{e&&x()},[e]);const x=async()=>{try{const d=await fetch(te("/api/staff/time-entries/current"),{credentials:"include"});if(d.ok){const p=await d.json();p.success&&p.data&&(h(p.data),w(p.data.members.map(N=>N.id)))}}catch(d){console.error("Failed to fetch current clean info:",d)}},k=d=>{w(p=>p.includes(d)?p.filter(N=>N!==d):[...p,d])},v=async()=>{if(u){l(!0),c(null);try{const d=await fetch(te("/api/staff/time-entries/clock-out"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lunchBreak:r,clockOutAllMembers:b.length===u.members.length,selectedMemberIds:b})}),p=await d.json();d.ok?(n(),t()):c(p.error||"Failed to end clean")}catch{c("Network error occurred")}finally{l(!1)}}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"End Clean"}),u?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:u.teamColor}}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:u.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(u.customerAddress)}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Team: ",u.teamName]})]})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Started: ",new Date(u.clockInTime).toLocaleString()]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Team Members"}),s.jsxs("button",{onClick:()=>f(!g),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),g?"Done":"Edit"]})]}),s.jsx("div",{className:"space-y-2",children:u.members.map(d=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[g&&s.jsx("input",{type:"checkbox",checked:b.includes(d.id),onChange:()=>k(d.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600",children:d.name.split(" ").map(p=>p[0]).join("").toUpperCase()})}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"text-sm font-medium",children:d.name})})]},d.id))}),g&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Uncheck team members you don't want to end the clean for. All members are selected by default."})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading clean information..."})}),a&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:a})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:t,disabled:i,className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:v,disabled:i||!u||b.length===0,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 disabled:opacity-50",children:i?"Ending Clean...":`End Clean (${b.length} Member${b.length!==1?"s":""})`})]})]})}):null}const nu=e=>{const t=e.replace(/\D/g,"");return t.length<=4?t:t.length<=7?`${t.slice(0,4)} ${t.slice(4)}`:`${t.slice(0,4)} ${t.slice(4,7)} ${t.slice(7,10)}`};function jy({address:e,className:t="",isBackground:n=!1}){const[r,o]=m.useState(null),[i,l]=m.useState(!0),[a,c]=m.useState(!1),{isLoaded:u,apiKey:h}=uo();return m.useEffect(()=>{e&&u&&h&&(async()=>{var f,b;try{if(l(!0),c(!1),!u||!((b=(f=window.google)==null?void 0:f.maps)!=null&&b.Geocoder)||!h){console.error("Google Maps Geocoder not available or API key missing"),c(!0);return}new window.google.maps.Geocoder().geocode({address:e+", Australia"},(x,k)=>{if(k==="OK"&&x[0]){const v=x[0].geometry.location,d=v.lat(),p=v.lng(),N=`https://maps.googleapis.com/maps/api/streetview?size=400x240&location=${d},${p}&key=${h}&pitch=0&fov=90`,y=new Image;y.onload=()=>{o(N)},y.onerror=()=>{console.log("Street View not available, using map preview");const E=`https://maps.googleapis.com/maps/api/staticmap?center=${d},${p}&zoom=16&size=400x240&markers=color:red%7C${d},${p}&key=${h}`;o(E)},y.src=N}else console.error("Geocoding failed:",k),c(!0);l(!1)})}catch(w){console.error("Geocoding error for street view:",w),c(!0),l(!1)}})()},[e,u,h]),i?s.jsx("div",{className:`${t} bg-gray-100 flex items-center justify-center`,children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):a||!r?s.jsx("div",{className:`${t} bg-gray-100 flex items-center justify-center`,children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("div",{className:"text-xs",children:"Location preview unavailable"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Street View API may not be enabled"})]})}):n?s.jsx("div",{className:`${t} bg-cover bg-center`,style:{backgroundImage:`url(${r})`,backgroundPosition:"center center",minHeight:"200px"}}):s.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:`${t} block w-full h-full cursor-pointer hover:opacity-90 transition-opacity duration-200`,title:"Click to view larger street view",children:[s.jsx("img",{src:r,alt:`Street view of ${e}`,className:"w-full h-full object-cover",onError:g=>{g.currentTarget.style.display="none",g.currentTarget.parentElement.style.display="none"}}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded-full",children:[s.jsx("svg",{className:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View"]})]})}const ky=[{min:0,max:199,minutes:90},{min:200,max:299,minutes:120},{min:300,max:399,minutes:150},{min:400,max:499,minutes:180},{min:500,max:999999,minutes:240}];function Ny(e){if(!e)return;const t=typeof e=="string"?parseFloat(e):e,n=ky.find(r=>t>=r.min&&t<=r.max);return n?n.minutes:void 0}function Sy(){const{user:e,loading:t,logout:n}=co(),[,r]=Ji(),{location:o,error:i,isLoading:l}=vy(),[a,c]=m.useState(null),[u,h]=m.useState([]),[g,f]=m.useState(5e4),[b,w]=m.useState([]),[x,k]=m.useState(0),[v,d]=m.useState(!1),[p,N]=m.useState(!1),[y,E]=m.useState(null),j=m.useRef(null);m.useEffect(()=>{if(!t){if(!e){r("/login");return}M()}},[e,t,r]),m.useEffect(()=>{o&&I()},[o]),m.useEffect(()=>(j.current&&(clearInterval(j.current),j.current=null),a&&(j.current=setInterval(()=>{z()},3e4)),()=>{j.current&&(clearInterval(j.current),j.current=null)}),[a==null?void 0:a.id]),m.useEffect(()=>{if(a){const F=window.setInterval(()=>{const H=new Date().getTime(),Q=new Date(a.clockInTime).getTime();k(Math.floor((H-Q)/1e3))},1e3);return()=>{window.clearInterval(F)}}},[a]);const M=async()=>{try{const[F,H]=await Promise.all([fetch(te("/api/staff/active-job"),{credentials:"include"}),fetch(te("/api/staff/completed-today"),{credentials:"include"})]);if(F.ok){const Q=await F.json();c(Q.data)}if(H.ok){const Q=await H.json();w(Q.data)}}catch(F){console.error("Failed to fetch data:",F)}},I=async()=>{if(o)try{const F=await fetch(te("/api/staff/customers"),{credentials:"include"});if(F.ok){const H=await F.json();console.log("Staff Dashboard: Received",H.data.length,"customers with coordinates"),h(H.data),f(H.radiusMeters||5e4)}}catch(F){console.error("Failed to fetch customers:",F)}},z=async()=>{try{const F=await fetch(te("/api/staff/active-job"),{credentials:"include"});if(F.ok){const H=await F.json();c(H.data)}}catch(F){console.error("Failed to fetch active job:",F)}},R=F=>{if(!o)return null;const H=parseFloat(F.latitude),Q=parseFloat(F.longitude);if(isNaN(H)||isNaN(Q))return console.warn("Invalid coordinates for customer:",F.name,F.latitude,F.longitude),null;const J=6371e3,B=o.latitude*Math.PI/180,ee=H*Math.PI/180,ne=(H-o.latitude)*Math.PI/180,P=(Q-o.longitude)*Math.PI/180,W=Math.sin(ne/2)*Math.sin(ne/2)+Math.cos(B)*Math.cos(ee)*Math.sin(P/2)*Math.sin(P/2),Z=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return Math.round(J*Z)},U=F=>{const H=Math.floor(F/3600),Q=Math.floor(F%3600/60),J=F%60;return`${H.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},L=F=>F<1e3?`${F}m`:`${(F/1e3).toFixed(1)}km`,A=()=>a?x>a.allottedMinutes*60:!1,V=F=>{E(F),d(!0)},C=()=>{E(null),d(!0)},O=()=>{N(!0)},S=()=>{M()},T=()=>{c(null),M()},_=m.useMemo(()=>{if(!o||!u||u.length===0)return[];const F=u.filter(Q=>Q.latitude&&Q.longitude);return F.length===0?[]:F.map(Q=>{const J=R(Q);return J!==null&&J<=g?{...Q,distance:J}:null}).filter(Boolean).sort((Q,J)=>Q.distance-J.distance)},[o==null?void 0:o.latitude,o==null?void 0:o.longitude,u,g]);if(t)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Loading your dashboard..."})]})});if(l)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("div",{className:"text-gray-600 font-medium",children:"Getting your location..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This helps us show nearby jobs"})]})});const G=()=>{const F=new Date().getHours();return F<12?"Good Morning":F<17?"Good Afternoon":"Good Evening"},X=()=>l?s.jsxs("div",{className:"flex items-center text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),s.jsx("span",{className:"text-sm",children:"Getting location..."})]}):i?s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm",children:"Location unavailable"})]}):o?s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"text-sm",children:"Active"})]}):null;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("div",{children:s.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:[G(),", ",e==null?void 0:e.firstName]})})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[X(),s.jsxs("button",{onClick:n,className:"inline-flex items-center px-3 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 bg-white/50 hover:bg-white hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a?s.jsxs("div",{className:`mb-8 rounded-2xl shadow-sm border ${A()?"bg-gradient-to-r from-red-50 to-pink-50 border-red-200":"bg-white border-gray-200"} p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${A()?"bg-red-100":"bg-blue-100"}`,children:s.jsx("svg",{className:`w-6 h-6 ${A()?"text-red-600":"text-blue-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Currently Working"}),s.jsx("p",{className:"text-gray-600 font-medium",children:a.customerName}),s.jsx("p",{className:"text-sm text-gray-500",children:Nt(a.customerAddress)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`text-3xl font-bold ${A()?"text-red-600":"text-gray-900"}`,children:U(x)}),s.jsx("div",{className:`text-sm ${A()?"text-red-600":"text-gray-500"}`,children:A()?"Overtime":`${a.allottedMinutes} min allocated`})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:`text-sm font-semibold ${A()?"text-red-600":"text-gray-900"}`,children:[Math.round(x/(a.allottedMinutes*60)*100),"%"]})})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ease-out shadow-sm ${A()?"bg-gradient-to-r from-red-500 to-red-600":x>a.allottedMinutes*60*.8?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{width:`${Math.min(100,x/(a.allottedMinutes*60)*100)}%`}})})]}),s.jsxs("div",{className:"space-y-6 mb-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Started At"})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center shadow-sm",children:s.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date(a.clockInTime).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!0})}),s.jsx("div",{className:"text-sm text-gray-600",children:new Date(a.clockInTime).toLocaleDateString("en-AU",{weekday:"short",month:"short",day:"numeric"})})]})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Target Finish"})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-100 to-orange-200 rounded-full flex items-center justify-center shadow-sm",children:s.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:(()=>{const F=new Date(a.clockInTime);return new Date(F.getTime()+a.allottedMinutes*60*1e3).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",hour12:!0})})()}),s.jsx("div",{className:"text-sm text-gray-600",children:(()=>{const F=new Date(a.clockInTime);return new Date(F.getTime()+a.allottedMinutes*60*1e3).toLocaleDateString("en-AU",{weekday:"short",month:"short",day:"numeric"})})()})]})]})})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Team"}),s.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:[a.teamSize," member",a.teamSize!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:a.teamColor||"#3b82f6"}}),s.jsx("span",{className:"text-sm font-medium text-gray-800",children:a.teamName})]}),s.jsx("div",{className:"space-y-2",children:a.members.map(F=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center shadow-sm",children:s.jsx("span",{className:"text-xs font-semibold text-blue-700",children:F.name.split(" ").map(H=>H[0]).join("").toUpperCase()})}),s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.name})})]},F.id))})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:O,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"End Clean"]})})]}):s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nearby Customers"})}),_.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(F=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-gray-200 transition-all duration-200 overflow-hidden group",children:[s.jsx("div",{className:"relative h-32 bg-gray-100",children:s.jsx(jy,{address:F.address,className:"relative w-full h-full"})}),s.jsxs("div",{className:"p-5",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:F.name}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[s.jsxs("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Nt(F.address)]}),F.phone&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),nu(F.phone)]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),F.distance?L(F.distance)+" away":"Location unknown"]})]})}),s.jsxs("button",{onClick:()=>V(F),className:"w-full inline-flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 group-hover:shadow-sm",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Start Clean"]})]})]},F.id))}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("svg",{className:"w-16 h-16 text-gray-300 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o?"No jobs available nearby":"Location Required"}),s.jsx("p",{className:"text-gray-500 mb-4",children:o?"Try expanding your search or use manual search.":"Please enable location access to find nearby jobs."}),o&&s.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-600 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search All Customers"]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Completed Today"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Your work summary"})]})}),b.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(F=>{const H=new Date(F.clockOutTime).getTime()-new Date(F.clockInTime).getTime(),Q=Math.floor(H/(1e3*60*60)),J=Math.floor(H%(1e3*60*60)/(1e3*60));return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:F.customerName}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Nt(F.customerAddress)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[Q,"h ",J,"m"]}),F.lunchBreak&&s.jsx("div",{className:"text-xs text-blue-600 font-medium",children:F.autoLunchDeducted?"🍽️ Auto lunch":"🍽️ Manual lunch"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(F.clockInTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",new Date(F.clockOutTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]}),s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]},F.id)})}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No jobs completed today"}),s.jsx("p",{className:"text-gray-500",children:"Your completed jobs will appear here"})]})]})]}),s.jsx(wy,{customer:y,isOpen:v,onClose:()=>d(!1),onSuccess:S,allottedMinutes:y?Ny(y.price):void 0}),s.jsx(by,{isOpen:p,onClose:()=>N(!1),onSuccess:T})]})}function Cy({isOpen:e,onClose:t}){var a,c;const{user:n,logout:r}=co(),[o]=Ji(),i=[{name:"Dashboard",href:"/admin",icon:s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]})},{name:"Customer Management",href:"/admin/customers",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Staff Management",href:"/admin/staff",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Team Management",href:"/admin/teams",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Reports",href:"/admin/reports",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Settings",href:"/admin/settings",icon:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 0V4m0 16v-4m8-4h-4m-8 0H4m13.66-6.34l-2.83 2.83M6.34 17.66l2.83-2.83m0-8.49l-2.83 2.83M17.66 17.66l-2.83-2.83"})})}],l=u=>u==="/admin"?o==="/admin":o.startsWith(u);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-gray-600 transition-opacity duration-300 ease-in-out z-40 lg:hidden ${e?"bg-opacity-75 pointer-events-auto":"bg-opacity-0 pointer-events-none"}`,onClick:t}),s.jsxs("div",{className:`
        fixed top-0 right-0 z-50 h-screen w-80 max-w-[85vw] bg-white shadow-lg transform transition-transform duration-300 ease-in-out flex flex-col
        ${e?"translate-x-0":"translate-x-full"} lg:fixed lg:left-0 lg:translate-x-0 lg:z-auto lg:w-64 lg:h-screen
      `,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 border-b border-gray-200 h-[84px]",children:[s.jsxs("div",{className:"flex items-center h-full pt-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),s.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-900 leading-none",children:"MyHome CleanTeam"})]}),s.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:s.jsx("div",{className:"space-y-3",children:i.map(u=>s.jsxs(hy,{href:u.href,onClick:t,className:`
                  group flex items-center px-3 py-3 text-sm font-medium rounded-md transition-colors
                  ${l(u.href)?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                `,children:[s.jsx("span",{className:`mr-3 ${l(u.href)?"text-blue-700":"text-gray-400 group-hover:text-gray-500"}`,children:u.icon}),u.name]},u.name))})}),s.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-3 mt-auto",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-blue-600 font-medium",children:[(a=n==null?void 0:n.firstName)==null?void 0:a.charAt(0),(c=n==null?void 0:n.lastName)==null?void 0:c.charAt(0)]})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:n==null?void 0:n.role})]})]}),s.jsxs("button",{onClick:r,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]})}function rr({children:e}){const[t,n]=m.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsx(Cy,{isOpen:t,onClose:()=>n(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col lg:ml-64",children:[s.jsx("button",{onClick:()=>n(!t),className:"lg:hidden fixed top-4 right-4 z-50 p-2.5 rounded-lg bg-white shadow-lg text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200 border border-gray-200",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("main",{className:"flex-1 lg:pt-0",children:e})]})]})}const Ey=m.memo(function({customers:t,className:n=""}){const r=m.useRef(null),o=m.useRef(null),i=m.useRef([]),[l,a]=m.useState(!1),[c,u]=m.useState(0),{isLoaded:h,error:g}=uo();return m.useEffect(()=>{if(!r.current||!h||t.length===0||i.current.length===t.length)return;const f=()=>{var w,x;if((x=(w=window.google)==null?void 0:w.maps)!=null&&x.Map)try{const k=new window.google.maps.LatLngBounds,v=t.filter(d=>d.latitude&&d.longitude);if(v.length===0){a(!0);return}v.forEach(d=>{const p=parseFloat(d.latitude),N=parseFloat(d.longitude);!isNaN(p)&&!isNaN(N)&&k.extend({lat:p,lng:N})}),o.current=new window.google.maps.Map(r.current,{center:k.getCenter(),zoom:10,mapTypeId:window.google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),o.current.fitBounds(k),window.google.maps.event.addListenerOnce(o.current,"bounds_changed",()=>{o.current.getZoom()>15&&o.current.setZoom(15)}),i.current.forEach(d=>d.setMap(null)),i.current=[],v.forEach(d=>{const p=parseFloat(d.latitude),N=parseFloat(d.longitude);if(!isNaN(p)&&!isNaN(N)){const y=new window.google.maps.Marker({position:{lat:p,lng:N},map:o.current,title:d.name,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:d.status==="active"?"#10B981":"#6B7280",fillOpacity:1,strokeColor:d.teamColor||"#374151",strokeWeight:2}}),E=new window.google.maps.InfoWindow({content:`
                <div style="padding: 8px; max-width: 200px;">
                  <div style="font-weight: bold; margin-bottom: 4px;">${d.name}</div>
                  <div style="font-size: 12px; color: #666;">${d.address}</div>
                  <div style="font-size: 11px; color: #999; margin-top: 4px;">
                    Status: ${d.status==="active"?"🟢 Active":"✅ Completed"}
                  </div>
                </div>
              `});y.addListener("click",()=>{E.open(o.current,y)}),i.current.push(y)}})}catch(k){console.error("AdminDashboardMap: Error creating map:",k),a(!0)}},b=()=>{var w,x;if(!((x=(w=window.google)==null?void 0:w.maps)!=null&&x.Map))if(c<50){u(k=>k+1),setTimeout(b,100);return}else{console.error("AdminDashboardMap: Google Maps not available after retries - may be blocked by ad blocker"),a(!0);return}f()};return b(),()=>{i.current.forEach(w=>w.setMap(null)),i.current=[]}},[t.length,h]),l||g?s.jsx("div",{className:n,children:s.jsxs("div",{className:"w-full rounded border bg-gray-50 p-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"text-gray-500 text-sm mb-2",children:"Map Unavailable"}),s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:g||"Google Maps may be blocked by ad blocker"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Try disabling ad blocker for this site"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:["Customer Locations (",t.length,"):"]}),t.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:f.name}),s.jsx("div",{className:"text-xs text-gray-500",children:f.address})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status==="active"?"🟢 Active":"✅ Completed"}),s.jsx("span",{className:"text-xs text-gray-400",children:f.latitude&&f.longitude?"📍 Located":"📍 Unknown"})]})]},f.id))]})]})}):t.length===0?s.jsx("div",{className:n,children:s.jsx("div",{className:"w-full h-64 rounded border bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-gray-500 text-sm",children:"No customer locations to display"})})})}):s.jsx("div",{className:n,children:s.jsx("div",{ref:r,className:"w-full h-64 rounded border",style:{minHeight:"256px"}})})},(e,t)=>e.customers.length===t.customers.length&&e.className===t.className);function My(){const[e,t]=m.useState(null),[n,r]=m.useState([]),[o,i]=m.useState([]),[l,a]=m.useState(!0),[c,u]=m.useState(null),[h,g]=m.useState(!1),[f,b]=m.useState("today"),[w,x]=m.useState({start:"",end:""}),[k,v]=m.useState(!1),d=m.useRef(null),p=m.useRef(null),N=m.useRef(null),y=L=>{const A=new Date(L),V=A.getFullYear(),C=String(A.getMonth()+1).padStart(2,"0"),O=String(A.getDate()).padStart(2,"0"),S=String(A.getHours()).padStart(2,"0"),T=String(A.getMinutes()).padStart(2,"0");return`${V}-${C}-${O}T${S}:${T}`},E=L=>{const A=new Date,V=new Date(A.getFullYear(),A.getMonth(),A.getDate());switch(L){case"today":return{start:V,end:new Date(V.getTime()+24*60*60*1e3)};case"yesterday":return{start:new Date(V.getTime()-24*60*60*1e3),end:V};case"thisWeek":const O=V.getDay(),S=new Date(V.getTime()-(O===0?6:O-1)*24*60*60*1e3),T=new Date(S.getTime()+6*24*60*60*1e3);return{start:S,end:new Date(T.getTime()+24*60*60*1e3)};case"lastWeek":const _=new Date(V.getTime()-(V.getDay()===0?6:V.getDay()-1)*24*60*60*1e3),G=new Date(_.getTime()-7*24*60*60*1e3),X=new Date(_.getTime()-1*24*60*60*1e3);return{start:G,end:new Date(X.getTime()+24*60*60*1e3)};case"custom":return{start:w.start?new Date(w.start):V,end:w.end?new Date(new Date(w.end).getTime()+24*60*60*1e3):V}}},j=(L,A)=>{const{start:V,end:C}=E(A);return L.filter(O=>{if(O.clockOutTime){const S=new Date(O.clockOutTime);return S>=V&&S<C}return!0})},M=L=>L<=49?{color:"text-green-600",label:"Excellent"}:L<=59?{color:"text-gray-500",label:"Normal"}:L<=65?{color:"text-yellow-600",label:"Warning"}:L<=70?{color:"text-red-600",label:"High"}:{color:"text-red-800",label:"Critical"},I=L=>L===0?"(±0 mins)":L>0?`(+${L} mins)`:`(${L} mins)`;m.useCallback((L,A=500)=>{N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{L()},A)},[]),m.useCallback(L=>{i(L)},[]);const z=m.useCallback(async(L=!1)=>{L&&v(!0);try{const[A,V,C]=await Promise.all([fetch(te(`/api/admin/dashboard?dateFilter=${f}`),{credentials:"include"}),fetch(te("/api/admin/cleans/completed"),{credentials:"include"}),fetch(te("/api/admin/cleans/active"),{credentials:"include"})]);if(A.ok){const O=await A.json();t(O.data)}if(V.ok){const O=await V.json();r(O.data||[])}else console.error("Failed to fetch completed cleans:",V.status,V.statusText);if(C.ok){const O=await C.json();i(O.data||[])}else console.error("Failed to fetch active cleans:",C.status,C.statusText)}catch(A){console.error("Failed to fetch dashboard data:",A)}finally{a(!1),v(!1)}},[f]);m.useEffect(()=>{z(!0)},[f,z]),m.useEffect(()=>{let L=null;return(()=>{L=setInterval(()=>{z()},1e4)})(),()=>{L&&clearInterval(L),N.current&&clearTimeout(N.current)}},[]);const R=async()=>{var L;if(!(!c||!d.current)){g(!0);try{const A=d.current.value,V=((L=p.current)==null?void 0:L.value)||null,C=new Date(A).toISOString(),O=V?new Date(V).toISOString():null,S=await fetch(te(`/api/admin/cleans/${c.jobId}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({clockInTime:C,clockOutTime:O})});if(S.ok)await z(),u(null);else{const T=await S.json();console.error("Failed to update clean times:",T.error),alert("Failed to update clean times: "+T.error)}}catch(A){console.error("Error updating clean times:",A),alert("Error updating clean times. Please try again.")}finally{g(!1)}}},U=async L=>{if(confirm("Are you sure you want to end this clean? This will end the clean for all team members.")){g(!0);try{const A=await fetch(te("/api/admin/cleans/end-active"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({jobId:L})});if(A.ok)await z();else{const V=await A.json();console.error("Failed to end clean:",V.error),alert("Failed to end clean: "+V.error)}}catch(A){console.error("Error ending clean:",A),alert("Error ending clean. Please try again.")}finally{g(!1)}}};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsxs(rr,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),k&&s.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs font-medium",children:"Updating..."})]})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Monitor active cleans, view completed jobs, and manage your team."})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{htmlFor:"dateFilter",className:"text-sm font-medium text-gray-700",children:"Date Range:"}),s.jsxs("select",{id:"dateFilter",value:f,onChange:L=>b(L.target.value),className:"block w-40 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"yesterday",children:"Yesterday"}),s.jsx("option",{value:"thisWeek",children:"This Week"}),s.jsx("option",{value:"lastWeek",children:"Last Week"}),s.jsx("option",{value:"custom",children:"Custom Range"})]}),f==="custom"&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("input",{type:"date",value:w.start,onChange:L=>x(A=>({...A,start:L.target.value})),className:"px-2 py-1 border border-gray-300 rounded-md"}),s.jsx("span",{children:"to"}),s.jsx("input",{type:"date",value:w.end,onChange:L=>x(A=>({...A,end:L.target.value})),className:"px-2 py-1 border border-gray-300 rounded-md"})]})]}),(()=>{const{start:L,end:A}=E(f),V=O=>`${O.getDate().toString().padStart(2,"0")}/${(O.getMonth()+1).toString().padStart(2,"0")} ${O.getHours().toString().padStart(2,"0")}:${O.getMinutes().toString().padStart(2,"0")}`,C=new Date(A.getTime()-1*60*1e3);return s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[s.jsx("strong",{children:"Debug:"})," Showing data from ",s.jsx("span",{children:V(L)})," to ",s.jsx("span",{children:V(C)})]})})()]})}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex sm:hidden overflow-x-auto pb-4 space-x-4 snap-x snap-mandatory w-screen -mx-4 sm:-mx-6 lg:-mx-8",children:[s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow flex-shrink-0 w-80 max-w-[85vw] snap-start",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"On Time Target"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[(e==null?void 0:e.efficiency)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:e!=null&&e.efficiency&&e.efficiency>=100?"Excellent":e!=null&&e.efficiency&&e.efficiency>=80?"Good":"Needs attention"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.efficiency&&e.efficiency>=100?"bg-green-100":e!=null&&e.efficiency&&e.efficiency>=80?"bg-yellow-100":"bg-red-100"}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[s.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),s.jsx("polyline",{points:"16 7 22 7 22 13"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow flex-shrink-0 w-80 max-w-[85vw] snap-start",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",(e==null?void 0:e.revenue)||0]}),s.jsx("p",{className:"text-base text-orange-600 font-medium",children:f==="today"?"Today's total":f==="yesterday"?"Yesterday's total":"This week's total"})]}),s.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-dollar-sign h-7 w-7 text-orange-600",children:[s.jsx("line",{x1:"12",x2:"12",y1:"1",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow flex-shrink-0 w-80 max-w-[85vw] snap-start",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Wage Ratio"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:[(e==null?void 0:e.wageRatio)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:e!=null&&e.wageRatio&&e.wageRatio<=55?"On Target":e!=null&&e.wageRatio&&e.wageRatio<=60?"OK":e!=null&&e.wageRatio&&e.wageRatio<=65?"High":e!=null&&e.wageRatio&&e.wageRatio<=70?"Very High":e!=null&&e.wageRatio&&e.wageRatio<=75?"Critical":"Extreme"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.wageRatio&&e.wageRatio<=55?"bg-green-100":e!=null&&e.wageRatio&&e.wageRatio<=60?"bg-yellow-100":e!=null&&e.wageRatio&&e.wageRatio<=65?"bg-orange-100":e!=null&&e.wageRatio&&e.wageRatio<=70?"bg-red-100":e!=null&&e.wageRatio&&e.wageRatio<=75?"bg-red-200":"bg-red-300"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:s.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})})]})})})]}),s.jsxs("div",{className:"hidden sm:grid sm:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:[s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"On Time Target"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[(e==null?void 0:e.efficiency)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:e!=null&&e.efficiency&&e.efficiency>=100?"Excellent":e!=null&&e.efficiency&&e.efficiency>=80?"Good":"Needs attention"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.efficiency&&e.efficiency>=100?"bg-green-100":e!=null&&e.efficiency&&e.efficiency>=80?"bg-yellow-100":"bg-red-100"}`,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.efficiency&&e.efficiency>=100?"text-green-600":e!=null&&e.efficiency&&e.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[s.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),s.jsx("polyline",{points:"16 7 22 7 22 13"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",(e==null?void 0:e.revenue)||0]}),s.jsx("p",{className:"text-base text-orange-600 font-medium",children:f==="today"?"Today's total":f==="yesterday"?"Yesterday's total":"This week's total"})]}),s.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-dollar-sign h-7 w-7 text-orange-600",children:[s.jsx("line",{x1:"12",x2:"12",y1:"1",y2:"23"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})})]})})}),s.jsx("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-gray-600",children:"Wage Ratio"}),s.jsxs("p",{className:`text-3xl font-bold ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:[(e==null?void 0:e.wageRatio)||0,"%"]}),s.jsx("p",{className:`text-base font-medium ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:e!=null&&e.wageRatio&&e.wageRatio<=55?"On Target":e!=null&&e.wageRatio&&e.wageRatio<=60?"OK":e!=null&&e.wageRatio&&e.wageRatio<=65?"High":e!=null&&e.wageRatio&&e.wageRatio<=70?"Very High":e!=null&&e.wageRatio&&e.wageRatio<=75?"Critical":"Extreme"})]}),s.jsx("div",{className:`p-3 rounded-full ${e!=null&&e.wageRatio&&e.wageRatio<=55?"bg-green-100":e!=null&&e.wageRatio&&e.wageRatio<=60?"bg-yellow-100":e!=null&&e.wageRatio&&e.wageRatio<=65?"bg-orange-100":e!=null&&e.wageRatio&&e.wageRatio<=70?"bg-red-100":e!=null&&e.wageRatio&&e.wageRatio<=75?"bg-red-200":"bg-red-300"}`,children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`h-7 w-7 ${e!=null&&e.wageRatio&&e.wageRatio<=55?"text-green-600":e!=null&&e.wageRatio&&e.wageRatio<=60?"text-yellow-600":e!=null&&e.wageRatio&&e.wageRatio<=65?"text-orange-600":e!=null&&e.wageRatio&&e.wageRatio<=70?"text-red-600":e!=null&&e.wageRatio&&e.wageRatio<=75?"text-red-700":"text-red-800"}`,children:s.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})})]})})})]})]}),s.jsxs("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 mt-6",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:s.jsxs("div",{className:"font-semibold tracking-tight flex items-center text-xl",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-activity h-6 w-6 mr-2 text-blue-500",children:s.jsx("path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"})}),"Active Cleans (",j(o,f).length,")"]})}),s.jsx("div",{className:"p-6 pt-0",children:s.jsx("div",{className:"space-y-4",children:j(o,f).length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No active cleans for selected date range"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j(o,f).map(L=>s.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 transition-all duration-300 ease-in-out hover:shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:L.customerName}),s.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(L.customerAddress)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Started: ",new Date(L.clockInTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]}),s.jsx("div",{className:"flex flex-col space-y-2",children:s.jsx("button",{onClick:()=>u(L),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Clean",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L.teamColor}}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:L.teamColor+"20",color:L.teamColor},children:L.teamName}),L.members&&L.members.filter(A=>A.teamName&&A.teamName!==L.teamName).map(A=>s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:(A.teamColor||"#888")+"20",color:A.teamColor||"#888"},children:["+ ",A.name]},A.id))]})})]},L.jobId))})})})]}),s.jsxs("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 mt-6",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:s.jsxs("div",{className:"font-semibold tracking-tight flex items-center text-xl",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-check-big h-6 w-6 mr-2 text-green-500",children:[s.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),s.jsx("path",{d:"m9 11 3 3L22 4"})]}),"Completed Cleans (",j(n,f).length,")"]})}),s.jsx("div",{className:"p-6 pt-0",children:s.jsx("div",{className:"space-y-4",children:j(n,f).length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No completed cleans for selected date range"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j(n,f).map(L=>s.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 transition-all duration-300 ease-in-out hover:shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:L.customerName}),s.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(L.customerAddress)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(L.clockInTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," - ",L.clockOutTime?new Date(L.clockOutTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"In Progress",L.timeDifferenceMinutes!==void 0&&s.jsx("span",{className:`ml-2 text-xs font-medium ${L.timeDifferenceMinutes===0?"text-gray-500":L.timeDifferenceMinutes>0?"text-red-600":"text-green-600"}`,children:I(L.timeDifferenceMinutes)}),L.clockInTime&&s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(L.clockInTime).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["$",L.price,L.wageRatio!==void 0&&s.jsxs("span",{children:[" ","at ",s.jsxs("span",{className:M(L.wageRatio).color,children:[L.wageRatio,"%"]})," Wage Ratio"]})]})]})]}),s.jsx("button",{onClick:()=>u(L),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Clean",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:L.teamColor+"20",color:L.teamColor},children:L.teamName}),L.members&&L.members.filter(A=>A.teamName&&A.teamName!==L.teamName).map(A=>s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:(A.teamColor||"#888")+"20",color:A.teamColor||"#888"},children:["+ ",A.name]},A.id))]})})]},L.jobId))})})})]}),s.jsxs("div",{className:"rounded-lg text-card-foreground bg-white shadow-lg border-0 mt-6",children:[s.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:s.jsxs("div",{className:"font-semibold tracking-tight flex items-center text-xl",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-map-pin h-6 w-6 mr-2 text-blue-500",children:[s.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Customer Locations"]})}),s.jsx("div",{className:"p-6 pt-0",children:s.jsx(Ey,{customers:[...j(o,f).map(L=>({id:L.jobId,name:L.customerName,address:L.customerAddress,latitude:L.customerLatitude||"",longitude:L.customerLongitude||"",teamColor:L.teamColor,status:"active"})),...j(n,f).map(L=>({id:L.jobId,name:L.customerName,address:L.customerAddress,latitude:L.customerLatitude||"",longitude:L.customerLongitude||"",teamColor:L.teamColor,status:"completed"}))],className:"w-full"})})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[s.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Clean Times"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Customer: ",c.customerName]}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Team: ",c.teamName]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Team Members:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:c.members.map(L=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:L.name},L.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time"}),s.jsx("input",{ref:d,type:"datetime-local",defaultValue:y(c.clockInTime),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time"}),s.jsx("input",{ref:p,type:"datetime-local",defaultValue:c.clockOutTime?y(c.clockOutTime):"",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Leave empty for active cleans"})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("div",{className:"flex space-x-3",children:!c.clockOutTime&&s.jsxs("button",{type:"button",onClick:()=>U(c.jobId),disabled:h,className:"inline-flex items-center px-4 py-2 text-sm text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Complete Clean"]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>u(null),className:"px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"button",onClick:R,disabled:h,className:"px-4 py-2 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Saving...":"Save Changes"})]})]})]})]})})]})}function Ly(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[o,i]=m.useState(!1),[l,a]=m.useState(null),[c,u]=m.useState(!1),[h,g]=m.useState(!1),[f,b]=m.useState({email:"",firstName:"",lastName:"",phone:"",password:"",role:"staff",isDriver:!1}),[w,x]=m.useState({email:"",firstName:"",lastName:"",phone:"",password:"",role:"staff",isDriver:!1});m.useEffect(()=>{k()},[]);const k=async()=>{try{const y=await fetch(te("/api/admin/staff"),{credentials:"include"});if(y.ok){const E=await y.json();t(E.data)}}catch(y){console.error("Failed to fetch staff:",y)}finally{r(!1)}},v=async y=>{y.preventDefault();try{const E=await fetch(te("/api/admin/staff"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(E.ok)b({email:"",firstName:"",lastName:"",phone:"",password:"",role:"staff",isDriver:!1}),i(!1),k();else{const j=await E.json();alert(`Failed to add staff: ${j.error}`)}}catch(E){console.error("Failed to add staff:",E),alert("Failed to add staff")}},d=y=>{a(y),x({email:y.email,firstName:y.firstName,lastName:y.lastName,phone:y.phone||"",password:"",role:y.role,isDriver:y.isDriver||!1})},p=async y=>{if(y.preventDefault(),!!l){u(!0);try{const E=await fetch(te(`/api/admin/staff/${l.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)});if(E.ok)a(null),k();else{const j=await E.json();alert(`Failed to update staff: ${j.error}`)}}catch(E){console.error("Failed to update staff:",E),alert("Failed to update staff")}finally{u(!1)}}},N=async(y,E)=>{try{const j=await fetch(te(`/api/admin/staff/${y}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({active:!E})});if(j.ok)k();else{const M=await j.json();alert(`Failed to ${E?"archive":"restore"} staff: ${M.error}`)}}catch(j){console.error("Failed to archive staff:",j),alert("Failed to archive staff")}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsxs(rr,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Management"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"View and manage staff members, their roles, and team assignments."})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("button",{onClick:()=>g(!h),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Show Active"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Show Archived"]})}),s.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Staff"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(y=>h?!y.active:y.active).map(y=>s.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${y.active?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:[y.firstName," ",y.lastName]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),s.jsx("p",{className:"text-sm text-gray-600",children:y.email})]}),y.phone&&s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("p",{className:"text-sm text-gray-500",children:nu(y.phone)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.role==="admin"?"bg-red-100 text-red-800":y.role==="manager"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:y.role.charAt(0).toUpperCase()+y.role.slice(1)}),y.team&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white",style:{backgroundColor:y.team.teamColor},children:y.team.teamName}),!y.active&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Archived"})]})]}),s.jsx("button",{onClick:()=>d(y),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Staff",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),s.jsxs("div",{className:"space-y-2",children:[y.isDriver&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Driver"]}),y.activeJob&&s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Active - ",y.activeJob.customerName]})]})]},y.id))})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[s.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Staff"}),s.jsxs("form",{onSubmit:v,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),s.jsx("input",{type:"text",required:!0,value:f.firstName,onChange:y=>b({...f,firstName:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),s.jsx("input",{type:"text",required:!0,value:f.lastName,onChange:y=>b({...f,lastName:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",required:!0,value:f.email,onChange:y=>b({...f,email:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:f.phone,onChange:y=>{const E=y.target.value.replace(/\D/g,"");let j=E;E.length>=4&&(j=E.slice(0,4)+" "+E.slice(4)),E.length>=7&&(j=j.slice(0,8)+" "+j.slice(8)),b({...f,phone:j})},placeholder:"0000 000 000",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{type:"password",required:!0,value:f.password,onChange:y=>b({...f,password:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{value:f.role,onChange:y=>b({...f,role:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"staff",children:"Staff"}),s.jsx("option",{value:"manager",children:"Manager"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"new-staff-driver",type:"checkbox",checked:f.isDriver,onChange:y=>b({...f,isDriver:y.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"new-staff-driver",className:"ml-2 block text-sm text-gray-900",children:"Driver"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Staff"})]})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[s.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Staff"}),s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),s.jsx("input",{type:"text",required:!0,value:w.firstName,onChange:y=>x({...w,firstName:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),s.jsx("input",{type:"text",required:!0,value:w.lastName,onChange:y=>x({...w,lastName:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",required:!0,value:w.email,onChange:y=>x({...w,email:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),s.jsx("input",{type:"tel",value:w.phone,onChange:y=>{const E=y.target.value.replace(/\D/g,"");let j=E;E.length>=4&&(j=E.slice(0,4)+" "+E.slice(4)),E.length>=7&&(j=j.slice(0,8)+" "+j.slice(8)),x({...w,phone:j})},placeholder:"0000 000 000",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{type:"password",value:w.password,onChange:y=>x({...w,password:y.target.value}),placeholder:"Leave blank to keep current password",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to keep current password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),s.jsxs("select",{value:w.role,onChange:y=>x({...w,role:y.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"staff",children:"Staff"}),s.jsx("option",{value:"manager",children:"Manager"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"edit-staff-driver",type:"checkbox",checked:w.isDriver,onChange:y=>x({...w,isDriver:y.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"edit-staff-driver",className:"ml-2 block text-sm text-gray-900",children:"Driver"})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsx("button",{type:"button",onClick:()=>N(l.id,l.active),className:`inline-flex items-center h-[42px] px-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${l.active?"border-red-300 text-red-700 bg-red-50 hover:bg-red-100 focus:ring-red-500":"border-green-300 text-green-700 bg-green-50 hover:bg-green-100 focus:ring-green-500"}`,title:l.active?"Archive Staff":"Restore Staff",children:l.active?s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>a(null),className:"inline-flex items-center h-[42px] px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Cancel",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("button",{type:"submit",disabled:c,className:"inline-flex items-center h-[42px] px-4 border border-transparent rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Save Changes",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]})]})]})]})})]})}function Id({value:e,onChange:t,placeholder:n="Enter address...",required:r=!1,className:o=""}){const[i,l]=m.useState([]),[a,c]=m.useState(!1),[u,h]=m.useState(-1),g=m.useRef(null),{isLoaded:f}=uo(),b=["123 Collins Street, Melbourne","456 Bourke Street, Melbourne","789 Flinders Street, Melbourne","321 Queen Street, Melbourne","654 Swanston Street, Melbourne","100 Elizabeth Street, Melbourne","200 Lonsdale Street, Melbourne","300 Russell Street, Melbourne"],w=y=>{var E,j,M;if(y.length<3){l([]),c(!1);return}if(f&&((M=(j=(E=window.google)==null?void 0:E.maps)==null?void 0:j.places)!=null&&M.AutocompleteService))try{new window.google.maps.places.AutocompleteService().getPlacePredictions({input:y,componentRestrictions:{country:"au"},types:["address"]},(z,R)=>{if(R===window.google.maps.places.PlacesServiceStatus.OK&&z){const L=z.map(A=>{let V=A.description;return V=V.replace(/,\s*[A-Z]{2,3}\s+\d{4}$/,""),V}).filter(A=>{const V=y.toLowerCase(),C=A.toLowerCase();if(C===V)return!1;const O=V.split(/\s+/).filter(G=>G.length>2),S=C.split(/\s+/).filter(G=>G.length>2);return O.filter(G=>S.includes(G)).length/Math.max(O.length,S.length)<.7});l(L),c(L.length>0),h(-1)}else x(y)})}catch(I){console.warn("Google Places API error, using fallback:",I),x(y)}else x(y)},x=y=>{const E=y.toLowerCase(),j=b.filter(M=>{const I=M.toLowerCase();if(I===E)return!1;const z=E.split(/\s+/).filter(A=>A.length>2),R=I.split(/\s+/).filter(A=>A.length>2);return z.filter(A=>R.includes(A)).length/Math.max(z.length,R.length)<.7&&I.includes(E)});l(j),c(j.length>0),h(-1)};m.useEffect(()=>{const y=setTimeout(()=>{w(e)},300);return()=>clearTimeout(y)},[e,f]);const k=y=>{if(a)switch(y.key){case"ArrowDown":y.preventDefault(),h(E=>E<i.length-1?E+1:E);break;case"ArrowUp":y.preventDefault(),h(E=>E>0?E-1:E);break;case"Enter":y.preventDefault(),u>=0&&v(i[u]);break;case"Escape":c(!1),h(-1);break}},v=y=>{t(y),l([]),c(!1),h(-1)},d=y=>{const E=y.target.value;t(E),E.length===0&&(l([]),c(!1),h(-1))},p=()=>{setTimeout(()=>{c(!1),h(-1)},150)},N=()=>{e.length>=3&&i.length>0&&c(!0)};return s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:g,type:"text",value:e,onChange:d,onKeyDown:k,onBlur:p,onFocus:N,required:r,className:o,placeholder:n}),a&&i.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto",children:i.map((y,E)=>s.jsx("div",{onClick:()=>v(y),className:`px-3 py-2 cursor-pointer text-sm ${E===u?"bg-blue-100 text-blue-900":"hover:bg-gray-100"}`,children:y},E))})]})}function _d({address:e,className:t=""}){const n=m.useRef(null),r=m.useRef(null),o=m.useRef(null),[i,l]=m.useState(!1),{isLoaded:a}=uo();return m.useEffect(()=>{if(!e||!n.current||!a){console.log("GoogleMapPreview: Missing requirements",{address:e,mapRef:!!n.current,isGoogleLoaded:a});return}return console.log("GoogleMapPreview: Attempting to load map for address:",e),(()=>{var u,h;if(!((h=(u=window.google)==null?void 0:u.maps)!=null&&h.Geocoder)){console.error("GoogleMapPreview: Google Maps Geocoder not available"),l(!0);return}try{new window.google.maps.Geocoder().geocode({address:e+", Australia"},(f,b)=>{if(console.log("GoogleMapPreview: Geocoding result:",{status:b,resultsCount:f==null?void 0:f.length}),b==="OK"&&f[0]){const w=f[0].geometry.location;console.log("GoogleMapPreview: Location found:",w),r.current=new window.google.maps.Map(n.current,{center:w,zoom:15,mapTypeId:window.google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),o.current=new window.google.maps.Marker({position:w,map:r.current,title:e}),console.log("GoogleMapPreview: Map created successfully")}else console.error("GoogleMapPreview: Geocoding failed:",b),l(!0)})}catch(g){console.error("GoogleMapPreview: Google Maps geocoding error:",g),l(!0)}})(),()=>{o.current&&o.current.setMap(null)}},[e,a]),i?s.jsx("div",{className:t,children:s.jsx("div",{className:"w-full h-48 rounded border bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-500 text-sm mb-2",children:"Map Preview Unavailable"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Check console for details"}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"API key may need setup"})]})})}):s.jsx("div",{className:t,children:e?s.jsx("div",{ref:n,className:"w-full h-48 rounded border",style:{minHeight:"192px"}}):s.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Enter an address to see map preview"})})}function zd(e,[t,n]){return Math.min(n,Math.max(t,e))}function we(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ru(e,t=[]){let n=[];function r(i,l){const a=m.createContext(l),c=n.length;n=[...n,l];const u=g=>{var v;const{scope:f,children:b,...w}=g,x=((v=f==null?void 0:f[e])==null?void 0:v[c])||a,k=m.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:k,children:b})};u.displayName=i+"Provider";function h(g,f){var x;const b=((x=f==null?void 0:f[e])==null?void 0:x[c])||a,w=m.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[u,h]}const o=()=>{const i=n.map(l=>m.createContext(l));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return o.scopeName=e,[r,Ty(o,...t)]}function Ty(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=r.reduce((a,{useScope:c,scopeName:u})=>{const g=c(i)[`__scope${u}`];return{...a,...g}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Bd(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ip(...e){return t=>{let n=!1;const r=e.map(o=>{const i=Bd(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():Bd(e[o],null)}}}}function Pe(...e){return m.useCallback(ip(...e),e)}function Ci(e){const t=Py(e),n=m.forwardRef((r,o)=>{const{children:i,...l}=r,a=m.Children.toArray(i),c=a.find(Ay);if(c){const u=c.props.children,h=a.map(g=>g===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:g);return s.jsx(t,{...l,ref:o,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(t,{...l,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function Py(e){const t=m.forwardRef((n,r)=>{const{children:o,...i}=n;if(m.isValidElement(o)){const l=Fy(o),a=Oy(i,o.props);return o.type!==m.Fragment&&(a.ref=r?ip(r,l):l),m.cloneElement(o,a)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ry=Symbol("radix.slottable");function Ay(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ry}function Oy(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{const c=i(...a);return o(...a),c}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Fy(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Dy(e){const t=e+"CollectionProvider",[n,r]=ru(t),[o,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:k,children:v}=x,d=it.useRef(null),p=it.useRef(new Map).current;return s.jsx(o,{scope:k,itemMap:p,collectionRef:d,children:v})};l.displayName=t;const a=e+"CollectionSlot",c=Ci(a),u=it.forwardRef((x,k)=>{const{scope:v,children:d}=x,p=i(a,v),N=Pe(k,p.collectionRef);return s.jsx(c,{ref:N,children:d})});u.displayName=a;const h=e+"CollectionItemSlot",g="data-radix-collection-item",f=Ci(h),b=it.forwardRef((x,k)=>{const{scope:v,children:d,...p}=x,N=it.useRef(null),y=Pe(k,N),E=i(h,v);return it.useEffect(()=>(E.itemMap.set(N,{ref:N,...p}),()=>void E.itemMap.delete(N))),s.jsx(f,{[g]:"",ref:y,children:d})});b.displayName=h;function w(x){const k=i(e+"CollectionConsumer",x);return it.useCallback(()=>{const d=k.collectionRef.current;if(!d)return[];const p=Array.from(d.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((E,j)=>p.indexOf(E.ref.current)-p.indexOf(j.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:u,ItemSlot:b},w,r]}var Iy=m.createContext(void 0);function _y(e){const t=m.useContext(Iy);return e||t||"ltr"}var zy=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=zy.reduce((e,t)=>{const n=Ci(`Primitive.${t}`),r=m.forwardRef((o,i)=>{const{asChild:l,...a}=o,c=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function By(e,t){e&&ts.flushSync(()=>e.dispatchEvent(t))}function sr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function $y(e,t=globalThis==null?void 0:globalThis.document){const n=sr(e);m.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Wy="DismissableLayer",$a="dismissableLayer.update",Hy="dismissableLayer.pointerDownOutside",Uy="dismissableLayer.focusOutside",$d,lp=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ap=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:a,...c}=e,u=m.useContext(lp),[h,g]=m.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=m.useState({}),w=Pe(t,j=>g(j)),x=Array.from(u.layers),[k]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(k),d=h?x.indexOf(h):-1,p=u.layersWithOutsidePointerEventsDisabled.size>0,N=d>=v,y=Qy(j=>{const M=j.target,I=[...u.branches].some(z=>z.contains(M));!N||I||(o==null||o(j),l==null||l(j),j.defaultPrevented||a==null||a())},f),E=Ky(j=>{const M=j.target;[...u.branches].some(z=>z.contains(M))||(i==null||i(j),l==null||l(j),j.defaultPrevented||a==null||a())},f);return $y(j=>{d===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},f),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($d=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Wd(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$d)}},[h,f,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Wd())},[h,u]),m.useEffect(()=>{const j=()=>b({});return document.addEventListener($a,j),()=>document.removeEventListener($a,j)},[]),s.jsx(ye.div,{...c,ref:w,style:{pointerEvents:p?N?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,E.onFocusCapture),onBlurCapture:we(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,y.onPointerDownCapture)})});ap.displayName=Wy;var Vy="DismissableLayerBranch",Gy=m.forwardRef((e,t)=>{const n=m.useContext(lp),r=m.useRef(null),o=Pe(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(ye.div,{...e,ref:o})});Gy.displayName=Vy;function Qy(e,t=globalThis==null?void 0:globalThis.document){const n=sr(e),r=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){cp(Hy,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Ky(e,t=globalThis==null?void 0:globalThis.document){const n=sr(e),r=m.useRef(!1);return m.useEffect(()=>{const o=i=>{i.target&&!r.current&&cp(Uy,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wd(){const e=new CustomEvent($a);document.dispatchEvent(e)}function cp(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?By(o,i):o.dispatchEvent(i)}var Fl=0;function qy(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hd()),document.body.insertAdjacentElement("beforeend",e[1]??Hd()),Fl++,()=>{Fl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fl--}},[])}function Hd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dl="focusScope.autoFocusOnMount",Il="focusScope.autoFocusOnUnmount",Ud={bubbles:!1,cancelable:!0},Yy="FocusScope",up=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[a,c]=m.useState(null),u=sr(o),h=sr(i),g=m.useRef(null),f=Pe(t,x=>c(x)),b=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(p){if(b.paused||!a)return;const N=p.target;a.contains(N)?g.current=N:an(g.current,{select:!0})},k=function(p){if(b.paused||!a)return;const N=p.relatedTarget;N!==null&&(a.contains(N)||an(g.current,{select:!0}))},v=function(p){if(document.activeElement===document.body)for(const y of p)y.removedNodes.length>0&&an(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const d=new MutationObserver(v);return a&&d.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),d.disconnect()}}},[r,a,b.paused]),m.useEffect(()=>{if(a){Gd.add(b);const x=document.activeElement;if(!a.contains(x)){const v=new CustomEvent(Dl,Ud);a.addEventListener(Dl,u),a.dispatchEvent(v),v.defaultPrevented||(Xy(nw(dp(a)),{select:!0}),document.activeElement===x&&an(a))}return()=>{a.removeEventListener(Dl,u),setTimeout(()=>{const v=new CustomEvent(Il,Ud);a.addEventListener(Il,h),a.dispatchEvent(v),v.defaultPrevented||an(x??document.body,{select:!0}),a.removeEventListener(Il,h),Gd.remove(b)},0)}}},[a,u,h,b]);const w=m.useCallback(x=>{if(!n&&!r||b.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(k&&v){const d=x.currentTarget,[p,N]=Jy(d);p&&N?!x.shiftKey&&v===N?(x.preventDefault(),n&&an(p,{select:!0})):x.shiftKey&&v===p&&(x.preventDefault(),n&&an(N,{select:!0})):v===d&&x.preventDefault()}},[n,r,b.paused]);return s.jsx(ye.div,{tabIndex:-1,...l,ref:f,onKeyDown:w})});up.displayName=Yy;function Xy(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(an(r,{select:t}),document.activeElement!==n)return}function Jy(e){const t=dp(e),n=Vd(t,e),r=Vd(t.reverse(),e);return[n,r]}function dp(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vd(e,t){for(const n of e)if(!Zy(n,{upTo:t}))return n}function Zy(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ew(e){return e instanceof HTMLInputElement&&"select"in e}function an(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ew(e)&&t&&e.select()}}var Gd=tw();function tw(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Qd(e,t),e.unshift(t)},remove(t){var n;e=Qd(e,t),(n=e[0])==null||n.resume()}}}function Qd(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function nw(e){return e.filter(t=>t.tagName!=="A")}var qe=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},rw=lc[" useId ".trim().toString()]||(()=>{}),sw=0;function su(e){const[t,n]=m.useState(rw());return qe(()=>{e||n(r=>r??String(sw++))},[e]),e||(t?`radix-${t}`:"")}const ow=["top","right","bottom","left"],Tn=Math.min,Xe=Math.max,Ei=Math.round,Ao=Math.floor,_t=e=>({x:e,y:e}),iw={left:"right",right:"left",bottom:"top",top:"bottom"},lw={start:"end",end:"start"};function Wa(e,t,n){return Xe(e,Tn(t,n))}function en(e,t){return typeof e=="function"?e(t):e}function tn(e){return e.split("-")[0]}function ns(e){return e.split("-")[1]}function ou(e){return e==="x"?"y":"x"}function iu(e){return e==="y"?"height":"width"}const aw=new Set(["top","bottom"]);function Ft(e){return aw.has(tn(e))?"y":"x"}function lu(e){return ou(Ft(e))}function cw(e,t,n){n===void 0&&(n=!1);const r=ns(e),o=lu(e),i=iu(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Mi(l)),[l,Mi(l)]}function uw(e){const t=Mi(e);return[Ha(e),t,Ha(t)]}function Ha(e){return e.replace(/start|end/g,t=>lw[t])}const Kd=["left","right"],qd=["right","left"],dw=["top","bottom"],fw=["bottom","top"];function mw(e,t,n){switch(e){case"top":case"bottom":return n?t?qd:Kd:t?Kd:qd;case"left":case"right":return t?dw:fw;default:return[]}}function hw(e,t,n,r){const o=ns(e);let i=mw(tn(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(Ha)))),i}function Mi(e){return e.replace(/left|right|bottom|top/g,t=>iw[t])}function pw(e){return{top:0,right:0,bottom:0,left:0,...e}}function fp(e){return typeof e!="number"?pw(e):{top:e,right:e,bottom:e,left:e}}function Li(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Yd(e,t,n){let{reference:r,floating:o}=e;const i=Ft(t),l=lu(t),a=iu(l),c=tn(t),u=i==="y",h=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let b;switch(c){case"top":b={x:h,y:r.y-o.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:g};break;case"left":b={x:r.x-o.width,y:g};break;default:b={x:r.x,y:r.y}}switch(ns(t)){case"start":b[l]-=f*(n&&u?-1:1);break;case"end":b[l]+=f*(n&&u?-1:1);break}return b}const gw=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,a=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:g}=Yd(u,r,c),f=r,b={},w=0;for(let x=0;x<a.length;x++){const{name:k,fn:v}=a[x],{x:d,y:p,data:N,reset:y}=await v({x:h,y:g,initialPlacement:r,placement:f,strategy:o,middlewareData:b,rects:u,platform:l,elements:{reference:e,floating:t}});h=d??h,g=p??g,b={...b,[k]:{...b[k],...N}},y&&w<=50&&(w++,typeof y=="object"&&(y.placement&&(f=y.placement),y.rects&&(u=y.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):y.rects),{x:h,y:g}=Yd(u,f,c)),x=-1)}return{x:h,y:g,placement:f,strategy:o,middlewareData:b}};async function Zs(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:f=!1,padding:b=0}=en(t,e),w=fp(b),k=a[f?g==="floating"?"reference":"floating":g],v=Li(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),d=g==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,p=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(p))?await(i.getScale==null?void 0:i.getScale(p))||{x:1,y:1}:{x:1,y:1},y=Li(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:d,offsetParent:p,strategy:c}):d);return{top:(v.top-y.top+w.top)/N.y,bottom:(y.bottom-v.bottom+w.bottom)/N.y,left:(v.left-y.left+w.left)/N.x,right:(y.right-v.right+w.right)/N.x}}const xw=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:l,elements:a,middlewareData:c}=t,{element:u,padding:h=0}=en(e,t)||{};if(u==null)return{};const g=fp(h),f={x:n,y:r},b=lu(o),w=iu(b),x=await l.getDimensions(u),k=b==="y",v=k?"top":"left",d=k?"bottom":"right",p=k?"clientHeight":"clientWidth",N=i.reference[w]+i.reference[b]-f[b]-i.floating[w],y=f[b]-i.reference[b],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let j=E?E[p]:0;(!j||!await(l.isElement==null?void 0:l.isElement(E)))&&(j=a.floating[p]||i.floating[w]);const M=N/2-y/2,I=j/2-x[w]/2-1,z=Tn(g[v],I),R=Tn(g[d],I),U=z,L=j-x[w]-R,A=j/2-x[w]/2+M,V=Wa(U,A,L),C=!c.arrow&&ns(o)!=null&&A!==V&&i.reference[w]/2-(A<U?z:R)-x[w]/2<0,O=C?A<U?A-U:A-L:0;return{[b]:f[b]+O,data:{[b]:V,centerOffset:A-V-O,...C&&{alignmentOffset:O}},reset:C}}}),vw=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:f,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...k}=en(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=tn(o),d=Ft(a),p=tn(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),y=f||(p||!x?[Mi(a)]:uw(a)),E=w!=="none";!f&&E&&y.push(...hw(a,x,w,N));const j=[a,...y],M=await Zs(t,k),I=[];let z=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(M[v]),g){const A=cw(o,l,N);I.push(M[A[0]],M[A[1]])}if(z=[...z,{placement:o,overflows:I}],!I.every(A=>A<=0)){var R,U;const A=(((R=i.flip)==null?void 0:R.index)||0)+1,V=j[A];if(V&&(!(g==="alignment"?d!==Ft(V):!1)||z.every(S=>S.overflows[0]>0&&Ft(S.placement)===d)))return{data:{index:A,overflows:z},reset:{placement:V}};let C=(U=z.filter(O=>O.overflows[0]<=0).sort((O,S)=>O.overflows[1]-S.overflows[1])[0])==null?void 0:U.placement;if(!C)switch(b){case"bestFit":{var L;const O=(L=z.filter(S=>{if(E){const T=Ft(S.placement);return T===d||T==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(T=>T>0).reduce((T,_)=>T+_,0)]).sort((S,T)=>S[1]-T[1])[0])==null?void 0:L[0];O&&(C=O);break}case"initialPlacement":C=a;break}if(o!==C)return{reset:{placement:C}}}return{}}}};function Xd(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Jd(e){return ow.some(t=>e[t]>=0)}const yw=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=en(e,t);switch(r){case"referenceHidden":{const i=await Zs(t,{...o,elementContext:"reference"}),l=Xd(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Jd(l)}}}case"escaped":{const i=await Zs(t,{...o,altBoundary:!0}),l=Xd(i,n.floating);return{data:{escapedOffsets:l,escaped:Jd(l)}}}default:return{}}}}},mp=new Set(["left","top"]);async function ww(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=tn(n),a=ns(n),c=Ft(n)==="y",u=mp.has(l)?-1:1,h=i&&c?-1:1,g=en(t,e);let{mainAxis:f,crossAxis:b,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return a&&typeof w=="number"&&(b=a==="end"?w*-1:w),c?{x:b*h,y:f*u}:{x:f*u,y:b*h}}const bw=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:a}=t,c=await ww(t,e);return l===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:l}}}}},jw=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:a={fn:k=>{let{x:v,y:d}=k;return{x:v,y:d}}},...c}=en(e,t),u={x:n,y:r},h=await Zs(t,c),g=Ft(tn(o)),f=ou(g);let b=u[f],w=u[g];if(i){const k=f==="y"?"top":"left",v=f==="y"?"bottom":"right",d=b+h[k],p=b-h[v];b=Wa(d,b,p)}if(l){const k=g==="y"?"top":"left",v=g==="y"?"bottom":"right",d=w+h[k],p=w-h[v];w=Wa(d,w,p)}const x=a.fn({...t,[f]:b,[g]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:i,[g]:l}}}}}},kw=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:l}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=en(e,t),h={x:n,y:r},g=Ft(o),f=ou(g);let b=h[f],w=h[g];const x=en(a,t),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const p=f==="y"?"height":"width",N=i.reference[f]-i.floating[p]+k.mainAxis,y=i.reference[f]+i.reference[p]-k.mainAxis;b<N?b=N:b>y&&(b=y)}if(u){var v,d;const p=f==="y"?"width":"height",N=mp.has(tn(o)),y=i.reference[g]-i.floating[p]+(N&&((v=l.offset)==null?void 0:v[g])||0)+(N?0:k.crossAxis),E=i.reference[g]+i.reference[p]+(N?0:((d=l.offset)==null?void 0:d[g])||0)-(N?k.crossAxis:0);w<y?w=y:w>E&&(w=E)}return{[f]:b,[g]:w}}}},Nw=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:a}=t,{apply:c=()=>{},...u}=en(e,t),h=await Zs(t,u),g=tn(o),f=ns(o),b=Ft(o)==="y",{width:w,height:x}=i.floating;let k,v;g==="top"||g==="bottom"?(k=g,v=f===(await(l.isRTL==null?void 0:l.isRTL(a.floating))?"start":"end")?"left":"right"):(v=g,k=f==="end"?"top":"bottom");const d=x-h.top-h.bottom,p=w-h.left-h.right,N=Tn(x-h[k],d),y=Tn(w-h[v],p),E=!t.middlewareData.shift;let j=N,M=y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=p),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=d),E&&!f){const z=Xe(h.left,0),R=Xe(h.right,0),U=Xe(h.top,0),L=Xe(h.bottom,0);b?M=w-2*(z!==0||R!==0?z+R:Xe(h.left,h.right)):j=x-2*(U!==0||L!==0?U+L:Xe(h.top,h.bottom))}await c({...t,availableWidth:M,availableHeight:j});const I=await l.getDimensions(a.floating);return w!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function Zi(){return typeof window<"u"}function rs(e){return hp(e)?(e.nodeName||"").toLowerCase():"#document"}function et(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bt(e){var t;return(t=(hp(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hp(e){return Zi()?e instanceof Node||e instanceof et(e).Node:!1}function Ct(e){return Zi()?e instanceof Element||e instanceof et(e).Element:!1}function zt(e){return Zi()?e instanceof HTMLElement||e instanceof et(e).HTMLElement:!1}function Zd(e){return!Zi()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof et(e).ShadowRoot}const Sw=new Set(["inline","contents"]);function fo(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Et(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Sw.has(o)}const Cw=new Set(["table","td","th"]);function Ew(e){return Cw.has(rs(e))}const Mw=[":popover-open",":modal"];function el(e){return Mw.some(t=>{try{return e.matches(t)}catch{return!1}})}const Lw=["transform","translate","scale","rotate","perspective"],Tw=["transform","translate","scale","rotate","perspective","filter"],Pw=["paint","layout","strict","content"];function au(e){const t=cu(),n=Ct(e)?Et(e):e;return Lw.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Tw.some(r=>(n.willChange||"").includes(r))||Pw.some(r=>(n.contain||"").includes(r))}function Rw(e){let t=Pn(e);for(;zt(t)&&!Xr(t);){if(au(t))return t;if(el(t))return null;t=Pn(t)}return null}function cu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Aw=new Set(["html","body","#document"]);function Xr(e){return Aw.has(rs(e))}function Et(e){return et(e).getComputedStyle(e)}function tl(e){return Ct(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pn(e){if(rs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zd(e)&&e.host||Bt(e);return Zd(t)?t.host:t}function pp(e){const t=Pn(e);return Xr(t)?e.ownerDocument?e.ownerDocument.body:e.body:zt(t)&&fo(t)?t:pp(t)}function eo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=pp(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=et(o);if(i){const a=Ua(l);return t.concat(l,l.visualViewport||[],fo(o)?o:[],a&&n?eo(a):[])}return t.concat(o,eo(o,[],n))}function Ua(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gp(e){const t=Et(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=zt(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,a=Ei(n)!==i||Ei(r)!==l;return a&&(n=i,r=l),{width:n,height:r,$:a}}function uu(e){return Ct(e)?e:e.contextElement}function Ar(e){const t=uu(e);if(!zt(t))return _t(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=gp(t);let l=(i?Ei(n.width):n.width)/r,a=(i?Ei(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const Ow=_t(0);function xp(e){const t=et(e);return!cu()||!t.visualViewport?Ow:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fw(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==et(e)?!1:t}function or(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=uu(e);let l=_t(1);t&&(r?Ct(r)&&(l=Ar(r)):l=Ar(e));const a=Fw(i,n,r)?xp(i):_t(0);let c=(o.left+a.x)/l.x,u=(o.top+a.y)/l.y,h=o.width/l.x,g=o.height/l.y;if(i){const f=et(i),b=r&&Ct(r)?et(r):r;let w=f,x=Ua(w);for(;x&&r&&b!==w;){const k=Ar(x),v=x.getBoundingClientRect(),d=Et(x),p=v.left+(x.clientLeft+parseFloat(d.paddingLeft))*k.x,N=v.top+(x.clientTop+parseFloat(d.paddingTop))*k.y;c*=k.x,u*=k.y,h*=k.x,g*=k.y,c+=p,u+=N,w=et(x),x=Ua(w)}}return Li({width:h,height:g,x:c,y:u})}function du(e,t){const n=tl(e).scrollLeft;return t?t.left+n:or(Bt(e)).left+n}function vp(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:du(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function Dw(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=Bt(r),a=t?el(t.floating):!1;if(r===l||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=_t(1);const h=_t(0),g=zt(r);if((g||!g&&!i)&&((rs(r)!=="body"||fo(l))&&(c=tl(r)),zt(r))){const b=or(r);u=Ar(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const f=l&&!g&&!i?vp(l,c,!0):_t(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+f.x,y:n.y*u.y-c.scrollTop*u.y+h.y+f.y}}function Iw(e){return Array.from(e.getClientRects())}function _w(e){const t=Bt(e),n=tl(e),r=e.ownerDocument.body,o=Xe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Xe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+du(e);const a=-n.scrollTop;return Et(r).direction==="rtl"&&(l+=Xe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:a}}function zw(e,t){const n=et(e),r=Bt(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,a=0,c=0;if(o){i=o.width,l=o.height;const u=cu();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:l,x:a,y:c}}const Bw=new Set(["absolute","fixed"]);function $w(e,t){const n=or(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=zt(e)?Ar(e):_t(1),l=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:l,height:a,x:c,y:u}}function ef(e,t,n){let r;if(t==="viewport")r=zw(e,n);else if(t==="document")r=_w(Bt(e));else if(Ct(t))r=$w(t,n);else{const o=xp(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Li(r)}function yp(e,t){const n=Pn(e);return n===t||!Ct(n)||Xr(n)?!1:Et(n).position==="fixed"||yp(n,t)}function Ww(e,t){const n=t.get(e);if(n)return n;let r=eo(e,[],!1).filter(a=>Ct(a)&&rs(a)!=="body"),o=null;const i=Et(e).position==="fixed";let l=i?Pn(e):e;for(;Ct(l)&&!Xr(l);){const a=Et(l),c=au(l);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&Bw.has(o.position)||fo(l)&&!c&&yp(e,l))?r=r.filter(h=>h!==l):o=a,l=Pn(l)}return t.set(e,r),r}function Hw(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?el(t)?[]:Ww(t,this._c):[].concat(n),r],a=l[0],c=l.reduce((u,h)=>{const g=ef(t,h,o);return u.top=Xe(g.top,u.top),u.right=Tn(g.right,u.right),u.bottom=Tn(g.bottom,u.bottom),u.left=Xe(g.left,u.left),u},ef(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Uw(e){const{width:t,height:n}=gp(e);return{width:t,height:n}}function Vw(e,t,n){const r=zt(t),o=Bt(t),i=n==="fixed",l=or(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=_t(0);function u(){c.x=du(o)}if(r||!r&&!i)if((rs(t)!=="body"||fo(o))&&(a=tl(t)),r){const b=or(t,!0,i,t);c.x=b.x+t.clientLeft,c.y=b.y+t.clientTop}else o&&u();i&&!r&&o&&u();const h=o&&!r&&!i?vp(o,a):_t(0),g=l.left+a.scrollLeft-c.x-h.x,f=l.top+a.scrollTop-c.y-h.y;return{x:g,y:f,width:l.width,height:l.height}}function _l(e){return Et(e).position==="static"}function tf(e,t){if(!zt(e)||Et(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Bt(e)===n&&(n=n.ownerDocument.body),n}function wp(e,t){const n=et(e);if(el(e))return n;if(!zt(e)){let o=Pn(e);for(;o&&!Xr(o);){if(Ct(o)&&!_l(o))return o;o=Pn(o)}return n}let r=tf(e,t);for(;r&&Ew(r)&&_l(r);)r=tf(r,t);return r&&Xr(r)&&_l(r)&&!au(r)?n:r||Rw(e)||n}const Gw=async function(e){const t=this.getOffsetParent||wp,n=this.getDimensions,r=await n(e.floating);return{reference:Vw(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Qw(e){return Et(e).direction==="rtl"}const Kw={convertOffsetParentRelativeRectToViewportRelativeRect:Dw,getDocumentElement:Bt,getClippingRect:Hw,getOffsetParent:wp,getElementRects:Gw,getClientRects:Iw,getDimensions:Uw,getScale:Ar,isElement:Ct,isRTL:Qw};function bp(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qw(e,t){let n=null,r;const o=Bt(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function l(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:g,width:f,height:b}=u;if(a||t(),!f||!b)return;const w=Ao(g),x=Ao(o.clientWidth-(h+f)),k=Ao(o.clientHeight-(g+b)),v=Ao(h),p={rootMargin:-w+"px "+-x+"px "+-k+"px "+-v+"px",threshold:Xe(0,Tn(1,c))||1};let N=!0;function y(E){const j=E[0].intersectionRatio;if(j!==c){if(!N)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!bp(u,e.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(y,{...p,root:o.ownerDocument})}catch{n=new IntersectionObserver(y,p)}n.observe(e)}return l(!0),i}function Yw(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=uu(e),h=o||i?[...u?eo(u):[],...eo(t)]:[];h.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const g=u&&a?qw(u,n):null;let f=-1,b=null;l&&(b=new ResizeObserver(v=>{let[d]=v;d&&d.target===u&&b&&(b.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var p;(p=b)==null||p.observe(t)})),n()}),u&&!c&&b.observe(u),b.observe(t));let w,x=c?or(e):null;c&&k();function k(){const v=or(e);x&&!bp(x,v)&&n(),x=v,w=requestAnimationFrame(k)}return n(),()=>{var v;h.forEach(d=>{o&&d.removeEventListener("scroll",n),i&&d.removeEventListener("resize",n)}),g==null||g(),(v=b)==null||v.disconnect(),b=null,c&&cancelAnimationFrame(w)}}const Xw=bw,Jw=jw,Zw=vw,e1=Nw,t1=yw,nf=xw,n1=kw,r1=(e,t,n)=>{const r=new Map,o={platform:Kw,...n},i={...o.platform,_c:r};return gw(e,t,{...o,platform:i})};var s1=typeof document<"u",o1=function(){},Jo=s1?m.useLayoutEffect:o1;function Ti(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ti(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ti(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function jp(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rf(e,t){const n=jp(e);return Math.round(t*n)/n}function zl(e){const t=m.useRef(e);return Jo(()=>{t.current=e}),t}function i1(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[h,g]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,b]=m.useState(r);Ti(f,r)||b(r);const[w,x]=m.useState(null),[k,v]=m.useState(null),d=m.useCallback(S=>{S!==E.current&&(E.current=S,x(S))},[]),p=m.useCallback(S=>{S!==j.current&&(j.current=S,v(S))},[]),N=i||w,y=l||k,E=m.useRef(null),j=m.useRef(null),M=m.useRef(h),I=c!=null,z=zl(c),R=zl(o),U=zl(u),L=m.useCallback(()=>{if(!E.current||!j.current)return;const S={placement:t,strategy:n,middleware:f};R.current&&(S.platform=R.current),r1(E.current,j.current,S).then(T=>{const _={...T,isPositioned:U.current!==!1};A.current&&!Ti(M.current,_)&&(M.current=_,ts.flushSync(()=>{g(_)}))})},[f,t,n,R,U]);Jo(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(S=>({...S,isPositioned:!1})))},[u]);const A=m.useRef(!1);Jo(()=>(A.current=!0,()=>{A.current=!1}),[]),Jo(()=>{if(N&&(E.current=N),y&&(j.current=y),N&&y){if(z.current)return z.current(N,y,L);L()}},[N,y,L,z,I]);const V=m.useMemo(()=>({reference:E,floating:j,setReference:d,setFloating:p}),[d,p]),C=m.useMemo(()=>({reference:N,floating:y}),[N,y]),O=m.useMemo(()=>{const S={position:n,left:0,top:0};if(!C.floating)return S;const T=rf(C.floating,h.x),_=rf(C.floating,h.y);return a?{...S,transform:"translate("+T+"px, "+_+"px)",...jp(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:_}},[n,a,C.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:L,refs:V,elements:C,floatingStyles:O}),[h,L,V,C,O])}const l1=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?nf({element:r.current,padding:o}).fn(n):{}:r?nf({element:r,padding:o}).fn(n):{}}}},a1=(e,t)=>({...Xw(e),options:[e,t]}),c1=(e,t)=>({...Jw(e),options:[e,t]}),u1=(e,t)=>({...n1(e),options:[e,t]}),d1=(e,t)=>({...Zw(e),options:[e,t]}),f1=(e,t)=>({...e1(e),options:[e,t]}),m1=(e,t)=>({...t1(e),options:[e,t]}),h1=(e,t)=>({...l1(e),options:[e,t]});var p1="Arrow",kp=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return s.jsx(ye.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});kp.displayName=p1;var g1=kp;function x1(e){const[t,n]=m.useState(void 0);return qe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let l,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;l=u.inlineSize,a=u.blockSize}else l=e.offsetWidth,a=e.offsetHeight;n({width:l,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var fu="Popper",[Np,Sp]=ru(fu),[v1,Cp]=Np(fu),Ep=e=>{const{__scopePopper:t,children:n}=e,[r,o]=m.useState(null);return s.jsx(v1,{scope:t,anchor:r,onAnchorChange:o,children:n})};Ep.displayName=fu;var Mp="PopperAnchor",Lp=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=Cp(Mp,n),l=m.useRef(null),a=Pe(t,l);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:s.jsx(ye.div,{...o,ref:a})});Lp.displayName=Mp;var mu="PopperContent",[y1,w1]=Np(mu),Tp=m.forwardRef((e,t)=>{var B,ee,ne,P,W,Z;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:l=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:f=!1,updatePositionStrategy:b="optimized",onPlaced:w,...x}=e,k=Cp(mu,n),[v,d]=m.useState(null),p=Pe(t,je=>d(je)),[N,y]=m.useState(null),E=x1(N),j=(E==null?void 0:E.width)??0,M=(E==null?void 0:E.height)??0,I=r+(i!=="center"?"-"+i:""),z=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],U=R.length>0,L={padding:z,boundary:R.filter(j1),altBoundary:U},{refs:A,floatingStyles:V,placement:C,isPositioned:O,middlewareData:S}=i1({strategy:"fixed",placement:I,whileElementsMounted:(...je)=>Yw(...je,{animationFrame:b==="always"}),elements:{reference:k.anchor},middleware:[a1({mainAxis:o+M,alignmentAxis:l}),c&&c1({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?u1():void 0,...L}),c&&d1({...L}),f1({...L,apply:({elements:je,rects:st,availableWidth:ls,availableHeight:as})=>{const{width:cs,height:$0}=st.reference,mo=je.floating.style;mo.setProperty("--radix-popper-available-width",`${ls}px`),mo.setProperty("--radix-popper-available-height",`${as}px`),mo.setProperty("--radix-popper-anchor-width",`${cs}px`),mo.setProperty("--radix-popper-anchor-height",`${$0}px`)}}),N&&h1({element:N,padding:a}),k1({arrowWidth:j,arrowHeight:M}),f&&m1({strategy:"referenceHidden",...L})]}),[T,_]=Ap(C),G=sr(w);qe(()=>{O&&(G==null||G())},[O,G]);const X=(B=S.arrow)==null?void 0:B.x,F=(ee=S.arrow)==null?void 0:ee.y,H=((ne=S.arrow)==null?void 0:ne.centerOffset)!==0,[Q,J]=m.useState();return qe(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:O?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(P=S.transformOrigin)==null?void 0:P.x,(W=S.transformOrigin)==null?void 0:W.y].join(" "),...((Z=S.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(y1,{scope:n,placedSide:T,onArrowChange:y,arrowX:X,arrowY:F,shouldHideArrow:H,children:s.jsx(ye.div,{"data-side":T,"data-align":_,...x,ref:p,style:{...x.style,animation:O?void 0:"none"}})})})});Tp.displayName=mu;var Pp="PopperArrow",b1={top:"bottom",right:"left",bottom:"top",left:"right"},Rp=m.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=w1(Pp,r),l=b1[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(g1,{...o,ref:n,style:{...o.style,display:"block"}})})});Rp.displayName=Pp;function j1(e){return e!==null}var k1=e=>({name:"transformOrigin",options:e,fn(t){var k,v,d;const{placement:n,rects:r,middlewareData:o}=t,l=((k=o.arrow)==null?void 0:k.centerOffset)!==0,a=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[u,h]=Ap(n),g={start:"0%",center:"50%",end:"100%"}[h],f=(((v=o.arrow)==null?void 0:v.x)??0)+a/2,b=(((d=o.arrow)==null?void 0:d.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=l?g:`${f}px`,x=`${-c}px`):u==="top"?(w=l?g:`${f}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=l?g:`${b}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=l?g:`${b}px`),{data:{x:w,y:x}}}});function Ap(e){const[t,n="center"]=e.split("-");return[t,n]}var N1=Ep,S1=Lp,C1=Tp,E1=Rp,M1="Portal",Op=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[o,i]=m.useState(!1);qe(()=>i(!0),[]);const l=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return l?hv.createPortal(s.jsx(ye.div,{...r,ref:t}),l):null});Op.displayName=M1;var L1=lc[" useInsertionEffect ".trim().toString()]||qe;function sf({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,l]=T1({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:o;{const h=m.useRef(e!==void 0);m.useEffect(()=>{const g=h.current;g!==a&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=m.useCallback(h=>{var g;if(a){const f=P1(h)?h(e):h;f!==e&&((g=l.current)==null||g.call(l,f))}else i(h)},[a,e,i,l]);return[c,u]}function T1({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),o=m.useRef(n),i=m.useRef(t);return L1(()=>{i.current=t},[t]),m.useEffect(()=>{var l;o.current!==n&&((l=i.current)==null||l.call(i,n),o.current=n)},[n,o]),[n,r,i]}function P1(e){return typeof e=="function"}function R1(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Fp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A1="VisuallyHidden",O1=m.forwardRef((e,t)=>s.jsx(ye.span,{...e,ref:t,style:{...Fp,...e.style}}));O1.displayName=A1;var F1=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dr=new WeakMap,Oo=new WeakMap,Fo={},Bl=0,Dp=function(e){return e&&(e.host||Dp(e.parentNode))},D1=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Dp(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},I1=function(e,t,n,r){var o=D1(t,Array.isArray(e)?e:[e]);Fo[n]||(Fo[n]=new WeakMap);var i=Fo[n],l=[],a=new Set,c=new Set(o),u=function(g){!g||a.has(g)||(a.add(g),u(g.parentNode))};o.forEach(u);var h=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(f){if(a.has(f))h(f);else try{var b=f.getAttribute(r),w=b!==null&&b!=="false",x=(dr.get(f)||0)+1,k=(i.get(f)||0)+1;dr.set(f,x),i.set(f,k),l.push(f),x===1&&w&&Oo.set(f,!0),k===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return h(t),a.clear(),Bl++,function(){l.forEach(function(g){var f=dr.get(g)-1,b=i.get(g)-1;dr.set(g,f),i.set(g,b),f||(Oo.has(g)||g.removeAttribute(r),Oo.delete(g)),b||g.removeAttribute(n)}),Bl--,Bl||(dr=new WeakMap,dr=new WeakMap,Oo=new WeakMap,Fo={})}},_1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||F1(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),I1(r,o,n,"aria-hidden")):function(){return null}},Ot=function(){return Ot=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ot.apply(this,arguments)};function Ip(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function z1(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Zo="right-scroll-bar-position",ei="width-before-scroll-bar",B1="with-scroll-bars-hidden",$1="--removed-body-scroll-bar-size";function $l(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function W1(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var H1=typeof window<"u"?m.useLayoutEffect:m.useEffect,of=new WeakMap;function U1(e,t){var n=W1(t||null,function(r){return e.forEach(function(o){return $l(o,r)})});return H1(function(){var r=of.get(n);if(r){var o=new Set(r),i=new Set(e),l=n.current;o.forEach(function(a){i.has(a)||$l(a,null)}),i.forEach(function(a){o.has(a)||$l(a,l)})}of.set(n,e)},[e]),n}function V1(e){return e}function G1(e,t){t===void 0&&(t=V1);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(a){return a!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var a=n;n=[],a.forEach(i),l=n}var c=function(){var h=l;l=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){l.push(h),u()},filter:function(h){return l=l.filter(h),n}}}};return o}function Q1(e){e===void 0&&(e={});var t=G1(null);return t.options=Ot({async:!0,ssr:!1},e),t}var _p=function(e){var t=e.sideCar,n=Ip(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ot({},n))};_p.isSideCarExport=!0;function K1(e,t){return e.useMedium(t),_p}var zp=Q1(),Wl=function(){},nl=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Wl,onWheelCapture:Wl,onTouchMoveCapture:Wl}),o=r[0],i=r[1],l=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,g=e.shards,f=e.sideCar,b=e.noRelative,w=e.noIsolation,x=e.inert,k=e.allowPinchZoom,v=e.as,d=v===void 0?"div":v,p=e.gapMode,N=Ip(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=f,E=U1([n,t]),j=Ot(Ot({},N),o);return m.createElement(m.Fragment,null,h&&m.createElement(y,{sideCar:zp,removeScrollBar:u,shards:g,noRelative:b,noIsolation:w,inert:x,setCallbacks:i,allowPinchZoom:!!k,lockRef:n,gapMode:p}),l?m.cloneElement(m.Children.only(a),Ot(Ot({},j),{ref:E})):m.createElement(d,Ot({},j,{className:c,ref:E}),a))});nl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nl.classNames={fullWidth:ei,zeroRight:Zo};var lf,q1=function(){if(lf)return lf;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y1(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=q1();return t&&e.setAttribute("nonce",t),e}function X1(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J1(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Z1=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Y1())&&(X1(t,n),J1(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},e2=function(){var e=Z1();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Bp=function(){var e=e2(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},t2={left:0,top:0,right:0,gap:0},Hl=function(e){return parseInt(e||"",10)||0},n2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Hl(n),Hl(r),Hl(o)]},r2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return t2;var t=n2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},s2=Bp(),Or="data-scroll-locked",o2=function(e,t,n,r){var o=e.left,i=e.top,l=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(B1,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Or,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zo,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ei,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zo," .").concat(Zo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ei," .").concat(ei,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Or,`] {
    `).concat($1,": ").concat(a,`px;
  }
`)},af=function(){var e=parseInt(document.body.getAttribute(Or)||"0",10);return isFinite(e)?e:0},i2=function(){m.useEffect(function(){return document.body.setAttribute(Or,(af()+1).toString()),function(){var e=af()-1;e<=0?document.body.removeAttribute(Or):document.body.setAttribute(Or,e.toString())}},[])},l2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;i2();var i=m.useMemo(function(){return r2(o)},[o]);return m.createElement(s2,{styles:o2(i,!t,o,n?"":"!important")})},Va=!1;if(typeof window<"u")try{var Do=Object.defineProperty({},"passive",{get:function(){return Va=!0,!0}});window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Va=!1}var fr=Va?{passive:!1}:!1,a2=function(e){return e.tagName==="TEXTAREA"},$p=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!a2(e)&&n[t]==="visible")},c2=function(e){return $p(e,"overflowY")},u2=function(e){return $p(e,"overflowX")},cf=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Wp(e,r);if(o){var i=Hp(e,r),l=i[1],a=i[2];if(l>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},d2=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},f2=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Wp=function(e,t){return e==="v"?c2(t):u2(t)},Hp=function(e,t){return e==="v"?d2(t):f2(t)},m2=function(e,t){return e==="h"&&t==="rtl"?-1:1},h2=function(e,t,n,r,o){var i=m2(e,window.getComputedStyle(t).direction),l=i*r,a=n.target,c=t.contains(a),u=!1,h=l>0,g=0,f=0;do{if(!a)break;var b=Hp(e,a),w=b[0],x=b[1],k=b[2],v=x-k-i*w;(w||v)&&Wp(e,a)&&(g+=v,f+=w);var d=a.parentNode;a=d&&d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?d.host:d}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(h&&(o&&Math.abs(g)<1||!o&&l>g)||!h&&(o&&Math.abs(f)<1||!o&&-l>f))&&(u=!0),u},Io=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uf=function(e){return[e.deltaX,e.deltaY]},df=function(e){return e&&"current"in e?e.current:e},p2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},g2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},x2=0,mr=[];function v2(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),o=m.useState(x2++)[0],i=m.useState(Bp)[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=z1([e.lockRef.current],(e.shards||[]).map(df),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var v=Io(x),d=n.current,p="deltaX"in x?x.deltaX:d[0]-v[0],N="deltaY"in x?x.deltaY:d[1]-v[1],y,E=x.target,j=Math.abs(p)>Math.abs(N)?"h":"v";if("touches"in x&&j==="h"&&E.type==="range")return!1;var M=cf(j,E);if(!M)return!0;if(M?y=j:(y=j==="v"?"h":"v",M=cf(j,E)),!M)return!1;if(!r.current&&"changedTouches"in x&&(p||N)&&(r.current=y),!y)return!0;var I=r.current||y;return h2(I,k,x,I==="h"?p:N,!0)},[]),c=m.useCallback(function(x){var k=x;if(!(!mr.length||mr[mr.length-1]!==i)){var v="deltaY"in k?uf(k):Io(k),d=t.current.filter(function(y){return y.name===k.type&&(y.target===k.target||k.target===y.shadowParent)&&p2(y.delta,v)})[0];if(d&&d.should){k.cancelable&&k.preventDefault();return}if(!d){var p=(l.current.shards||[]).map(df).filter(Boolean).filter(function(y){return y.contains(k.target)}),N=p.length>0?a(k,p[0]):!l.current.noIsolation;N&&k.cancelable&&k.preventDefault()}}},[]),u=m.useCallback(function(x,k,v,d){var p={name:x,delta:k,target:v,should:d,shadowParent:y2(v)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(N){return N!==p})},1)},[]),h=m.useCallback(function(x){n.current=Io(x),r.current=void 0},[]),g=m.useCallback(function(x){u(x.type,uf(x),x.target,a(x,e.lockRef.current))},[]),f=m.useCallback(function(x){u(x.type,Io(x),x.target,a(x,e.lockRef.current))},[]);m.useEffect(function(){return mr.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:f}),document.addEventListener("wheel",c,fr),document.addEventListener("touchmove",c,fr),document.addEventListener("touchstart",h,fr),function(){mr=mr.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,fr),document.removeEventListener("touchmove",c,fr),document.removeEventListener("touchstart",h,fr)}},[]);var b=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:g2(o)}):null,b?m.createElement(l2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function y2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const w2=K1(zp,v2);var Up=m.forwardRef(function(e,t){return m.createElement(nl,Ot({},e,{ref:t,sideCar:w2}))});Up.classNames=nl.classNames;const b2=Up;var j2=[" ","Enter","ArrowUp","ArrowDown"],k2=[" ","Enter"],ir="Select",[rl,sl,N2]=Dy(ir),[ss,Yb]=ru(ir,[N2,Sp]),ol=Sp(),[S2,Fn]=ss(ir),[C2,E2]=ss(ir),Vp=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:i,value:l,defaultValue:a,onValueChange:c,dir:u,name:h,autoComplete:g,disabled:f,required:b,form:w}=e,x=ol(t),[k,v]=m.useState(null),[d,p]=m.useState(null),[N,y]=m.useState(!1),E=_y(u),[j,M]=sf({prop:r,defaultProp:o??!1,onChange:i,caller:ir}),[I,z]=sf({prop:l,defaultProp:a,onChange:c,caller:ir}),R=m.useRef(null),U=k?w||!!k.closest("form"):!0,[L,A]=m.useState(new Set),V=Array.from(L).map(C=>C.props.value).join(";");return s.jsx(N1,{...x,children:s.jsxs(S2,{required:b,scope:t,trigger:k,onTriggerChange:v,valueNode:d,onValueNodeChange:p,valueNodeHasChildren:N,onValueNodeHasChildrenChange:y,contentId:su(),value:I,onValueChange:z,open:j,onOpenChange:M,dir:E,triggerPointerDownPosRef:R,disabled:f,children:[s.jsx(rl.Provider,{scope:t,children:s.jsx(C2,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(C=>{A(O=>new Set(O).add(C))},[]),onNativeOptionRemove:m.useCallback(C=>{A(O=>{const S=new Set(O);return S.delete(C),S})},[]),children:n})}),U?s.jsxs(p0,{"aria-hidden":!0,required:b,tabIndex:-1,name:h,autoComplete:g,value:I,onChange:C=>z(C.target.value),disabled:f,form:w,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(L)]},V):null]})})};Vp.displayName=ir;var Gp="SelectTrigger",Qp=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,i=ol(n),l=Fn(Gp,n),a=l.disabled||r,c=Pe(t,l.onTriggerChange),u=sl(n),h=m.useRef("touch"),[g,f,b]=x0(x=>{const k=u().filter(p=>!p.disabled),v=k.find(p=>p.value===l.value),d=v0(k,x,v);d!==void 0&&l.onValueChange(d.value)}),w=x=>{a||(l.onOpenChange(!0),b()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(S1,{asChild:!0,...i,children:s.jsx(ye.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":g0(l.value)?"":void 0,...o,ref:c,onClick:we(o.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:we(o.onPointerDown,x=>{h.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:we(o.onKeyDown,x=>{const k=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(k&&x.key===" ")&&j2.includes(x.key)&&(w(),x.preventDefault())})})})});Qp.displayName=Gp;var Kp="SelectValue",qp=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:l="",...a}=e,c=Fn(Kp,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,g=Pe(t,c.onValueNodeChange);return qe(()=>{u(h)},[u,h]),s.jsx(ye.span,{...a,ref:g,style:{pointerEvents:"none"},children:g0(c.value)?s.jsx(s.Fragment,{children:l}):i})});qp.displayName=Kp;var M2="SelectIcon",Yp=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return s.jsx(ye.span,{"aria-hidden":!0,...o,ref:t,children:r||"▼"})});Yp.displayName=M2;var L2="SelectPortal",Xp=e=>s.jsx(Op,{asChild:!0,...e});Xp.displayName=L2;var lr="SelectContent",Jp=m.forwardRef((e,t)=>{const n=Fn(lr,e.__scopeSelect),[r,o]=m.useState();if(qe(()=>{o(new DocumentFragment)},[]),!n.open){const i=r;return i?ts.createPortal(s.jsx(Zp,{scope:e.__scopeSelect,children:s.jsx(rl.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(e0,{...e,ref:t})});Jp.displayName=lr;var pt=10,[Zp,Dn]=ss(lr),T2="SelectContentImpl",P2=Ci("SelectContent.RemoveScroll"),e0=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:l,side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:g,collisionBoundary:f,collisionPadding:b,sticky:w,hideWhenDetached:x,avoidCollisions:k,...v}=e,d=Fn(lr,n),[p,N]=m.useState(null),[y,E]=m.useState(null),j=Pe(t,B=>N(B)),[M,I]=m.useState(null),[z,R]=m.useState(null),U=sl(n),[L,A]=m.useState(!1),V=m.useRef(!1);m.useEffect(()=>{if(p)return _1(p)},[p]),qy();const C=m.useCallback(B=>{const[ee,...ne]=U().map(Z=>Z.ref.current),[P]=ne.slice(-1),W=document.activeElement;for(const Z of B)if(Z===W||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===ee&&y&&(y.scrollTop=0),Z===P&&y&&(y.scrollTop=y.scrollHeight),Z==null||Z.focus(),document.activeElement!==W))return},[U,y]),O=m.useCallback(()=>C([M,p]),[C,M,p]);m.useEffect(()=>{L&&O()},[L,O]);const{onOpenChange:S,triggerPointerDownPosRef:T}=d;m.useEffect(()=>{if(p){let B={x:0,y:0};const ee=P=>{var W,Z;B={x:Math.abs(Math.round(P.pageX)-(((W=T.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(P.pageY)-(((Z=T.current)==null?void 0:Z.y)??0))}},ne=P=>{B.x<=10&&B.y<=10?P.preventDefault():p.contains(P.target)||S(!1),document.removeEventListener("pointermove",ee),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",ne,{capture:!0})}}},[p,S,T]),m.useEffect(()=>{const B=()=>S(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[S]);const[_,G]=x0(B=>{const ee=U().filter(W=>!W.disabled),ne=ee.find(W=>W.ref.current===document.activeElement),P=v0(ee,B,ne);P&&setTimeout(()=>P.ref.current.focus())}),X=m.useCallback((B,ee,ne)=>{const P=!V.current&&!ne;(d.value!==void 0&&d.value===ee||P)&&(I(B),P&&(V.current=!0))},[d.value]),F=m.useCallback(()=>p==null?void 0:p.focus(),[p]),H=m.useCallback((B,ee,ne)=>{const P=!V.current&&!ne;(d.value!==void 0&&d.value===ee||P)&&R(B)},[d.value]),Q=r==="popper"?Ga:t0,J=Q===Ga?{side:a,sideOffset:c,align:u,alignOffset:h,arrowPadding:g,collisionBoundary:f,collisionPadding:b,sticky:w,hideWhenDetached:x,avoidCollisions:k}:{};return s.jsx(Zp,{scope:n,content:p,viewport:y,onViewportChange:E,itemRefCallback:X,selectedItem:M,onItemLeave:F,itemTextRefCallback:H,focusSelectedItem:O,selectedItemText:z,position:r,isPositioned:L,searchRef:_,children:s.jsx(b2,{as:P2,allowPinchZoom:!0,children:s.jsx(up,{asChild:!0,trapped:d.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:we(o,B=>{var ee;(ee=d.trigger)==null||ee.focus({preventScroll:!0}),B.preventDefault()}),children:s.jsx(ap,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>d.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:d.contentId,"data-state":d.open?"open":"closed",dir:d.dir,onContextMenu:B=>B.preventDefault(),...v,...J,onPlaced:()=>A(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:we(v.onKeyDown,B=>{const ee=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!ee&&B.key.length===1&&G(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let P=U().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(B.key)&&(P=P.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const W=B.target,Z=P.indexOf(W);P=P.slice(Z+1)}setTimeout(()=>C(P)),B.preventDefault()}})})})})})})});e0.displayName=T2;var R2="SelectItemAlignedPosition",t0=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,i=Fn(lr,n),l=Dn(lr,n),[a,c]=m.useState(null),[u,h]=m.useState(null),g=Pe(t,j=>h(j)),f=sl(n),b=m.useRef(!1),w=m.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:v,focusSelectedItem:d}=l,p=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&x&&k&&v){const j=i.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),z=v.getBoundingClientRect();if(i.dir!=="rtl"){const W=z.left-M.left,Z=I.left-W,je=j.left-Z,st=j.width+je,ls=Math.max(st,M.width),as=window.innerWidth-pt,cs=zd(Z,[pt,Math.max(pt,as-ls)]);a.style.minWidth=st+"px",a.style.left=cs+"px"}else{const W=M.right-z.right,Z=window.innerWidth-I.right-W,je=window.innerWidth-j.right-Z,st=j.width+je,ls=Math.max(st,M.width),as=window.innerWidth-pt,cs=zd(Z,[pt,Math.max(pt,as-ls)]);a.style.minWidth=st+"px",a.style.right=cs+"px"}const R=f(),U=window.innerHeight-pt*2,L=x.scrollHeight,A=window.getComputedStyle(u),V=parseInt(A.borderTopWidth,10),C=parseInt(A.paddingTop,10),O=parseInt(A.borderBottomWidth,10),S=parseInt(A.paddingBottom,10),T=V+C+L+S+O,_=Math.min(k.offsetHeight*5,T),G=window.getComputedStyle(x),X=parseInt(G.paddingTop,10),F=parseInt(G.paddingBottom,10),H=j.top+j.height/2-pt,Q=U-H,J=k.offsetHeight/2,B=k.offsetTop+J,ee=V+C+B,ne=T-ee;if(ee<=H){const W=R.length>0&&k===R[R.length-1].ref.current;a.style.bottom="0px";const Z=u.clientHeight-x.offsetTop-x.offsetHeight,je=Math.max(Q,J+(W?F:0)+Z+O),st=ee+je;a.style.height=st+"px"}else{const W=R.length>0&&k===R[0].ref.current;a.style.top="0px";const je=Math.max(H,V+x.offsetTop+(W?X:0)+J)+ne;a.style.height=je+"px",x.scrollTop=ee-H+x.offsetTop}a.style.margin=`${pt}px 0`,a.style.minHeight=_+"px",a.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[f,i.trigger,i.valueNode,a,u,x,k,v,i.dir,r]);qe(()=>p(),[p]);const[N,y]=m.useState();qe(()=>{u&&y(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(j=>{j&&w.current===!0&&(p(),d==null||d(),w.current=!1)},[p,d]);return s.jsx(O2,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:E,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(ye.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});t0.displayName=R2;var A2="SelectPopperPosition",Ga=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=pt,...i}=e,l=ol(n);return s.jsx(C1,{...l,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ga.displayName=A2;var[O2,hu]=ss(lr,{}),Qa="SelectViewport",n0=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,i=Dn(Qa,n),l=hu(Qa,n),a=Pe(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(rl.Slot,{scope:n,children:s.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:we(o.onScroll,u=>{const h=u.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&g){const b=Math.abs(c.current-h.scrollTop);if(b>0){const w=window.innerHeight-pt*2,x=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),v=Math.max(x,k);if(v<w){const d=v+b,p=Math.min(w,d),N=d-p;g.style.height=p+"px",g.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,g.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});n0.displayName=Qa;var r0="SelectGroup",[F2,D2]=ss(r0),I2=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=su();return s.jsx(F2,{scope:n,id:o,children:s.jsx(ye.div,{role:"group","aria-labelledby":o,...r,ref:t})})});I2.displayName=r0;var s0="SelectLabel",o0=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=D2(s0,n);return s.jsx(ye.div,{id:o.id,...r,ref:t})});o0.displayName=s0;var Pi="SelectItem",[_2,i0]=ss(Pi),l0=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:i,...l}=e,a=Fn(Pi,n),c=Dn(Pi,n),u=a.value===r,[h,g]=m.useState(i??""),[f,b]=m.useState(!1),w=Pe(t,d=>{var p;return(p=c.itemRefCallback)==null?void 0:p.call(c,d,r,o)}),x=su(),k=m.useRef("touch"),v=()=>{o||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(_2,{scope:n,value:r,disabled:o,textId:x,isSelected:u,onItemTextChange:m.useCallback(d=>{g(p=>p||((d==null?void 0:d.textContent)??"").trim())},[]),children:s.jsx(rl.ItemSlot,{scope:n,value:r,disabled:o,textValue:h,children:s.jsx(ye.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:w,onFocus:we(l.onFocus,()=>b(!0)),onBlur:we(l.onBlur,()=>b(!1)),onClick:we(l.onClick,()=>{k.current!=="mouse"&&v()}),onPointerUp:we(l.onPointerUp,()=>{k.current==="mouse"&&v()}),onPointerDown:we(l.onPointerDown,d=>{k.current=d.pointerType}),onPointerMove:we(l.onPointerMove,d=>{var p;k.current=d.pointerType,o?(p=c.onItemLeave)==null||p.call(c):k.current==="mouse"&&d.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(l.onPointerLeave,d=>{var p;d.currentTarget===document.activeElement&&((p=c.onItemLeave)==null||p.call(c))}),onKeyDown:we(l.onKeyDown,d=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&d.key===" "||(k2.includes(d.key)&&v(),d.key===" "&&d.preventDefault())})})})})});l0.displayName=Pi;var Ns="SelectItemText",a0=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...i}=e,l=Fn(Ns,n),a=Dn(Ns,n),c=i0(Ns,n),u=E2(Ns,n),[h,g]=m.useState(null),f=Pe(t,v=>g(v),c.onItemTextChange,v=>{var d;return(d=a.itemTextRefCallback)==null?void 0:d.call(a,v,c.value,c.disabled)}),b=h==null?void 0:h.textContent,w=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=u;return qe(()=>(x(w),()=>k(w)),[x,k,w]),s.jsxs(s.Fragment,{children:[s.jsx(ye.span,{id:c.textId,...i,ref:f}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ts.createPortal(i.children,l.valueNode):null]})});a0.displayName=Ns;var c0="SelectItemIndicator",u0=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i0(c0,n).isSelected?s.jsx(ye.span,{"aria-hidden":!0,...r,ref:t}):null});u0.displayName=c0;var Ka="SelectScrollUpButton",d0=m.forwardRef((e,t)=>{const n=Dn(Ka,e.__scopeSelect),r=hu(Ka,e.__scopeSelect),[o,i]=m.useState(!1),l=Pe(t,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?s.jsx(m0,{...e,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});d0.displayName=Ka;var qa="SelectScrollDownButton",f0=m.forwardRef((e,t)=>{const n=Dn(qa,e.__scopeSelect),r=hu(qa,e.__scopeSelect),[o,i]=m.useState(!1),l=Pe(t,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),o?s.jsx(m0,{...e,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});f0.displayName=qa;var m0=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,i=Dn("SelectScrollButton",n),l=m.useRef(null),a=sl(n),c=m.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),qe(()=>{var h;const u=a().find(g=>g.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),s.jsx(ye.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:we(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:we(o.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:we(o.onPointerLeave,()=>{c()})})}),z2="SelectSeparator",h0=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(ye.div,{"aria-hidden":!0,...r,ref:t})});h0.displayName=z2;var Ya="SelectArrow",B2=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=ol(n),i=Fn(Ya,n),l=Dn(Ya,n);return i.open&&l.position==="popper"?s.jsx(E1,{...o,...r,ref:t}):null});B2.displayName=Ya;var $2="SelectBubbleInput",p0=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=m.useRef(null),i=Pe(r,o),l=R1(t);return m.useEffect(()=>{const a=o.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==t&&h){const g=new Event("change",{bubbles:!0});h.call(a,t),a.dispatchEvent(g)}},[l,t]),s.jsx(ye.select,{...n,style:{...Fp,...n.style},ref:i,defaultValue:t})});p0.displayName=$2;function g0(e){return e===""||e===void 0}function x0(e){const t=sr(e),n=m.useRef(""),r=m.useRef(0),o=m.useCallback(l=>{const a=n.current+l;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,i]}function v0(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=W2(e,Math.max(i,0));o.length===1&&(l=l.filter(u=>u!==n));const c=l.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function W2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var H2=Vp,y0=Qp,U2=qp,V2=Yp,G2=Xp,w0=Jp,Q2=n0,b0=o0,j0=l0,K2=a0,q2=u0,k0=d0,N0=f0,S0=h0;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X2=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ff=e=>{const t=X2(e);return t.charAt(0).toUpperCase()+t.slice(1)},C0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),J2=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...a},c)=>m.createElement("svg",{ref:c,...Z2,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:C0("lucide",o),...!i&&!J2(a)&&{"aria-hidden":"true"},...a},[...l.map(([u,h])=>m.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=(e,t)=>{const n=m.forwardRef(({className:r,...o},i)=>m.createElement(eb,{ref:i,iconNode:t,className:C0(`lucide-${Y2(ff(e))}`,`lucide-${e}`,r),...o}));return n.displayName=ff(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nb=pu("check",tb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E0=pu("chevron-down",rb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ob=pu("chevron-up",sb);function M0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=M0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ib(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=M0(e))&&(r&&(r+=" "),r+=t);return r}const gu="-",lb=e=>{const t=cb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const a=l.split(gu);return a[0]===""&&a.length!==1&&a.shift(),L0(a,t)||ab(l)},getConflictingClassGroupIds:(l,a)=>{const c=n[l]||[];return a&&r[l]?[...c,...r[l]]:c}}},L0=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?L0(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(gu);return(l=t.validators.find(({validator:a})=>a(i)))==null?void 0:l.classGroupId},mf=/^\[(.+)\]$/,ab=e=>{if(mf.test(e)){const t=mf.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},cb=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)Xa(n[o],r,o,t);return r},Xa=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:hf(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(ub(o)){Xa(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,l])=>{Xa(l,hf(t,i),n,r)})})},hf=(e,t)=>{let n=e;return t.split(gu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ub=e=>e.isThemeGetter,db=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,l)=>{n.set(i,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return o(i,l),l},set(i,l){n.has(i)?n.set(i,l):o(i,l)}}},Ja="!",Za=":",fb=Za.length,mb=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let l=0,a=0,c=0,u;for(let w=0;w<o.length;w++){let x=o[w];if(l===0&&a===0){if(x===Za){i.push(o.slice(c,w)),c=w+fb;continue}if(x==="/"){u=w;continue}}x==="["?l++:x==="]"?l--:x==="("?a++:x===")"&&a--}const h=i.length===0?o:o.substring(c),g=hb(h),f=g!==h,b=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:b}};if(t){const o=t+Za,i=r;r=l=>l.startsWith(o)?i(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},hb=e=>e.endsWith(Ja)?e.substring(0,e.length-1):e.startsWith(Ja)?e.substring(1):e,pb=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let i=[];return r.forEach(l=>{l[0]==="["||t[l]?(o.push(...i.sort(),l),i=[]):i.push(l)}),o.push(...i.sort()),o}},gb=e=>({cache:db(e.cacheSize),parseClassName:mb(e),sortModifiers:pb(e),...lb(e)}),xb=/\s+/,vb=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,l=[],a=e.trim().split(xb);let c="";for(let u=a.length-1;u>=0;u-=1){const h=a[u],{isExternal:g,modifiers:f,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:x}=n(h);if(g){c=h+(c.length>0?" "+c:c);continue}let k=!!x,v=r(k?w.substring(0,x):w);if(!v){if(!k){c=h+(c.length>0?" "+c:c);continue}if(v=r(w),!v){c=h+(c.length>0?" "+c:c);continue}k=!1}const d=i(f).join(":"),p=b?d+Ja:d,N=p+v;if(l.includes(N))continue;l.push(N);const y=o(v,k);for(let E=0;E<y.length;++E){const j=y[E];l.push(p+j)}c=h+(c.length>0?" "+c:c)}return c};function yb(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=T0(t))&&(r&&(r+=" "),r+=n);return r}const T0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=T0(e[r]))&&(n&&(n+=" "),n+=t);return n};function wb(e,...t){let n,r,o,i=l;function l(c){const u=t.reduce((h,g)=>g(h),e());return n=gb(u),r=n.cache.get,o=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=vb(c,n);return o(c,h),h}return function(){return i(yb.apply(null,arguments))}}const ke=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},P0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,R0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bb=/^\d+\/\d+$/,jb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Sb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hr=e=>bb.test(e),se=e=>!!e&&!Number.isNaN(Number(e)),on=e=>!!e&&Number.isInteger(Number(e)),Ul=e=>e.endsWith("%")&&se(e.slice(0,-1)),Wt=e=>jb.test(e),Eb=()=>!0,Mb=e=>kb.test(e)&&!Nb.test(e),A0=()=>!1,Lb=e=>Sb.test(e),Tb=e=>Cb.test(e),Pb=e=>!q(e)&&!Y(e),Rb=e=>os(e,D0,A0),q=e=>P0.test(e),In=e=>os(e,I0,Mb),Vl=e=>os(e,Ib,se),pf=e=>os(e,O0,A0),Ab=e=>os(e,F0,Tb),_o=e=>os(e,_0,Lb),Y=e=>R0.test(e),ys=e=>is(e,I0),Ob=e=>is(e,_b),gf=e=>is(e,O0),Fb=e=>is(e,D0),Db=e=>is(e,F0),zo=e=>is(e,_0,!0),os=(e,t,n)=>{const r=P0.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},is=(e,t,n=!1)=>{const r=R0.exec(e);return r?r[1]?t(r[1]):n:!1},O0=e=>e==="position"||e==="percentage",F0=e=>e==="image"||e==="url",D0=e=>e==="length"||e==="size"||e==="bg-size",I0=e=>e==="length",Ib=e=>e==="number",_b=e=>e==="family-name",_0=e=>e==="shadow",zb=()=>{const e=ke("color"),t=ke("font"),n=ke("text"),r=ke("font-weight"),o=ke("tracking"),i=ke("leading"),l=ke("breakpoint"),a=ke("container"),c=ke("spacing"),u=ke("radius"),h=ke("shadow"),g=ke("inset-shadow"),f=ke("text-shadow"),b=ke("drop-shadow"),w=ke("blur"),x=ke("perspective"),k=ke("aspect"),v=ke("ease"),d=ke("animate"),p=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],y=()=>[...N(),Y,q],E=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],M=()=>[Y,q,c],I=()=>[hr,"full","auto",...M()],z=()=>[on,"none","subgrid",Y,q],R=()=>["auto",{span:["full",on,Y,q]},on,Y,q],U=()=>[on,"auto",Y,q],L=()=>["auto","min","max","fr",Y,q],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],C=()=>["auto",...M()],O=()=>[hr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],S=()=>[e,Y,q],T=()=>[...N(),gf,pf,{position:[Y,q]}],_=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Fb,Rb,{size:[Y,q]}],X=()=>[Ul,ys,In],F=()=>["","none","full",u,Y,q],H=()=>["",se,ys,In],Q=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[se,Ul,gf,pf],ee=()=>["","none",w,Y,q],ne=()=>["none",se,Y,q],P=()=>["none",se,Y,q],W=()=>[se,Y,q],Z=()=>[hr,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wt],breakpoint:[Wt],color:[Eb],container:[Wt],"drop-shadow":[Wt],ease:["in","out","in-out"],font:[Pb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wt],shadow:[Wt],spacing:["px",se],text:[Wt],"text-shadow":[Wt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hr,q,Y,k]}],container:["container"],columns:[{columns:[se,q,Y,a]}],"break-after":[{"break-after":p()}],"break-before":[{"break-before":p()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[on,"auto",Y,q]}],basis:[{basis:[hr,"full","auto",a,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[se,hr,"auto","initial","none",q]}],grow:[{grow:["",se,Y,q]}],shrink:[{shrink:["",se,Y,q]}],order:[{order:[on,"first","last","none",Y,q]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[a,"screen",...O()]}],"min-w":[{"min-w":[a,"screen","none",...O()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[l]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",n,ys,In]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,Vl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ul,q]}],"font-family":[{font:[Ob,q,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Y,q]}],"line-clamp":[{"line-clamp":[se,"none",Y,Vl]}],leading:[{leading:[i,...M()]}],"list-image":[{"list-image":["none",Y,q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[se,"from-font","auto",Y,In]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[se,"auto",Y,q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:_()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},on,Y,q],radial:["",Y,q],conic:[on,Y,q]},Db,Ab]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[se,Y,q]}],"outline-w":[{outline:["",se,ys,In]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",h,zo,_o]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",g,zo,_o]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[se,In]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",f,zo,_o]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[se,Y,q]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[se]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[Y,q]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[se]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:_()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,q]}],filter:[{filter:["","none",Y,q]}],blur:[{blur:ee()}],brightness:[{brightness:[se,Y,q]}],contrast:[{contrast:[se,Y,q]}],"drop-shadow":[{"drop-shadow":["","none",b,zo,_o]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",se,Y,q]}],"hue-rotate":[{"hue-rotate":[se,Y,q]}],invert:[{invert:["",se,Y,q]}],saturate:[{saturate:[se,Y,q]}],sepia:[{sepia:["",se,Y,q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,q]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[se,Y,q]}],"backdrop-contrast":[{"backdrop-contrast":[se,Y,q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",se,Y,q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[se,Y,q]}],"backdrop-invert":[{"backdrop-invert":["",se,Y,q]}],"backdrop-opacity":[{"backdrop-opacity":[se,Y,q]}],"backdrop-saturate":[{"backdrop-saturate":[se,Y,q]}],"backdrop-sepia":[{"backdrop-sepia":["",se,Y,q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[se,"initial",Y,q]}],ease:[{ease:["linear","initial",v,Y,q]}],delay:[{delay:[se,Y,q]}],animate:[{animate:["none",d,Y,q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Y,q]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:P()}],"scale-x":[{"scale-x":P()}],"scale-y":[{"scale-y":P()}],"scale-z":[{"scale-z":P()}],"scale-3d":["scale-3d"],skew:[{skew:W()}],"skew-x":[{"skew-x":W()}],"skew-y":[{"skew-y":W()}],transform:[{transform:[Y,q,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Z()}],"translate-x":[{"translate-x":Z()}],"translate-y":[{"translate-y":Z()}],"translate-z":[{"translate-z":Z()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,q]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[se,ys,In,Vl]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bb=wb(zb);function nn(...e){return Bb(ib(e))}const xf=H2,vf=U2,ec=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(y0,{ref:r,className:nn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(V2,{asChild:!0,children:s.jsx(E0,{className:"h-4 w-4 opacity-50"})})]}));ec.displayName=y0.displayName;const z0=m.forwardRef(({className:e,...t},n)=>s.jsx(k0,{ref:n,className:nn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ob,{className:"h-4 w-4"})}));z0.displayName=k0.displayName;const B0=m.forwardRef(({className:e,...t},n)=>s.jsx(N0,{ref:n,className:nn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(E0,{className:"h-4 w-4"})}));B0.displayName=N0.displayName;const tc=m.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>s.jsx(G2,{children:s.jsxs(w0,{ref:o,className:nn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(z0,{}),s.jsx(Q2,{className:nn("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(B0,{})]})}));tc.displayName=w0.displayName;const $b=m.forwardRef(({className:e,...t},n)=>s.jsx(b0,{ref:n,className:nn("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$b.displayName=b0.displayName;const ht=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(j0,{ref:r,className:nn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none bg-popover hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(q2,{children:s.jsx(nb,{className:"h-4 w-4"})})}),s.jsx(K2,{children:t})]}));ht.displayName=j0.displayName;const Wb=m.forwardRef(({className:e,...t},n)=>s.jsx(S0,{ref:n,className:nn("-mx-1 my-1 h-px bg-muted",e),...t}));Wb.displayName=S0.displayName;const nc=m.forwardRef(({className:e,...t},n)=>s.jsx("label",{ref:n,className:nn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));nc.displayName="Label";function Hb(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[o,i]=m.useState(!1),[l,a]=m.useState(null),[c,u]=m.useState(!1),[h,g]=m.useState(!1),[f,b]=m.useState({name:"",address:"",phone:"",email:"",notes:"",price:"",cleanFrequency:"weekly"}),[w,x]=m.useState({name:"",address:"",phone:"",email:"",notes:"",price:"",cleanFrequency:"weekly"}),k=j=>j.charAt(0).toUpperCase()+j.slice(1).replace("-"," ");m.useEffect(()=>{v()},[]);const v=async()=>{try{console.log("fetchCustomers called");const j=await fetch(te("/api/admin/customers"),{credentials:"include"});if(j.ok){const M=await j.json();console.log("Fetched customers:",M.data),t(M.data)}else console.error("Failed to fetch customers, status:",j.status)}catch(j){console.error("Failed to fetch customers:",j)}finally{r(!1)}},d=async j=>{j.preventDefault();try{const M=await fetch(te("/api/admin/customers"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(M.ok)b({name:"",address:"",phone:"",email:"",notes:"",price:"",cleanFrequency:"weekly"}),i(!1),v();else{const I=await M.json();alert(`Failed to add customer: ${I.error}`)}}catch(M){console.error("Failed to add customer:",M),alert("Failed to add customer")}},p=j=>{a(j),x({name:j.name,address:j.address,phone:j.phone||"",email:j.email||"",notes:j.notes||"",price:j.price.toString(),cleanFrequency:j.cleanFrequency})},N=async(j,M)=>{console.log("handleArchiveCustomer called:",{customerId:j,isArchiving:M});try{const I={active:!M};console.log("Sending request body:",I);const z=await fetch(te(`/api/admin/customers/${j}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(I)});if(console.log("Response status:",z.status),console.log("Response ok:",z.ok),z.ok){const R=await z.json();console.log("Archive successful:",R),a(null),v()}else{const R=await z.json();console.error("Archive failed:",R),alert(`Failed to ${M?"archive":"restore"} customer: ${R.error}`)}}catch(I){console.error("Failed to archive customer:",I),alert("Failed to archive customer")}},y=async j=>{if(j.preventDefault(),!!l){u(!0);try{const M=await fetch(te(`/api/admin/customers/${l.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...w,active:l.active,latitude:l.latitude,longitude:l.longitude})});if(M.ok)a(null),v();else{const I=await M.json();alert(`Failed to update customer: ${I.error}`)}}catch(M){console.error("Failed to update customer:",M),alert("Failed to update customer")}finally{u(!1)}}},E=async()=>{try{(await fetch(te("/api/admin/customers/calculate-metrics"),{method:"POST",credentials:"include"})).ok?(await v(),alert("Customer metrics updated!")):alert("Failed to calculate metrics")}catch{alert("Error calculating metrics")}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsx(rr,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Management"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"View and manage customers, their addresses, and cleaning schedules."})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>g(!h),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:h?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Show Active"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Show Archived"]})}),s.jsxs("button",{onClick:E,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Calculate Metrics"]})]}),s.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Customer"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(j=>h?!j.active:j.active).map(j=>s.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${j.active?"":"opacity-60"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:j.name}),s.jsxs("div",{className:"flex items-start space-x-2 mb-2",children:[s.jsxs("svg",{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:Nt(j.address)})]}),j.phone&&s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.jsx("p",{className:"text-sm text-gray-500",children:nu(j.phone)})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Efficiency: ",j.targetTimeMinutes?s.jsxs("span",{className:j.targetTimeMinutes>=100?"text-green-600":j.targetTimeMinutes>=80?"text-yellow-600":"text-red-600",children:[j.targetTimeMinutes,"%"]}):s.jsx("span",{className:"text-gray-400",children:"Not set"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Wage Ratio: ",j.averageWageRatio?s.jsxs("span",{className:j.averageWageRatio<=55?"text-green-600":j.averageWageRatio<=60?"text-yellow-600":j.averageWageRatio<=65?"text-orange-600":"text-red-600",children:[j.averageWageRatio,"%"]}):s.jsx("span",{className:"text-gray-400",children:"Not set"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:k(j.cleanFrequency)}),!j.active&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Archived"})]})]}),s.jsx("button",{onClick:()=>p(j),className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Customer",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),s.jsx("div",{className:"space-y-2",children:j.email&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),j.email]})})]},j.id))}),o&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[s.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 z-10",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-6",children:s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Add New Customer"})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"name",children:"Customer Name *"}),s.jsx("input",{id:"name",type:"text",required:!0,value:f.name,onChange:j=>b({...f,name:j.target.value}),placeholder:"Enter customer name",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"address",children:"Address *"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"flex-1",children:s.jsx(Id,{value:f.address,onChange:j=>b({...f,address:j}),required:!0,placeholder:"Start typing address for suggestions...",className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})})}),f.address&&s.jsx(_d,{address:f.address,className:"mt-2"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"phone",children:"Phone"}),s.jsx("input",{id:"phone",type:"tel",value:f.phone,onChange:j=>b({...f,phone:j.target.value}),placeholder:"0000 000 000",maxLength:12,className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"price",children:"Price"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),s.jsx("input",{id:"price",type:"number",required:!0,value:f.price,onChange:j=>b({...f,price:j.target.value}),className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full pl-8"})]})]})]}),s.jsxs("div",{children:[s.jsx(nc,{htmlFor:"frequency",children:"Cleaning Frequency"}),s.jsxs(xf,{value:f.cleanFrequency,onValueChange:j=>b(M=>({...M,cleanFrequency:j})),children:[s.jsx(ec,{children:s.jsx(vf,{})}),s.jsxs(tc,{children:[s.jsx(ht,{value:"weekly",children:"Weekly"}),s.jsx(ht,{value:"fortnightly",children:"Fortnightly"}),s.jsx(ht,{value:"tri-weekly",children:"Tri-weekly"}),s.jsx(ht,{value:"monthly",children:"Monthly"}),s.jsx(ht,{value:"one-off",children:"One-off"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"notes",children:"Notes"}),s.jsx("textarea",{id:"notes",value:f.notes,onChange:j=>b({...f,notes:j.target.value}),placeholder:"Special instructions, access codes, etc.",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsxs("button",{type:"button",onClick:()=>i(!1),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),s.jsxs("button",{type:"submit",className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Customer"]})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[s.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 z-10",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"flex flex-col space-y-1.5 text-center sm:text-left mb-6",children:s.jsx("h2",{className:"text-lg font-semibold leading-none tracking-tight",children:"Edit Customer"})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-name",children:"Customer Name *"}),s.jsx("input",{id:"edit-name",type:"text",required:!0,value:w.name,onChange:j=>x({...w,name:j.target.value}),placeholder:"Enter customer name",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-address",children:"Address *"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"flex-1",children:s.jsx(Id,{value:w.address,onChange:j=>x({...w,address:j}),required:!0,placeholder:"Start typing address for suggestions...",className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})})}),s.jsx(_d,{address:w.address,className:"mt-2"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-phone",children:"Phone"}),s.jsx("input",{id:"edit-phone",type:"tel",value:w.phone,onChange:j=>x({...w,phone:j.target.value}),placeholder:"0000 000 000",maxLength:12,className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-price",children:"Price"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),s.jsx("input",{id:"edit-price",type:"number",required:!0,value:w.price,onChange:j=>x({...w,price:j.target.value}),className:"flex h-10 rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full pl-8"})]})]})]}),s.jsxs("div",{children:[s.jsx(nc,{htmlFor:"edit-frequency",children:"Cleaning Frequency"}),s.jsxs(xf,{value:w.cleanFrequency,onValueChange:j=>x(M=>({...M,cleanFrequency:j})),children:[s.jsx(ec,{children:s.jsx(vf,{})}),s.jsxs(tc,{children:[s.jsx(ht,{value:"weekly",children:"Weekly"}),s.jsx(ht,{value:"fortnightly",children:"Fortnightly"}),s.jsx(ht,{value:"tri-weekly",children:"Tri-weekly"}),s.jsx(ht,{value:"monthly",children:"Monthly"}),s.jsx(ht,{value:"one-off",children:"One-off"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"edit-notes",children:"Notes"}),s.jsx("textarea",{id:"edit-notes",value:w.notes,onChange:j=>x({...w,notes:j.target.value}),placeholder:"Special instructions, access codes, etc.",rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsxs("button",{type:"button",onClick:()=>N(l.id,l.active),className:`inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 ${l.active?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"bg-green-600 text-white hover:bg-green-700"}`,children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.active?s.jsxs(s.Fragment,{children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18M5 6v14a2 2 0 002 2h10a2 2 0 002-2V6m-3 0V4a2 2 0 00-2-2H9a2 2 0 00-2 2v2"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 11h4M10 15h4"})]}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.active?"Archive":"Restore"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>a(null),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),s.jsxs("button",{type:"submit",disabled:c,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-blue-600 text-white hover:bg-blue-700 h-10 px-4 py-2",children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 3v4a1 1 0 0 0 1 1h7"})]}),"Save"]})]})]})]})]})})]})})}function Ub(){const[e,t]=m.useState([]),[n,r]=m.useState([]),[o,i]=m.useState(!0),[l,a]=m.useState(!1),[c,u]=m.useState(null),[h,g]=m.useState(!1),[f,b]=m.useState(!1),[w,x]=m.useState({name:"",color:"#3B82F6",description:""}),[k,v]=m.useState({name:"",color:"#3B82F6"}),d=[{value:"#3B82F6",name:"Blue"},{value:"#10B981",name:"Green"},{value:"#F59E0B",name:"Orange"},{value:"#EF4444",name:"Red"},{value:"#8B5CF6",name:"Purple"},{value:"#06B6D4",name:"Cyan"},{value:"#84CC16",name:"Lime"},{value:"#F97316",name:"Orange"}];m.useEffect(()=>{p(),N()},[]);const p=async()=>{try{const R=await fetch(te("/api/admin/teams"),{credentials:"include"});if(R.ok){const U=await R.json();t(U.data)}}catch(R){console.error("Failed to fetch teams:",R)}finally{i(!1)}},N=async()=>{try{const R=await fetch(te("/api/admin/staff"),{credentials:"include"});if(R.ok){const U=await R.json();r(U.data)}}catch(R){console.error("Failed to fetch staff:",R)}},y=async R=>{R.preventDefault();try{const U=await fetch(te("/api/admin/teams"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:w.name,colorHex:w.color,description:w.description})});if(U.ok)x({name:"",color:"#3B82F6",description:""}),a(!1),p();else{const L=await U.json();alert(`Failed to add team: ${L.error}`)}}catch(U){console.error("Failed to add team:",U),alert("Failed to add team")}},E=async R=>{try{const U=await fetch(te(`/api/admin/teams/${R.id}`),{credentials:"include"});if(U.ok){const A=(await U.json()).data;u(A),v({name:A.name,color:A.colorHex})}}catch(U){console.error("Failed to fetch team details:",U),u(R),v({name:R.name,color:R.colorHex})}},j=async R=>{if(R.preventDefault(),!!c){g(!0);try{const U=await fetch(te(`/api/admin/teams/${c.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:k.name,colorHex:k.color})});if(U.ok)u(null),p();else{const L=await U.json();alert(`Failed to update team: ${L.error}`)}}catch(U){console.error("Failed to update team:",U),alert("Failed to update team")}finally{g(!1)}}},M=async(R,U)=>{try{const L=await fetch(te(`/api/admin/teams/${R}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({active:!U})});if(L.ok)p();else{const A=await L.json();alert(`Failed to ${U?"archive":"restore"} team: ${A.error}`)}}catch(L){console.error("Failed to archive team:",L),alert("Failed to archive team")}},I=async(R,U)=>{try{const L=await fetch(te(`/api/admin/teams/${R}/members`),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:U})});if(L.ok){if(c){const A=await fetch(te(`/api/admin/teams/${c.id}`),{credentials:"include"});if(A.ok){const V=await A.json();u(V.data)}}p()}else{const A=await L.json();alert(A.error||"Failed to add team member")}}catch(L){console.error("Failed to add team member:",L),alert("Failed to add team member")}},z=async(R,U)=>{try{const L=await fetch(te(`/api/admin/teams/${R}/members/${U}`),{method:"DELETE",credentials:"include"});if(L.ok){if(p(),c){const A=await fetch(te(`/api/admin/teams/${R}`),{credentials:"include"});if(A.ok){const V=await A.json();u(V.data)}}}else{const A=await L.json();alert(`Failed to remove team member: ${A.error}`)}}catch(L){console.error("Failed to remove team member:",L),alert("Failed to remove team member")}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):s.jsxs(rr,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Management"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Create and manage cleaning teams, assign members, and track performance."})]}),s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("button",{onClick:()=>b(!f),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:f?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Show Active"]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Show Archived"]})}),s.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Team"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(R=>f?!R.active:R.active).map(R=>s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 relative",children:[s.jsx("button",{onClick:()=>E(R),className:"absolute top-6 right-6 inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Edit Team",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:R.colorHex},children:R.name.charAt(0)}),s.jsx("h3",{className:"ml-3 text-lg font-medium text-gray-900",children:R.name})]}),!R.active&&s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Archived"})}),s.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:[s.jsxs("div",{className:"mb-2 flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("span",{className:"font-medium",children:"Team Members:"})]}),R.members&&R.members.length>0?s.jsx("div",{className:"space-y-1 ml-6 mb-5",children:R.members.map(U=>s.jsxs("div",{className:"text-gray-600",children:[U.firstName," ",U.lastName]},U.id))}):s.jsx("div",{className:"text-gray-400 italic ml-6 mb-5",children:"No members assigned"}),s.jsxs("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded",children:[s.jsx("div",{className:"text-gray-800 font-medium",children:"Efficiency:"}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Coming soon..."})]}),R.activeJob&&s.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[s.jsx("div",{className:"text-blue-800 font-medium",children:"Currently cleaning:"}),s.jsx("div",{className:"text-blue-700",children:R.activeJob.customerName}),s.jsx("div",{className:"text-blue-600 text-xs",children:Nt(R.activeJob.customerAddress)})]})]})]},R.id))}),e.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-gray-500",children:"No teams found. Create your first team to get started."})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md relative",children:[s.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Team"}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Name *"}),s.jsx("input",{type:"text",required:!0,value:w.name,onChange:R=>x({...w,name:R.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"e.g., Cleaning Team A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Color"}),s.jsx("div",{className:"mt-2 grid grid-cols-4 gap-2",children:d.map(R=>s.jsx("button",{type:"button",onClick:()=>x({...w,color:R.value}),className:`w-full h-10 rounded-md border-2 ${w.color===R.value?"border-gray-900":"border-gray-200"}`,style:{backgroundColor:R.value},title:R.name},R.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{value:w.description,onChange:R=>x({...w,description:R.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",rows:3,placeholder:"Optional description of the team's responsibilities..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>a(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),s.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Team"})]})]})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[s.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Team"}),s.jsxs("form",{onSubmit:j,children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Name"}),s.jsx("input",{type:"text",required:!0,value:k.name,onChange:R=>v({...k,name:R.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"w-12",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"color",required:!0,value:k.color,onChange:R=>v({...k,color:R.target.value}),className:"block w-full h-[42px] rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:k.color},title:"Team Color"})]})]})}),s.jsxs("div",{className:"mt-6 border-t pt-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Members:"}),c.members&&c.members.length>0?s.jsx("div",{className:"space-y-2",children:c.members.map(R=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[R.firstName.charAt(0),R.lastName.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[R.firstName," ",R.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:R.role})]})]}),s.jsx("button",{type:"button",onClick:()=>z(c.id,R.id),className:"text-red-600 hover:text-red-800 hover:bg-red-50 p-1 rounded transition-colors",title:"Remove member",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},R.id))}):s.jsx("div",{className:"text-sm text-gray-500 italic p-3 bg-gray-50 rounded-lg border border-gray-200",children:"No members assigned"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Member:"}),s.jsxs("select",{onChange:R=>{const U=n.find(L=>L.id===parseInt(R.target.value));U&&I(c.id,U.id)},className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",defaultValue:"",children:[s.jsx("option",{value:"",disabled:!0,children:"Select staff member..."}),n.filter(R=>R.active?!e.some(L=>L.members&&L.members.some(A=>A.id===R.id)):!1).map(R=>s.jsxs("option",{value:R.id,children:[R.firstName," ",R.lastName]},R.id))]})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4",children:[s.jsx("button",{type:"button",onClick:()=>M(c.id,c.active),className:`inline-flex items-center h-[42px] px-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${c.active?"border-red-300 text-red-700 bg-red-50 hover:bg-red-100 focus:ring-red-500":"border-green-300 text-green-700 bg-green-50 hover:bg-green-100 focus:ring-green-500"}`,title:c.active?"Archive Team":"Restore Team",children:c.active?s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}):s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>u(null),className:"inline-flex items-center h-[42px] px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Cancel",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("button",{type:"submit",disabled:h,className:"inline-flex items-center h-[42px] px-4 border border-transparent rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Save Changes",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]})]})]})]})})]})}function yf(e){if(!e)return"";const[t,n]=e.split(":").map(Number);if(isNaN(t)||isNaN(n))return e;const r=new Date;return r.setHours(t,n,0,0),r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Vb(){var U,L,A,V;const[e,t]=m.useState(null),[n,r]=m.useState(!0),[o,i]=m.useState(null),[l,a]=m.useState("week"),[c,u]=m.useState("thisWeek"),[h,g]=m.useState("timesheets"),[f,b]=m.useState(new Set),[w,x]=m.useState(new Map),[k,v]=m.useState(new Set),[d,p]=m.useState(null);m.useEffect(()=>{E(),N()},[l,c]),m.useEffect(()=>{const C=()=>{h==="timesheets"&&y()};return window.addEventListener("settingsUpdated",C),()=>{window.removeEventListener("settingsUpdated",C)}},[h]);const N=async()=>{try{const C=await fetch(te("/api/admin/settings/lunch-break"),{credentials:"include"}),O=await C.json();C.ok&&p(O.data)}catch{}},y=async()=>{try{const C=await fetch(te(`/api/admin/reports/timesheets?weekFilter=${c}`),{credentials:"include"}),O=await C.json();C.ok?t(S=>S?{...S,timesheets:O.data}:{timesheets:O.data}):i(O.error||"Failed to fetch timesheet data")}catch{i("Failed to fetch timesheet data")}},E=async()=>{try{r(!0),h==="timesheets"?await y():t({timesheets:{weekly:[],stats:{totalHours:0,totalJobs:0}},customerAnalytics:{averageTimePerJob:2.5,totalJobs:142,totalRevenue:35500,topCustomers:[{name:"ABC Corp",jobs:25,revenue:6250,avgTime:2.2},{name:"XYZ Ltd",jobs:18,revenue:4500,avgTime:2.8},{name:"123 Industries",jobs:15,revenue:3750,avgTime:2.1}]},staffPerformance:{efficiency:87,overtimeHours:28,topPerformers:[{name:"Mike Wilson",efficiency:92,jobsCompleted:72,avgTime:2.1},{name:"John Smith",efficiency:88,jobsCompleted:62,avgTime:2.3},{name:"Sarah Johnson",efficiency:85,jobsCompleted:48,avgTime:2.4}]},financial:{revenue:35500,costs:28400,profit:7100,monthlyTrend:[{month:"Jan",revenue:32e3,costs:25600,profit:6400},{month:"Feb",revenue:33500,costs:26800,profit:6700},{month:"Mar",revenue:35500,costs:28400,profit:7100}]}})}catch{}finally{r(!1)}},j=C=>{const O=new Set(f);O.has(C)?O.delete(C):O.add(C),b(O)},M=(C,O)=>{const S=C[O],T=`${C.staffName}-${O}`,_=w.has(T),G=w.get(T),X=_?G:S.lunchBreak;let F=S.hours;return _&&(S.lunchBreak&&!X?F+=.5:!S.lunchBreak&&X&&(F-=.5)),F=Math.round(F*100)/100,{hours:F,jobs:S.jobs,lunchBreak:X,startTime:S.startTime||"-",endTime:S.endTime||"-",lunchBreakDebug:S.lunchBreakDebug}},I=C=>{let O=0;return["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(T=>{const _=M(C,T);O+=_.hours}),Math.round(O*100)/100},z=async(C,O,S)=>{const T=`${C}-${O}`;v(_=>new Set(_).add(T));try{const _=new Date,G=_.getDay(),H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(O)-G,Q=new Date(_);if(Q.setDate(_.getDate()+H),(await fetch("/api/admin/timesheets/lunch-break",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({staffName:C,date:Q.toISOString().split("T")[0],hasLunchBreak:S})})).ok){const B=`${C}-${O}`;x(ee=>{const ne=new Map(ee);return ne.set(B,S),ne})}else x(B=>{const ee=new Map(B);return ee.delete(`${C}-${O}`),ee}),alert("Failed to update lunch break override. Please try again.")}catch{}finally{v(_=>{const G=new Set(_);return G.delete(T),G})}},R=[{id:"timesheets",name:"Timesheets",icon:"📋"},{id:"customers",name:"Customer Analytics",icon:"👥"},{id:"staff",name:"Staff Performance",icon:"👨‍💼"},{id:"financial",name:"Financial",icon:"💰"}];return n?s.jsx(rr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading reports..."})})}):s.jsx(rr,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Comprehensive insights into your cleaning operations."})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[h==="timesheets"&&s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"weekFilter",className:"text-sm font-medium text-gray-700",children:"Week:"}),s.jsxs("select",{id:"weekFilter",value:c,onChange:C=>u(C.target.value),className:"block w-32 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"thisWeek",children:"This Week"}),s.jsx("option",{value:"lastWeek",children:"Last Week"})]})]}),s.jsx("label",{htmlFor:"dateRange",className:"text-sm font-medium text-gray-700",children:"Date Range:"}),s.jsxs("select",{id:"dateRange",value:l,onChange:C=>a(C.target.value),className:"block w-32 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"quarter",children:"This Quarter"})]})]})]})}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:R.map(C=>s.jsxs("button",{onClick:()=>g(C.id),className:`
                  py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2
                  ${h===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[s.jsx("span",{children:C.icon}),s.jsx("span",{children:C.name})]},C.id))})}),s.jsxs("div",{className:"space-y-6",children:[h==="timesheets"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[(e==null?void 0:e.timesheets.stats.totalHours)||0,"h"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Hours This Week"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:(e==null?void 0:e.timesheets.stats.totalJobs)||0}),s.jsx("p",{className:"text-sm text-gray-500",children:"Total Jobs"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Weekly Timesheet"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Member"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tuesday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wednesday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thursday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Friday"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.timesheets.weekly.map((C,O)=>{const S=f.has(C.staffName);return s.jsxs(it.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>j(C.staffName),className:"text-gray-400 hover:text-gray-600 transition-transform duration-200",style:{transform:S?"rotate(180deg)":"rotate(0deg)"},children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),s.jsx("span",{children:C.staffName})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=M(C,"monday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,Q,J,B,ee,ne,P,W;if(!d)return null;const _=((Q=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:Q.passed)===!1,G=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(P=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:P[1])==null?void 0:W.passed)===!1;return _||G||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=M(C,"tuesday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,Q,J,B,ee,ne,P,W;if(!d)return null;const _=((Q=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:Q.passed)===!1,G=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(P=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:P[1])==null?void 0:W.passed)===!1;return _||G||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=M(C,"wednesday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,Q,J,B,ee,ne,P,W;if(!d)return null;const _=((Q=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:Q.passed)===!1,G=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(P=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:P[1])==null?void 0:W.passed)===!1;return _||G||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=M(C,"thursday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,Q,J,B,ee,ne,P,W;if(!d)return null;const _=((Q=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:Q.passed)===!1,G=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(P=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:P[1])==null?void 0:W.passed)===!1;return _||G||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-1",children:(()=>{const T=M(C,"friday");return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:T.hours>0&&d?T.hours>=d.minHours&&T.jobs>=2?"":"text-red-600":"",children:T.hours>0?`${T.hours}h`:"-"}),T.hours>0&&(()=>{var F,H,Q,J,B,ee,ne,P,W;if(!d)return null;const _=((Q=(H=(F=T.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:Q.passed)===!1,G=((ee=(B=(J=T.lunchBreakDebug)==null?void 0:J.conditions)==null?void 0:B[3])==null?void 0:ee.passed)===!1,X=((W=(P=(ne=T.lunchBreakDebug)==null?void 0:ne.conditions)==null?void 0:P[1])==null?void 0:W.passed)===!1;return _||G||X?s.jsx("span",{title:"One or more lunch break conditions failed - check expanded details",className:"text-red-500",children:"⚠️"}):null})()]})})()})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:[I(C),"h"]})]}),S&&s.jsxs(it.Fragment,{children:[s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"Lunch Break"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var H;const _=M(C,T),G=`${C.staffName}-${T}`,X=k.has(G),F=(H=_.lunchBreakDebug)==null?void 0:H.hasOverride;return s.jsx("td",{className:"px-6 py-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:_.lunchBreak,onChange:Q=>{z(C.staffName,T,Q.target.checked)},disabled:X,className:`rounded border-gray-300 text-orange-600 focus:ring-orange-500 ${X?"opacity-50 cursor-not-allowed":""}`},`${C.staffName}-${T}-${_.lunchBreak}`),X&&s.jsx("div",{className:"ml-2 w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"})]}),F&&s.jsxs("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("title",{children:"Manual override applied"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]})]})},`${T}-lunch`)}),s.jsx("td",{className:"px-6 py-3"})]},`${C.staffName}-lunch`),s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"Start"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var F,H,Q,J,B;const _=M(C,T),G=((Q=(H=(F=_.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[2])==null?void 0:Q.passed)===!1,X=(B=(J=_.lunchBreakDebug)==null?void 0:J.rules)==null?void 0:B.startTime;return s.jsxs("td",{className:`px-6 py-3 text-sm text-center ${G?"text-red-600":"text-gray-600"}`,children:[_.startTime,G&&X?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["(>= ",yf(X),")"]})]}):""]},`${T}-start`)}),s.jsx("td",{className:"px-6 py-3"})]},`${C.staffName}-start`),s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"End"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var F,H,Q,J,B;const _=M(C,T),G=((Q=(H=(F=_.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[3])==null?void 0:Q.passed)===!1,X=(B=(J=_.lunchBreakDebug)==null?void 0:J.rules)==null?void 0:B.finishTime;return s.jsxs("td",{className:`px-6 py-3 text-sm text-center ${G?"text-red-600":"text-gray-600"}`,children:[_.endTime,G&&X?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["(>= ",yf(X),")"]})]}):""]},`${T}-end`)}),s.jsx("td",{className:"px-6 py-3"})]},`${C.staffName}-end`),s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 text-sm text-gray-600 font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-6"}),s.jsx("span",{children:"Cleans"})]})}),["monday","tuesday","wednesday","thursday","friday"].map(T=>{var F,H,Q,J,B;const _=M(C,T),G=((Q=(H=(F=_.lunchBreakDebug)==null?void 0:F.conditions)==null?void 0:H[1])==null?void 0:Q.passed)===!1,X=(B=(J=_.lunchBreakDebug)==null?void 0:J.rules)==null?void 0:B.minJobs;return s.jsxs("td",{className:`px-6 py-3 text-sm text-center ${G?"text-red-600":"text-gray-600"}`,children:[_.jobs,G&&X?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsxs("span",{className:"text-xs",children:["(>= ",X,")"]})]}):""]},`${T}-jobs`)}),s.jsx("td",{className:"px-6 py-3"})]},`${O}-cleans`)]})]},C.staffName)})})]})})]})]}),h==="customers"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Average Time"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[e==null?void 0:e.customerAnalytics.averageTimePerJob,"h"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"per job"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Jobs"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:e==null?void 0:e.customerAnalytics.totalJobs}),s.jsx("p",{className:"text-sm text-gray-500",children:"completed"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Total Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["$",(U=e==null?void 0:e.customerAnalytics.totalRevenue)==null?void 0:U.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Avg Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["$",e!=null&&e.customerAnalytics.totalRevenue&&(e!=null&&e.customerAnalytics.totalJobs)?Math.round(e.customerAnalytics.totalRevenue/e.customerAnalytics.totalJobs):0]}),s.jsx("p",{className:"text-sm text-gray-500",children:"per job"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Customers"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jobs"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.customerAnalytics.topCustomers.map((C,O)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.jobs}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.revenue.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.avgTime,"h"]})]},O))})]})})]})]}),h==="staff"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Overall Efficiency"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[e==null?void 0:e.staffPerformance.efficiency,"%"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"team average"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Overtime Hours"}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[e==null?void 0:e.staffPerformance.overtimeHours,"h"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Active Staff"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e==null?void 0:e.staffPerformance.topPerformers.length}),s.jsx("p",{className:"text-sm text-gray-500",children:"team members"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Member"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Efficiency"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jobs Completed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.staffPerformance.topPerformers.map((C,O)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.efficiency,"%"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.jobsCompleted}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[C.avgTime,"h"]})]},O))})]})})]})]}),h==="financial"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Revenue"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",(L=e==null?void 0:e.financial.revenue)==null?void 0:L.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Costs"}),s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["$",(A=e==null?void 0:e.financial.costs)==null?void 0:A.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Profit"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["$",(V=e==null?void 0:e.financial.profit)==null?void 0:V.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-500",children:"this period"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Trend"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Costs"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.financial.monthlyTrend.map((C,O)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.month}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.revenue.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.costs.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",C.profit.toLocaleString()]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[Math.round(C.profit/C.revenue*100),"%"]})]},O))})]})})]})]})]})]})})}function Gb(){const[e,t]=m.useState({minHours:5,durationMinutes:30,startTime:"09:00",finishTime:"17:00"}),[n,r]=m.useState({radiusMeters:5e4}),[o,i]=m.useState([]),[l,a]=m.useState({priceMin:"",priceMax:"",allottedMinutes:""}),[c,u]=m.useState(null),[h,g]=m.useState({staffStartTime:"08:00",payRatePerHour:25}),[f,b]=m.useState("lunch-break"),[w,x]=m.useState(!0),[k,v]=m.useState(!1),[d,p]=m.useState(!1),[N,y]=m.useState(null);m.useEffect(()=>{E()},[]);const E=async()=>{x(!0),y(null);try{const O=await(await fetch(te("/api/admin/settings/lunch-break"),{credentials:"include"})).json();O.success&&t(O.data);const T=await(await fetch(te("/api/admin/settings/price-tiers"),{credentials:"include"})).json();T.success&&i(T.data);const G=await(await fetch(te("/api/admin/settings/geolocation-radius"),{credentials:"include"})).json();G.success&&r(G.data)}catch{y("Failed to load settings")}finally{x(!1)}},j=async C=>{C.preventDefault(),v(!0),y(null),p(!1);try{const O=await fetch(te("/api/admin/settings/lunch-break"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),S=await O.json();O.ok&&S.success?(p(!0),setTimeout(()=>p(!1),3e3),window.dispatchEvent(new CustomEvent("settingsUpdated"))):y(S.error||"Failed to save lunch break settings")}catch{y("Failed to save lunch break settings")}finally{v(!1)}},M=async C=>{C.preventDefault(),v(!0),y(null),p(!1);try{const O=await fetch(te("/api/admin/settings/geolocation-radius"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}),S=await O.json();O.ok&&S.success?(p(!0),setTimeout(()=>p(!1),3e3)):y(S.error||"Failed to save geolocation radius settings")}catch{y("Failed to save geolocation radius settings")}finally{v(!1)}},I=async C=>{if(C.preventDefault(),!l.priceMin||!l.priceMax||!l.allottedMinutes){y("All fields are required");return}v(!0),y(null);try{const O=await fetch(te("/api/admin/settings/price-tiers"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priceMin:Number(l.priceMin),priceMax:Number(l.priceMax),allottedMinutes:Number(l.allottedMinutes)})}),S=await O.json();O.ok&&S.success?(i([...o,S.data]),a({priceMin:"",priceMax:"",allottedMinutes:""}),p(!0),setTimeout(()=>p(!1),3e3)):y(S.error||"Failed to add price tier")}catch{y("Failed to add price tier")}finally{v(!1)}},z=async C=>{if(confirm("Are you sure you want to delete this price tier?")){v(!0),y(null);try{const O=await fetch(te(`/api/admin/settings/price-tiers/${C}`),{method:"DELETE",credentials:"include"}),S=await O.json();O.ok&&S.success?(i(o.filter(T=>T.id!==C)),p(!0),setTimeout(()=>p(!1),3e3)):y(S.error||"Failed to delete price tier")}catch{y("Failed to delete price tier")}finally{v(!1)}}},R=C=>{u({id:C.id,priceMin:String(C.priceMin),priceMax:String(C.priceMax),allottedMinutes:String(C.allottedMinutes)})},U=async C=>{if(C.preventDefault(),!!c){v(!0),y(null);try{const O=await fetch(te(`/api/admin/settings/price-tiers/${c.id}`),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({priceMin:Number(c.priceMin),priceMax:Number(c.priceMax),allottedMinutes:Number(c.allottedMinutes)})}),S=await O.json();O.ok&&S.success?(i(o.map(T=>T.id===c.id?S.data:T)),u(null),p(!0),setTimeout(()=>p(!1),3e3)):y(S.error||"Failed to update price tier")}catch{y("Failed to update price tier")}finally{v(!1)}}},L=()=>{u(null)},A=C=>{C.preventDefault(),p(!0),setTimeout(()=>p(!1),2e3)},V=[{id:"lunch-break",name:"Lunch Break Settings",icon:"🍽️"},{id:"geolocation-radius",name:"Geolocation Radius",icon:"📍"},{id:"price-tiers",name:"Customer Price Tiers",icon:"📊"},{id:"timesheet-settings",name:"Timesheet Settings",icon:"🕒"}];return s.jsx(rr,{children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),s.jsx("p",{className:"mb-6 text-gray-600",children:"Configure system settings and business rules."}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:V.map(C=>s.jsxs("button",{onClick:()=>b(C.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:C.icon}),C.name]},C.id))})}),w&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading settings..."})]}),!w&&s.jsxs(s.Fragment,{children:[d&&s.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:s.jsx("p",{className:"text-green-800 text-sm",children:"Settings saved successfully!"})}),N&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-red-800 text-sm",children:N})}),f==="lunch-break"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Lunch Break Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure lunch break deduction rules for staff timesheets."}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum hours worked for lunch break"}),s.jsx("input",{type:"number",min:1,max:12,value:e.minHours,onChange:C=>t({...e,minHours:Number(C.target.value)}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff must work at least this many hours to receive a lunch break deduction."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lunch break duration (minutes)"}),s.jsx("input",{type:"number",min:10,max:120,step:5,value:e.durationMinutes,onChange:C=>t({...e,durationMinutes:Number(C.target.value)}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"How many minutes to deduct for lunch break."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start time for lunch break eligibility"}),s.jsx("input",{type:"time",value:e.startTime,onChange:C=>t({...e,startTime:C.target.value}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff must start work before this time to be eligible for lunch break."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Finish time for lunch break eligibility"}),s.jsx("input",{type:"time",value:e.finishTime,onChange:C=>t({...e,finishTime:C.target.value}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff must finish work after this time to be eligible for lunch break."})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("button",{type:"submit",disabled:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:k?"Saving...":"Save Lunch Break Settings"})})]})]}),f==="geolocation-radius"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Geolocation Radius Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure the maximum distance for staff to see nearby customers on their dashboard."}),s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Search Radius"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("input",{type:"number",min:1,max:1e6,step:1,value:n.radiusMeters,onChange:C=>r({...n,radiusMeters:Number(C.target.value)}),className:"block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-sm text-gray-500",children:"meters"}),s.jsxs("span",{className:"text-sm text-gray-400",children:["(",(n.radiusMeters/1e3).toFixed(1)," km)"]})]}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Staff will only see customers within this distance from their current location."})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"How it works"}),s.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[s.jsx("p",{children:"• Staff must enable location access on their device"}),s.jsx("p",{children:"• Only customers within the specified radius will appear"}),s.jsx("p",{children:"• This helps staff focus on nearby jobs and reduces travel time"}),s.jsx("p",{children:"• Recommended: 10-50km depending on your service area"})]})]})]})}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("button",{type:"submit",disabled:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:k?"Saving...":"Save Radius Settings"})})]})]}),f==="price-tiers"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Customer Price Tiers"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Define time allocation tiers based on customer pricing to help with job planning and efficiency calculations."}),s.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Price Tier"}),s.jsxs("form",{onSubmit:I,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Min ($)"}),s.jsx("input",{type:"number",min:0,step:.01,value:l.priceMin,onChange:C=>a({...l,priceMin:C.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Max ($)"}),s.jsx("input",{type:"number",min:0,step:.01,value:l.priceMax,onChange:C=>a({...l,priceMax:C.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allotted Minutes"}),s.jsx("input",{type:"number",min:1,value:l.allottedMinutes,onChange:C=>a({...l,allottedMinutes:C.target.value}),className:"block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"60",required:!0})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"submit",disabled:k,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:k?"Adding...":"Add Tier"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Price Tiers"}),o.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No price tiers configured yet."}),s.jsx("p",{className:"text-sm",children:"Add your first price tier above to get started."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price Range"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allotted Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(C=>s.jsx("tr",{children:(c==null?void 0:c.id)===C.id?s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"number",min:0,step:.01,value:c.priceMin,onChange:O=>u({...c,priceMin:O.target.value}),className:"block w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Min"}),s.jsx("input",{type:"number",min:0,step:.01,value:c.priceMax,onChange:O=>u({...c,priceMax:O.target.value}),className:"block w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Max"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsx("input",{type:"number",min:1,value:c.allottedMinutes,onChange:O=>u({...c,allottedMinutes:O.target.value}),className:"block w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Minutes"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:U,disabled:k,className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Save changes",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("button",{onClick:L,disabled:k,className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Cancel edit",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",Number(C.priceMin).toFixed(2)," - $",Number(C.priceMax).toFixed(2)]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[Math.floor(C.allottedMinutes/60),"h ",C.allottedMinutes%60,"m"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>R(C),disabled:k,className:"inline-flex items-center p-2 border border-gray-300 rounded text-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",title:"Edit tier",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>z(C.id),disabled:k,className:"inline-flex items-center p-2 border border-red-300 rounded text-sm text-red-700 bg-red-50 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",title:"Delete tier",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]})},C.id))})]})})]})]}),f==="timesheet-settings"&&s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Timesheet Settings"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Configure staff start time and pay rate for timesheets. These values will be used for future timesheet features."}),s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Start Time"}),s.jsx("input",{type:"time",value:h.staffStartTime,onChange:C=>g({...h,staffStartTime:C.target.value}),className:"mt-1 block w-32 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"This time will be used as the default staff start time for timesheets."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Pay Rate (per hour)"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"number",min:0,step:.01,value:h.payRatePerHour,onChange:C=>g({...h,payRatePerHour:Number(C.target.value)}),className:"block w-32 border border-gray-300 rounded-md pl-7 pr-3 py-2 focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"This rate is used for calculating labor costs and efficiency metrics."})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Timesheet Settings"})})]})]})]})]})})}function _n({children:e,requiredRole:t}){const{user:n,loading:r}=co();return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-gray-600",children:"Loading..."})}):n?t&&n.role!==t&&n.role!=="admin"?s.jsx(Ri,{to:n.role==="staff"?"/staff/dashboard":"/admin"}):s.jsx(s.Fragment,{children:e}):s.jsx(Ri,{to:"/login"})}function Ri({to:e}){const[,t]=Ji();return it.useEffect(()=>{t(e)},[e,t]),null}function Qb(){const{user:e}=co();return s.jsxs(py,{children:[s.jsx($t,{path:"/login",component:xy}),s.jsx($t,{path:"/staff/dashboard",children:s.jsx(_n,{requiredRole:"staff",children:s.jsx(Sy,{})})}),s.jsx($t,{path:"/admin",children:s.jsx(_n,{requiredRole:"admin",children:s.jsx(My,{})})}),s.jsx($t,{path:"/admin/staff",children:s.jsx(_n,{requiredRole:"admin",children:s.jsx(Ly,{})})}),s.jsx($t,{path:"/admin/customers",children:s.jsx(_n,{requiredRole:"admin",children:s.jsx(Hb,{})})}),s.jsx($t,{path:"/admin/teams",children:s.jsx(_n,{requiredRole:"admin",children:s.jsx(Ub,{})})}),s.jsx($t,{path:"/admin/reports",children:s.jsx(_n,{requiredRole:"admin",children:s.jsx(Vb,{})})}),s.jsx($t,{path:"/admin/settings",children:s.jsx(_n,{requiredRole:"admin",children:s.jsx(Gb,{})})}),s.jsx($t,{path:"/",children:e?s.jsx(Ri,{to:e.role==="admin"||e.role==="manager"?"/admin":"/staff/dashboard"}):s.jsx(Ri,{to:"/login"})})]})}const Kb=new Iv;Gl.createRoot(document.getElementById("root")).render(s.jsx(it.StrictMode,{children:s.jsx(zv,{client:Kb,children:s.jsx(sp,{children:s.jsx(Qb,{})})})}));
